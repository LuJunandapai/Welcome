<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java MVC | 除非世界颠倒</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/Welcome/img/logo.svg">
    <meta name="description" content="螃蟹不能剥我的壳，笔记本不可能在写我，我不可能落在枫叶上雪花上，而你不可能想我 ...">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/Welcome/assets/css/0.styles.dc2e030a.css" as="style"><link rel="preload" href="/Welcome/assets/js/app.62c113e7.js" as="script"><link rel="preload" href="/Welcome/assets/js/8.d7055a2e.js" as="script"><link rel="preload" href="/Welcome/assets/js/1.ed48a7ee.js" as="script"><link rel="preload" href="/Welcome/assets/js/2.9a3f7cc9.js" as="script"><link rel="preload" href="/Welcome/assets/js/42.f7f7482f.js" as="script"><link rel="prefetch" href="/Welcome/assets/js/10.4c48ef06.js"><link rel="prefetch" href="/Welcome/assets/js/11.b879bea0.js"><link rel="prefetch" href="/Welcome/assets/js/12.fb12f646.js"><link rel="prefetch" href="/Welcome/assets/js/13.cbffec13.js"><link rel="prefetch" href="/Welcome/assets/js/14.235162ad.js"><link rel="prefetch" href="/Welcome/assets/js/15.f726175e.js"><link rel="prefetch" href="/Welcome/assets/js/16.c9eb623a.js"><link rel="prefetch" href="/Welcome/assets/js/17.021a23c6.js"><link rel="prefetch" href="/Welcome/assets/js/18.b9380bdc.js"><link rel="prefetch" href="/Welcome/assets/js/19.b245b3c0.js"><link rel="prefetch" href="/Welcome/assets/js/20.60eb44b8.js"><link rel="prefetch" href="/Welcome/assets/js/21.4ee97050.js"><link rel="prefetch" href="/Welcome/assets/js/22.315eec61.js"><link rel="prefetch" href="/Welcome/assets/js/23.8431a4bd.js"><link rel="prefetch" href="/Welcome/assets/js/24.51ef1c6f.js"><link rel="prefetch" href="/Welcome/assets/js/25.72511ca8.js"><link rel="prefetch" href="/Welcome/assets/js/26.1bf3f67c.js"><link rel="prefetch" href="/Welcome/assets/js/27.ce57d01c.js"><link rel="prefetch" href="/Welcome/assets/js/28.f46d854f.js"><link rel="prefetch" href="/Welcome/assets/js/29.c5eb4221.js"><link rel="prefetch" href="/Welcome/assets/js/30.0be5fc4c.js"><link rel="prefetch" href="/Welcome/assets/js/31.6bde0d5c.js"><link rel="prefetch" href="/Welcome/assets/js/32.34f5889a.js"><link rel="prefetch" href="/Welcome/assets/js/33.2ca0ef80.js"><link rel="prefetch" href="/Welcome/assets/js/34.1717fdcc.js"><link rel="prefetch" href="/Welcome/assets/js/35.50467365.js"><link rel="prefetch" href="/Welcome/assets/js/36.386e40d0.js"><link rel="prefetch" href="/Welcome/assets/js/37.4338b548.js"><link rel="prefetch" href="/Welcome/assets/js/38.5aa7ff9c.js"><link rel="prefetch" href="/Welcome/assets/js/39.caf6790b.js"><link rel="prefetch" href="/Welcome/assets/js/4.ffe2048e.js"><link rel="prefetch" href="/Welcome/assets/js/40.2504a486.js"><link rel="prefetch" href="/Welcome/assets/js/41.e7130bc9.js"><link rel="prefetch" href="/Welcome/assets/js/43.ac1c5fa2.js"><link rel="prefetch" href="/Welcome/assets/js/44.ef3652d5.js"><link rel="prefetch" href="/Welcome/assets/js/45.9b60de4e.js"><link rel="prefetch" href="/Welcome/assets/js/46.df098548.js"><link rel="prefetch" href="/Welcome/assets/js/47.91f84937.js"><link rel="prefetch" href="/Welcome/assets/js/48.4f6c2f9e.js"><link rel="prefetch" href="/Welcome/assets/js/49.b85e5dc1.js"><link rel="prefetch" href="/Welcome/assets/js/5.2488397c.js"><link rel="prefetch" href="/Welcome/assets/js/50.20e79c78.js"><link rel="prefetch" href="/Welcome/assets/js/51.82c31a6c.js"><link rel="prefetch" href="/Welcome/assets/js/52.6508031e.js"><link rel="prefetch" href="/Welcome/assets/js/53.7d686c92.js"><link rel="prefetch" href="/Welcome/assets/js/54.d40bb354.js"><link rel="prefetch" href="/Welcome/assets/js/55.852d6024.js"><link rel="prefetch" href="/Welcome/assets/js/56.37575e79.js"><link rel="prefetch" href="/Welcome/assets/js/57.348d9f72.js"><link rel="prefetch" href="/Welcome/assets/js/58.241f322c.js"><link rel="prefetch" href="/Welcome/assets/js/59.55945236.js"><link rel="prefetch" href="/Welcome/assets/js/6.c8f2a0bc.js"><link rel="prefetch" href="/Welcome/assets/js/60.833eaffc.js"><link rel="prefetch" href="/Welcome/assets/js/61.5c5d0aa8.js"><link rel="prefetch" href="/Welcome/assets/js/62.5d270bfa.js"><link rel="prefetch" href="/Welcome/assets/js/63.07007485.js"><link rel="prefetch" href="/Welcome/assets/js/64.29a4693b.js"><link rel="prefetch" href="/Welcome/assets/js/65.9bdbf700.js"><link rel="prefetch" href="/Welcome/assets/js/66.19c5e075.js"><link rel="prefetch" href="/Welcome/assets/js/67.52c98668.js"><link rel="prefetch" href="/Welcome/assets/js/68.61d9dac4.js"><link rel="prefetch" href="/Welcome/assets/js/69.f4e842e7.js"><link rel="prefetch" href="/Welcome/assets/js/7.72ca8d8f.js"><link rel="prefetch" href="/Welcome/assets/js/70.45749ff8.js"><link rel="prefetch" href="/Welcome/assets/js/71.c9a878d8.js"><link rel="prefetch" href="/Welcome/assets/js/72.f2b5538c.js"><link rel="prefetch" href="/Welcome/assets/js/73.6c759250.js"><link rel="prefetch" href="/Welcome/assets/js/74.c62c6359.js"><link rel="prefetch" href="/Welcome/assets/js/75.99c7f410.js"><link rel="prefetch" href="/Welcome/assets/js/76.2b32b854.js"><link rel="prefetch" href="/Welcome/assets/js/77.40d79900.js"><link rel="prefetch" href="/Welcome/assets/js/78.fb1e2c04.js"><link rel="prefetch" href="/Welcome/assets/js/79.d12ac054.js"><link rel="prefetch" href="/Welcome/assets/js/80.0b012e93.js"><link rel="prefetch" href="/Welcome/assets/js/81.808914ff.js"><link rel="prefetch" href="/Welcome/assets/js/82.9e80a643.js"><link rel="prefetch" href="/Welcome/assets/js/83.2258d338.js"><link rel="prefetch" href="/Welcome/assets/js/84.6f59f24e.js"><link rel="prefetch" href="/Welcome/assets/js/85.30765c19.js"><link rel="prefetch" href="/Welcome/assets/js/86.b78e1547.js"><link rel="prefetch" href="/Welcome/assets/js/87.d19016fa.js"><link rel="prefetch" href="/Welcome/assets/js/9.73227006.js">
    <link rel="stylesheet" href="/Welcome/assets/css/0.styles.dc2e030a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="theme-container" class="theme-container post-container no-sidebar" data-v-60b9a85e><header class="navbar invert" data-v-60b9a85e><a href="/Welcome/" class="home-link router-link-active"><span class="site-name"> $ cd /home/ </span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/Welcome/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M489.2 287.9h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6V146.2c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-6-8-4.6-11.7-4.6v-38c8.3-2 17.1-3.4 25.7-3.4 10.9 0 20.9 4.3 31.4 4.3 4.6 0 27.7-1.1 27.7-8v-60c0-2.6-2-4.6-4.6-4.6-5.1 0-15.1 4.3-24 4.3-9.7 0-20.9-4.3-32.6-4.3-8 0-16 1.1-23.7 2.9v-4.9c5.4-2.6 9.1-8.3 9.1-14.3 0-20.7-31.4-20.8-31.4 0 0 6 3.7 11.7 9.1 14.3v111.7c-3.7 0-11.7-1.4-11.7 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32H128v-32c0-2.6-2-4.6-4.6-4.6H96c-2.6 0-4.6 2-4.6 4.6v178.3H54.8v-32c0-2.6-2-4.6-4.6-4.6H22.8c-2.6 0-4.6 2-4.6 4.6V512h182.9v-96c0-72.6 109.7-72.6 109.7 0v96h182.9V292.5c.1-2.6-1.9-4.6-4.5-4.6zm-288.1-4.5c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64zm146.4 0c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64z"/></svg>
  首页
</a></div><div class="nav-item"><a href="/Welcome/tags/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>
  标签 🏷️
</a></div><div class="nav-item"><a href="/Welcome/links/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M305.45 462.59c7.391 7.298 6.188 20.097-3 25.004-77.714 41.802-176.726 29.91-242.344-35.709-65.602-65.603-77.51-164.523-35.692-242.331 4.891-9.095 17.69-10.298 25.003-3l116.812 116.813 27.394-27.394c-.688-2.61-1.594-5.001-1.594-7.814a32.004 32.004 0 1132.004 32.005c-2.797 0-5.204-.891-7.798-1.594l-27.41 27.41zm206.526-159.523a16.103 16.103 0 01-16.002 17.003H463.86a15.97 15.97 0 01-15.892-15.002C440.467 175.549 336.453 70.534 207.03 63.533a15.845 15.845 0 01-15.002-15.908V16.027A16.094 16.094 0 01209.03.024C372.255 8.62 503.475 139.841 511.976 303.067zm-96.012-.297a16.21 16.21 0 01-16.112 17.3h-32.207a16.069 16.069 0 01-15.893-14.705c-6.907-77.011-68.118-138.91-144.924-145.224a15.94 15.94 0 01-14.8-15.893v-32.114a16.134 16.134 0 0117.3-16.096c110.123 8.501 198.228 96.607 206.636 206.732z"/></svg>
  链接 🌐
</a></div><div class="nav-item"><a href="/Welcome/docs/aboutMe/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M21 18H6a1 1 0 000 2h15v2H6a3 3 0 01-3-3V4a2 2 0 012-2h16v16zm-5-9V7H8v2h8z"/></svg>
  举杯 ❤
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      搜索
    </a></div></nav></div></header> <div class="sidebar-mask" data-v-60b9a85e></div> <aside class="sidebar" data-v-60b9a85e><div class="personal-info-wrapper" data-v-60b9a85e><div class="mobile-hero-avatar" data-v-60b9a85e><img src="/Welcome/img/avatar.jpeg" alt="hero" data-v-60b9a85e></div> <p class="mobile-heading" data-v-60b9a85e>
          枫叶和雪花
        </p> <div class="sns-wrapper" data-v-60b9a85e><a href="https://github.com/LuJunandapai" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-59.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg></svg></a><a href="https://www.twitter.com/Lu_isApai" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></svg></a><a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-139.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"/></svg></svg></a><a href="https://www.linkedin.com/in/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 01107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg></svg></a><a href="https://www.zhihu.com/people/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M12.344 17.963l-1.688 1.074-2.131-3.35c-.44 1.402-1.172 2.665-2.139 3.825-.402.483-.82.918-1.301 1.375-.155.147-.775.717-.878.82l-1.414-1.414c.139-.139.787-.735.915-.856.43-.408.795-.79 1.142-1.206 1.266-1.518 2.03-3.21 2.137-5.231H3v-2h4V7h-.868c-.689 1.266-1.558 2.222-2.618 2.857L2.486 8.143c1.395-.838 2.425-2.604 3.038-5.36l1.952.434c-.14.633-.303 1.227-.489 1.783H11.5v2H9v4h2.5v2H9.185l3.159 4.963zm3.838-.07L17.298 17H19V7h-4v10h.736l.446.893zM13 5h8v14h-3l-2.5 2-1-2H13V5z"/></svg></svg></a><a href="mailto:lu_yuelian@163.com" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></svg></a>  <a href="/rss.xml" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg></svg></a></div> <hr data-v-60b9a85e></div> <nav class="nav-links"><div class="nav-item"><a href="/Welcome/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M489.2 287.9h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6V146.2c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-6-8-4.6-11.7-4.6v-38c8.3-2 17.1-3.4 25.7-3.4 10.9 0 20.9 4.3 31.4 4.3 4.6 0 27.7-1.1 27.7-8v-60c0-2.6-2-4.6-4.6-4.6-5.1 0-15.1 4.3-24 4.3-9.7 0-20.9-4.3-32.6-4.3-8 0-16 1.1-23.7 2.9v-4.9c5.4-2.6 9.1-8.3 9.1-14.3 0-20.7-31.4-20.8-31.4 0 0 6 3.7 11.7 9.1 14.3v111.7c-3.7 0-11.7-1.4-11.7 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32H128v-32c0-2.6-2-4.6-4.6-4.6H96c-2.6 0-4.6 2-4.6 4.6v178.3H54.8v-32c0-2.6-2-4.6-4.6-4.6H22.8c-2.6 0-4.6 2-4.6 4.6V512h182.9v-96c0-72.6 109.7-72.6 109.7 0v96h182.9V292.5c.1-2.6-1.9-4.6-4.5-4.6zm-288.1-4.5c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64zm146.4 0c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64z"/></svg>
  首页
</a></div><div class="nav-item"><a href="/Welcome/tags/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>
  标签 🏷️
</a></div><div class="nav-item"><a href="/Welcome/links/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M305.45 462.59c7.391 7.298 6.188 20.097-3 25.004-77.714 41.802-176.726 29.91-242.344-35.709-65.602-65.603-77.51-164.523-35.692-242.331 4.891-9.095 17.69-10.298 25.003-3l116.812 116.813 27.394-27.394c-.688-2.61-1.594-5.001-1.594-7.814a32.004 32.004 0 1132.004 32.005c-2.797 0-5.204-.891-7.798-1.594l-27.41 27.41zm206.526-159.523a16.103 16.103 0 01-16.002 17.003H463.86a15.97 15.97 0 01-15.892-15.002C440.467 175.549 336.453 70.534 207.03 63.533a15.845 15.845 0 01-15.002-15.908V16.027A16.094 16.094 0 01209.03.024C372.255 8.62 503.475 139.841 511.976 303.067zm-96.012-.297a16.21 16.21 0 01-16.112 17.3h-32.207a16.069 16.069 0 01-15.893-14.705c-6.907-77.011-68.118-138.91-144.924-145.224a15.94 15.94 0 01-14.8-15.893v-32.114a16.134 16.134 0 0117.3-16.096c110.123 8.501 198.228 96.607 206.636 206.732z"/></svg>
  链接 🌐
</a></div><div class="nav-item"><a href="/Welcome/docs/aboutMe/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M21 18H6a1 1 0 000 2h15v2H6a3 3 0 01-3-3V4a2 2 0 012-2h16v16zm-5-9V7H8v2h8z"/></svg>
  举杯 ❤
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      搜索
    </a></div></nav> <!----> </aside> <div class="content" data-v-60b9a85e><div class="post-header style-img" style="background-image:url(/Welcome/img/in-post/2020-10-29/header.jpg);" data-v-2c97064e><div class="header-mask" style="background:rgba(40, 57, 101, .4);" data-v-2c97064e></div> <div class="header-content" data-v-2c97064e><div class="tags" data-v-2c97064e><span class="tag" data-v-2c97064e>
        Java
      </span><span class="tag" data-v-2c97064e>
        后端框架
      </span></div> <h1 class="title" data-v-2c97064e>
      Java MVC
    </h1> <h3 class="subtitle" data-v-2c97064e>
      Java MVC 框架基础
    </h3> <div class="icons" data-v-2c97064e><div class="icon" data-v-2c97064e><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-2c97064e><path d="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"/></svg> <span data-v-2c97064e>Lu Da Zhuang</span></div> <div class="icon" data-v-2c97064e><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-2c97064e><path d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"/></svg> <span data-v-2c97064e>2020-08-21</span></div> <div class="icon" data-v-2c97064e><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-2c97064e><path fill="none" d="M0 0h24v24H0z"/><path d="M17.618 5.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 11-1.414-1.414zM12 20a7 7 0 100-14 7 7 0 000 14zM11 8h2v6h-2V8zM8 1h8v2H8V1z"/></svg> <span data-v-2c97064e>43 min</span></div></div></div></div> <main class="page"><!----> <div class="theme-content content__default"><h2 id="前后端请求-详解"><a href="#前后端请求-详解" class="header-anchor">#</a> 前后端请求 详解</h2> <h3 id="post-和-get-请求的区别"><a href="#post-和-get-请求的区别" class="header-anchor">#</a> Post 和 Get 请求的区别</h3> <h4 id="get-请求"><a href="#get-请求" class="header-anchor">#</a> Get 请求</h4> <blockquote><p>没有请求体,提交的数据都是放在请求行(缓存行)里面的,就是地址通过拼接? &amp; (queryString)</p></blockquote> <h4 id="post-请求"><a href="#post-请求" class="header-anchor">#</a> Post 请求</h4> <blockquote><p>有请求体，因此它提交的数拥是有两种方式</p></blockquote> <ul><li>icontent-type (applicaion/x-wwww-form-encoded) 类似于 get 请求 数据拼接在地址后 后台直接获取</li> <li>icontent-type (application/json) 默认 json 后台要加上 注解:@RequestBody</li></ul> <h4 id="表单提交"><a href="#表单提交" class="header-anchor">#</a> 表单提交</h4> <blockquote><p>表单的默认提交方式是: content- type --&gt; applicaion/x-wwww-form-encoded.</p> <p>那么这个提交也是赤耀棵的 (queryString)</p></blockquote> <h3 id="axios-请求"><a href="#axios-请求" class="header-anchor">#</a> Axios 请求</h3> <h4 id="get-请求-2"><a href="#get-请求-2" class="header-anchor">#</a> get 请求</h4> <p><strong>方式一:  无参 get 请求</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8080/getwucan'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;wucan&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

@<span class="token function">GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getwucan&quot;</span><span class="token punctuation">)</span>
@ResponseBody
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getwucan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;wucanget....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>方式二:  有参 get 请求 拼接在 请求后面</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8080/getpingjie?name=小明&amp;age=15'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;wucan&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

@<span class="token function">GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getpingjie&quot;</span><span class="token punctuation">)</span>
@ResponseBody
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getpingjie</span><span class="token punctuation">(</span><span class="token parameter">String name<span class="token punctuation">,</span> Integer age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>方式三:  有参 get 请求 params  键之对</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8080/getparams'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span>
        aaa<span class="token operator">:</span> <span class="token string">'011'</span><span class="token punctuation">,</span>
        bbb<span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;aaaa&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

@<span class="token function">GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getparams&quot;</span><span class="token punctuation">)</span>
@ResponseBody
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getparams</span><span class="token punctuation">(</span><span class="token parameter">String aaa<span class="token punctuation">,</span> Integer bbb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>aaa<span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bbb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

<span class="token comment">// 如要传递数组到后端 可使用QS转换一下在进行传递 直接传递数组 会是 ccc[]:1 ... 报错</span>
<span class="token comment">// 请求网址: http://localhost:8080/getparams?aaa=011&amp;bbb=120&amp;ccc=1&amp;ccc=2&amp;ccc=3  正确</span>
<span class="token comment">// QS 需引入: 能够想数据格式化</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;https://cdn.bootcss.com/qs/6.7.0/qs.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
    aaa<span class="token operator">:</span> <span class="token string">'011'</span><span class="token punctuation">,</span>
    bbb<span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
    ccc<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> paramStr <span class="token operator">=</span> Qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> <span class="token punctuation">{</span>arrayFormat<span class="token operator">:</span> <span class="token string">'repeat'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>paramStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8080/getparams?'</span> <span class="token operator">+</span> paramStr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;aaaa&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

@<span class="token function">GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getparams&quot;</span><span class="token punctuation">)</span>
@ResponseBody
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getparams</span><span class="token punctuation">(</span><span class="token parameter">String aaa<span class="token punctuation">,</span> Integer bbb<span class="token punctuation">,</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> ccc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>aaa<span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bbb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>方式三:  有参 get 请求 restful 风格</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// restful 风格 请求是直接在后面使用 '/' 拼接</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/posttow/&quot;</span> <span class="token operator">+</span> <span class="token number">521</span> <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> <span class="token string">'分隔'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 在 获取请求上 加上名字 </span>
<span class="token comment">// 当注解名字和形参的名字一致直接使用 @PathVariable 不一致则: @PathVariable(value=&quot;对应请求的名字&quot;)</span>
@<span class="token function">GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/posttow/{aa}/{str}&quot;</span><span class="token punctuation">)</span>
@ResponseBody
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">restfgone</span><span class="token punctuation">(</span>@<span class="token function">PathVariable</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;aa&quot;</span><span class="token punctuation">)</span> Integer ti<span class="token punctuation">,</span> @PathVariable String str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ti<span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="post-请求-2"><a href="#post-请求-2" class="header-anchor">#</a> post 请求</h4> <p><strong>方式一:   键之对  appliction/x-www-form-urlencoded</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// axios.post('http://localhost:8080/请求', &quot;名=值&amp;名=值&quot;, {headers:{&quot;请求类型&quot;}})</span>
<span class="token comment">// 前端请求 键之对数据</span>
    axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8080/postone'</span><span class="token punctuation">,</span> <span class="token string">&quot;name=122&amp;age=52222&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>headers<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;Content-Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    	
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 后端接收 直接使用对应的类型 和 变量名</span>
@<span class="token function">PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/postone&quot;</span><span class="token punctuation">)</span>
@ResponseBody
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postone</span><span class="token punctuation">(</span><span class="token parameter">String name<span class="token punctuation">,</span> Integer age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>方式二: json - application/json</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 前端直接传递 json 对象名数据</span>
axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/addProduct/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>product<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 后端利用 注解 @RequestBody 获取对象</span>
@<span class="token function">RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/addProduct&quot;</span><span class="token punctuation">)</span>
@ResponseBody
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token parameter">@RequestBody Product product</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    
<span class="token comment">// 前端直接传递 json 对象数据 注意: 必须对应上实体类 否则无法直接获取数据</span>
axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8080/posttow'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>username<span class="token operator">:</span><span class="token string">'小明'</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token string">'25'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 后端 使用注解 @RequestBody 和 实体类获取数据</span>
@<span class="token function">PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/posttow&quot;</span><span class="token punctuation">)</span>
@ResponseBody
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">posttow</span><span class="token punctuation">(</span><span class="token parameter">@RequestBody User user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="open-feign-微服务请求"><a href="#open-feign-微服务请求" class="header-anchor">#</a> Open Feign 微服务请求</h3> <p>前提:</p> <ol><li>添加 nacos 和 Open Feign 依赖</li> <li>在启动类: 启用 nacos 的服务发现和开启feign客户端可以无需配置熔断器和负载均衡注解</li> <li>在调用方Client接口使用注解且链接到服务方 @FeignClient(&quot;微服务名称&quot;)</li> <li>对于不同的请求和不同类型的参数 使用对于的注解</li></ol> <h4 id="restful-风格请求"><a href="#restful-风格请求" class="header-anchor">#</a> Restful 风格请求</h4> <blockquote><p>注解: @PathVariable(&quot;占位名&quot;)</p> <p>在 Open Feign 远程调用的Client接口里 按规范在注解里写入 占位参数名</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// GET：用于获取资源 </span>
<span class="token comment">// POST：用于新建资源	</span>
<span class="token comment">// PUT：用于更新资源</span>
<span class="token comment">// DELETE：用于删除资源</span>

<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test1/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test5/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="get-请求-3"><a href="#get-请求-3" class="header-anchor">#</a> Get 请求</h4> <blockquote><p>单个参数注解: @RequestParam(&quot;占位名&quot;)</p> <p>对象类型注解: @SpringQueryMap 对象类型 对象名</p> <p>当参数为: Map 集合时 可使用上方两个注解都可使用</p> <p>获取请求头token注解: @RequestHeader(&quot;token&quot;)</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token annotation punctuation">@SpringQueryMap</span> <span class="token class-name">User</span> user<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test4&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span>  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="post-请求-3"><a href="#post-请求-3" class="header-anchor">#</a> Post 请求</h4> <blockquote><p>单个参数注解: @RequestParam(&quot;占位名&quot;)</p> <p>对象类型注解: @RequestBody 对象类型 对象名  |  {应用于 浏览器传递的类型为 json}</p> <p>当参数为: Map 集合时 可使用上方两个注解都可使用</p> <p>获取请求头token注解: @RequestHeader(&quot;token&quot;)</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test6&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test6</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id <span class="token punctuation">,</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test7&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test7</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span>  <span class="token class-name">User</span> user<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test8&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test8</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="案例参考-详解"><a href="#案例参考-详解" class="header-anchor">#</a> 案例参考 详解</h4> <blockquote><p>调用方</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">FinancingClient</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>wxgzhapp<span class="token punctuation">.</span></span><span class="token class-name">UserInfo</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApaiNcosController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">FinancingClient</span> financingClient<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/GetTest&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token class-name">GetTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> wucan <span class="token operator">=</span> financingClient<span class="token punctuation">.</span><span class="token function">wucan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>wucan<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// GET 请求 | 无参方法调用成功</span>

        <span class="token class-name">String</span> dan <span class="token operator">=</span> financingClient<span class="token punctuation">.</span><span class="token function">dan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;阿派&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dan<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// GET 请求 | 单个参数方法调用成功 | 参数: id = 1 | name = 阿派</span>

        <span class="token class-name">UserInfo</span> userInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userInfo<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userInfo<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;是阿派啊!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> duixiang <span class="token operator">=</span> financingClient<span class="token punctuation">.</span><span class="token function">duixiang</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// GET 请求 | 对象参数方法调用成功 | 参数: userInfo = UserInfo(id=1, name=是阿派啊!, openId=null, templateid=null, headline=null, birthday=null, loveday=null, region=null, coding=null, stutas=null)</span>

        <span class="token class-name">String</span> qingtou <span class="token operator">=</span> financingClient<span class="token punctuation">.</span><span class="token function">qingtou</span><span class="token punctuation">(</span><span class="token string">&quot;1asda12ffd.123d12455654.13gdwdq&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>qingtou<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// GET 请求 | 请求头参数方法调用成功 | 参数: token = 1asda12ffd.123d12455654.13gdwdq</span>

        <span class="token keyword">return</span> <span class="token string">&quot;ok 200 --- GetTest&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/PostTest&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token class-name">PostTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> postDan <span class="token operator">=</span> financingClient<span class="token punctuation">.</span><span class="token function">postDan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;阿派&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>postDan<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// POST 请求 | 单个参数方法调用成功 | 参数: id = 1 | name = 阿派</span>

        <span class="token class-name">UserInfo</span> userInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userInfo<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userInfo<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;是阿派啊!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> postDuixiang <span class="token operator">=</span> financingClient<span class="token punctuation">.</span><span class="token function">postDuixiang</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> <span class="token string">&quot;1asda12ffd.123d12455654.13gdwdq&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>postDuixiang<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// POST 请求 | 对象参数方法调用成功 | 参数: userInfo = UserInfo(id=1, name=是阿派啊!, openId=null, templateid=null, headline=null, birthday=null, loveday=null, region=null, coding=null, stutas=null) | token = 1asda12ffd.123d12455654.13gdwdq</span>

        <span class="token keyword">return</span> <span class="token string">&quot;ok 200 --- PostTest&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/restfulTest&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">restfulTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> restful <span class="token operator">=</span> financingClient<span class="token punctuation">.</span><span class="token function">restful</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;阿派&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;token121.214123.123146775&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>restful<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Restful 风格请求 | 微服务调用 | 参数: id = 1 | name = 阿派 | token = token121.214123.123146775</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ok 200 --- RestfulTestTest&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>调用方 Client 接口</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>client</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>wxgzhapp<span class="token punctuation">.</span></span><span class="token class-name">UserInfo</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">FeignClient</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">SpringQueryMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token comment">// 标注该类是一个feign接口 且链接到服务方 @FeignClient(&quot;微服务名称&quot;)</span>
<span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span><span class="token string">&quot;wxgzhapp&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">FinancingClient</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     *  Get 请求 | 微服务调用
     *  注意: 相互调用时,参数的不同对应的注解也不同
     */</span>
    <span class="token comment">// Get 请求 | 无参方法</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/financing/wucan&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">wucan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Get 请求 | 单个参数方法</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/financing/dan&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">dan</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Get 请求 | 对象参数方法</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/financing/duixiang&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">duixiang</span><span class="token punctuation">(</span><span class="token annotation punctuation">@SpringQueryMap</span> <span class="token class-name">UserInfo</span> userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Get 请求 | 请求头参数方法</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/financing/qingtou&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">qingtou</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">/**
     *  Post 请求 | 微服务调用
     *  注意: 相互调用时,参数的不同对应的注解也不同
     */</span>
    <span class="token comment">// Post 请求 | 单个参数方法</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/financing/postDan&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">postDan</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Post 请求 | 对象参数方法</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/financing/postDuixiang&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">postDuixiang</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserInfo</span> userInfo<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     *  Restful 风格请求 | 微服务调用
     *  注意: 相互调用时,参数的不同对应的注解也不同
     */</span>
    <span class="token comment">// Restful 风格请求 | 单个参数方法 | 请求头</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/financing/restful/{id}/{name}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">restful</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>被调用方</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>wxgzhapp<span class="token punctuation">.</span></span><span class="token class-name">UserInfo</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/financing&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApaiNcosController</span> <span class="token punctuation">{</span>


    <span class="token comment">/**
     *  Get 请求 | 微服务调用
     *  注意: 相互调用时,参数的不同对应的注解也不同
     */</span>
    <span class="token comment">// Get 请求 | 无参方法</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/wucan&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">wucan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;GET 请求 | 无参方法调用成功&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Get 请求 | 单个参数方法</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/dan&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">dan</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;GET 请求 | 单个参数方法调用成功 | 参数: id = &quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot; | name = &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Get 请求 | 对象参数方法</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/duixiang&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">updateUserInfo</span><span class="token punctuation">(</span><span class="token class-name">UserInfo</span> userInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;GET 请求 | 对象参数方法调用成功 | 参数: userInfo = &quot;</span> <span class="token operator">+</span> userInfo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Get 请求 | 请求头参数方法</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/qingtou&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">updateUserInfo</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> token <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;GET 请求 | 请求头参数方法调用成功 | 参数: token = &quot;</span> <span class="token operator">+</span> token<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     *  Post 请求 | 微服务调用
     *  注意: 相互调用时,参数的不同对应的注解也不同
     */</span>
    <span class="token comment">// Post 请求 | 单个参数方法</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/postDan&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">postDan</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;POST 请求 | 单个参数方法调用成功 | 参数: id = &quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot; | name = &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Post 请求 | 对象参数方法</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/postDuixiang&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">postDuixiang</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserInfo</span> userInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> token <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;POST 请求 | 对象参数方法调用成功 | 参数: userInfo = &quot;</span> <span class="token operator">+</span> userInfo <span class="token operator">+</span> <span class="token string">&quot; | token = &quot;</span> <span class="token operator">+</span> token<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     *  Restful 风格请求 | 微服务调用
     *  注意: 相互调用时,参数的不同对应的注解也不同
     */</span>
    <span class="token comment">// Restful 风格请求 | 单个参数方法 | 请求头</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/restful/{id}/{name}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">restful</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Restful 风格请求 | 微服务调用 | 参数: id = &quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot; | name = &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot; | token = &quot;</span> <span class="token operator">+</span> token<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="http-协议"><a href="#http-协议" class="header-anchor">#</a> Http 协议</h2> <p><strong>概念:</strong> HyperText Transfer Protocol,超文本传输协议,规定了浏览器和服务器之间数据传输的规则</p> <h3 id="http协议特点"><a href="#http协议特点" class="header-anchor">#</a> HTTP协议特点:</h3> <ol><li>基于TCP协议:面向连接,安全</li> <li>2.基于请求-响应模型的: - -次请求对应- -次响应</li> <li>HTTP协议是无状态的协议:对于事务处理没有记忆能力。每次请求-响应都是独立的。</li></ol> <ul><li><p>缺点:多次请求间不能共享数据。Java中使用会话技术、(Cookie. Session) 来解决这个问题</p></li> <li><p>优点:速度快</p></li></ul> <h3 id="http-请求数据格式"><a href="#http-请求数据格式" class="header-anchor">#</a> HTTP-请求数据格式</h3> <p><strong>请求数据分为3部分:</strong></p> <ol><li><p>请求行: 请求数据的第一行。其中GET表示请求方式，/ 表示请求资源路径，HTTP/1.1表示协议版本</p></li> <li><p>请求头: 第二行开始,格式为key: value形式。</p></li> <li><p>请求体: POST请求的最后一 部分,存放请求参数</p></li></ol> <p><strong>常见的HTTP请求头:</strong></p> <ul><li>Host:表示请求的主机名</li> <li>User- Agent:浏览器版本,例如Chrome浏览器的标识类似Moilla/5.0... |  Chrome/79, IE浏览器的标识类似Mozilla/5.0 (Windows NT ... like Gecko;</li> <li>Accept:表示浏览器能接收的资源类型，如text/*, image/*或者 */*表示所有;</li> <li>Accept-Language:表示浏览器偏好的语言,服务器可以据此返回不同语言的网页;</li> <li>Accept- Encoding:表示浏览器可以支持的压缩类型,例如gzip, deflate等。</li></ul> <p><strong>GET请求和POST请求区别:</strong></p> <p>1.GET请求请求参数在请求行中，没有请求体 | POST请求请求参数在请求体中</p> <p>2.GET请求请求参数大小有限制，POST没有</p> <div class="language-java extra-class"><pre class="language-java"><code>GET <span class="token operator">/</span> HTTP<span class="token operator">/</span><span class="token number">1.1</span>
<span class="token class-name">Host</span><span class="token operator">:</span> www<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>cn
<span class="token class-name">Connection</span><span class="token operator">:</span> keep<span class="token operator">-</span>alive
<span class="token class-name">Cache</span><span class="token operator">-</span><span class="token class-name">Control</span><span class="token operator">:</span> max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">0</span> <span class="token class-name">Upgrade</span><span class="token operator">-</span><span class="token class-name">Insecure</span><span class="token operator">-</span> <span class="token class-name">Requests</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token class-name">User</span><span class="token operator">-</span><span class="token class-name">Agent</span><span class="token operator">:</span> <span class="token class-name">Mozilla</span><span class="token operator">/</span><span class="token number">5.0</span> <span class="token class-name">Chrome</span><span class="token operator">/</span><span class="token number">91.0</span><span class="token number">.4472</span><span class="token number">.106</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment">// -----------------------------------------------------    </span>
POST <span class="token operator">/</span> HTTP<span class="token operator">/</span><span class="token number">1.1</span>
<span class="token class-name">Host</span><span class="token operator">:</span> www<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>cn
<span class="token class-name">Connection</span><span class="token operator">:</span> keep<span class="token operator">-</span>alive
<span class="token class-name">Cache</span><span class="token operator">-</span><span class="token class-name">Control</span><span class="token operator">:</span> max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">0</span> <span class="token class-name">Upgrade</span><span class="token operator">-</span><span class="token class-name">Insecure</span><span class="token operator">-</span><span class="token class-name">Requests</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token class-name">User</span><span class="token operator">-</span><span class="token class-name">Agent</span><span class="token operator">:</span> <span class="token class-name">Mozilla</span><span class="token operator">/</span><span class="token number">5.0</span> <span class="token class-name">Chrome</span><span class="token operator">/</span><span class="token number">91.0</span><span class="token number">.4472</span><span class="token punctuation">.</span> <span class="token number">106</span>
    
username<span class="token operator">=</span>superbaby<span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">123456</span>
</code></pre></div><h3 id="http-响应数据格式"><a href="#http-响应数据格式" class="header-anchor">#</a> HTTP-响应数据格式</h3> <p><strong>响应数据分为3部分:</strong></p> <ol><li>响应行:响应数据的第一-行。其中HTTP/1.1表示协议版本，200表示响应状态码，OK表示状态码描述</li> <li>响应头: 第二行开始，格式为key: value形 式</li> <li>响应体:最后一部分。存放响应数据</li></ol> <p><strong>常见的HTTP响应头:</strong></p> <ul><li><p>Content- Type:表示该响应内容的类型，例如text/html,image/jpeg;</p></li> <li><p>Content-Length:表示该响应内容的长度(字节数) ;</p></li> <li><p>Content- Encoding:表示该响应压缩算法，例如gzip;</p></li> <li><p>Cache-Control:指示客户端应如何缓存，例如max-age=300表示可以最多缓存300秒</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code>HTTP<span class="token operator">/</span><span class="token number">1.1</span> <span class="token number">200</span> OK
<span class="token class-name">Server</span><span class="token operator">:</span> <span class="token class-name">Tengine</span>
<span class="token class-name">Content</span><span class="token operator">-</span><span class="token class-name">Type</span><span class="token operator">:</span> text<span class="token operator">/</span>html
<span class="token class-name">Transfer</span><span class="token operator">-</span><span class="token class-name">Encoding</span><span class="token operator">:</span> chunked<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token generics"><span class="token punctuation">&lt;</span>html<span class="token punctuation">&gt;</span></span>
<span class="token generics"><span class="token punctuation">&lt;</span>head<span class="token punctuation">&gt;</span></span>
<span class="token generics"><span class="token punctuation">&lt;</span>title<span class="token punctuation">&gt;</span></span><span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><h3 id="http-状态码"><a href="#http-状态码" class="header-anchor">#</a> HTTP - 状态码</h3> <p>详见:  https://cloud.tencent.com/developer/chapter/13553</p> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221005112115757.png" alt="image-20221005112115757"></p> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221005112456310.png" alt="image-20221005112456310"></p> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221005112519712.png" alt="image-20221005112519712"></p> <h2 id="web-基础补充"><a href="#web-基础补充" class="header-anchor">#</a> Web 基础补充</h2> <h3 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h3> <p>[JAVA跨域产生的原因和解决方法](https://blog.csdn.net/qq_42446156/article/details/109563427#:~:text=目前我了解的解决跨域的几种方式：,手写过滤器，cors，jsonnp，响应头添加Header%2C配置nginx反向代理%2Czuul组件%2C共五种解决方式。 1.手写过滤器实现，通过过滤器开放需要访问的接口)</p> <h3 id="跨域出现原因"><a href="#跨域出现原因" class="header-anchor">#</a> 跨域出现原因</h3> <p>跨域是指a页面想获取b页面资源，如果a、b页面的协议、域名、端口、子域名不同，或是a页面为ip地址，b页面为域名地址，所进行的访问行动都是跨域的，而浏览器为了安全问题一般都限制了跨域访问，也就是不允许跨域请求资源。</p> <p>跨域问题的根本原因：因为浏览器收到同源策略的限制，当前域名的js只能读取同域下的窗口属性。什么叫做同源策略？就是不同的域名, 不同端口, 不同的协议不允许共享资源的，保障浏览器安全。同源策略是针对浏览器设置的门槛。如果绕过浏览就能实现跨域，所以说早期的跨域都是打着安全路数的擦边球，都可以认为是 hack 处理。</p> <h3 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h3> <p>1.过滤器实现，通过过滤器开放需要访问的接口</p> <p>2.使用@CrossOrigin注解实现细粒度控制（推荐使用），该方法至少JDK1.8</p> <p>​	直接在需要被跨域访问的方法上加上@CrossOrigin注解就可以实现被跨域访问。</p> <p>3.微服务的网关进行设置跨域</p> <h3 id="web-会话数据共享"><a href="#web-会话数据共享" class="header-anchor">#</a> Web 会话数据共享</h3> <blockquote><p>cookie 和 session  的使用方法</p> <p>cookie: 作用于浏览器客户端 | session: 作用于服务器 | 都能达到数据共享的目的</p></blockquote> <h4 id="session-服务端"><a href="#session-服务端" class="header-anchor">#</a> Session  服务端</h4> <ul><li>技术文档 API: <a href="http://c.biancheng.net/servlet2/session.html" target="_blank" rel="noopener noreferrer">Servlet Session的使用 (biancheng.net)</a></li></ul> <h5 id="_1-session-作用域"><a href="#_1-session-作用域" class="header-anchor">#</a> 1.Session 作用域</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token number">01</span> <span class="token operator">-</span> 请求作用域 <span class="token operator">-</span> 仅在一次请求过程中有效 <span class="token operator">-</span> request
		存入<span class="token operator">:</span> request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;名&quot;</span><span class="token punctuation">,</span> 值<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
<span class="token number">02</span> <span class="token operator">-</span> 会话作用域 同一个会话有效 <span class="token operator">-</span> session
		存入<span class="token operator">:</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;名&quot;</span><span class="token punctuation">,</span> 值<span class="token punctuation">)</span><span class="token punctuation">;</span>
		获取_1<span class="token operator">:</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		获取_2<span class="token operator">:</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		销毁<span class="token operator">:</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">03</span> <span class="token operator">-</span> 全局作用域 整个web项目有效 <span class="token operator">-</span> servletcontext <span class="token operator">|</span> application
		存入<span class="token operator">:</span> request<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;名&quot;</span><span class="token punctuation">,</span> 值<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
<span class="token number">04</span> <span class="token operator">-</span> jsp <span class="token operator">-</span> 上下文作用域 <span class="token operator">-</span> 只在jsp内有效 <span class="token operator">-</span> pageContext
		pageContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;名&quot;</span><span class="token punctuation">,</span> 值<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token operator">&lt;</span><span class="token operator">%=</span> pageContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;page&quot;</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
		
范围<span class="token operator">:</span> 小 <span class="token operator">-&gt;</span> 大 pageContext <span class="token operator">&lt;</span> request <span class="token operator">&lt;</span> session <span class="token operator">&lt;</span> application
</code></pre></div><h5 id="_2-session-案例"><a href="#_2-session-案例" class="header-anchor">#</a> 2.Session  案例</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">jdk<span class="token punctuation">.</span>nashorn<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>parser<span class="token punctuation">.</span></span><span class="token class-name">Token</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestHeader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ResponseBody</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/jurisdiction&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JurisdictionController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/setSession&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSession</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;setSession: 1.&quot;</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;setSession: 2.&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;setSession: 3.&quot;</span> <span class="token operator">+</span> session<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 根据 session 设置值</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;阿派&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 根据 request 设置 session 的值</span>
        request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;pai&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;阿派&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/getSession&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getSession</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;getSession: 1.&quot;</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;getSession: 2.&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;getSession: 3.&quot;</span> <span class="token operator">+</span> session<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 从 session 中根据名称获取值</span>
        <span class="token class-name">Object</span> pai1 <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;pai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 在 request 中获取session根据名称获取值</span>
        <span class="token class-name">String</span> pai <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;pai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><h5 id="_3-session-api"><a href="#_3-session-api" class="header-anchor">#</a> 3.Session API</h5> <blockquote><p>Session 对象由服务器创建，通过 HttpServletRequest.getSession() 方法可以获得 HttpSession 对象，例如：</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 获取session对象 HttpSession session=request.getSession();</span>
</code></pre></div><blockquote><p>HttpSession 接口定义了一系列对 Session 对象操作的方法，如下表。</p></blockquote> <table><thead><tr><th>返回值类型</th> <th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>long</td> <td>getCreationTime()</td> <td>返回创建 Session 的时间。</td></tr> <tr><td>String</td> <td>getId()</td> <td>返回获取 Seesion 的唯一的 ID。</td></tr> <tr><td>long</td> <td>getLastAccessedTime()</td> <td>返回客户端上一次发送与此 Session 关联的请求的时间。</td></tr> <tr><td>int</td> <td>getMaxInactiveInterval()</td> <td>返回在无任何操作的情况下，Session 失效的时间，以秒为单位。</td></tr> <tr><td>ServletContext</td> <td>getServletContext()</td> <td>返回 Session 所属的 ServletContext 对象。</td></tr> <tr><td>void</td> <td>invalidate()</td> <td>使 Session 失效。</td></tr> <tr><td>void</td> <td>setMaxInactiveInterval(int interval)</td> <td>指定在无任何操作的情况下，Session 失效的时间，以秒为单位。负数表示 Session 永远不会失效。</td></tr></tbody></table> <blockquote><p>在 javax.servlet.http.HttpSession 接口中定义了一系列操作属性的方法，如下表。</p></blockquote> <table><thead><tr><th>返回值类型</th> <th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>void</td> <td>setAttribute(String name, Object o)</td> <td>把一个 Java 对象与一个属性名绑定，并将它作为一个属性存放到 Session 对象中。 参数 name 为属性名，参数 object 为属性值。</td></tr> <tr><td>Object</td> <td>getAttribute(String name)</td> <td>根据指定的属性名 name，返回 Session 对象中对应的属性值。</td></tr> <tr><td>void</td> <td>removeAttribute(String name)</td> <td>从 Session 对象中移除属性名为 name 的属性。</td></tr> <tr><td>Enumeration</td> <td>getAttributeNames()</td> <td>用于返回 Session 对象中的所有属性名的枚举集合。</td></tr></tbody></table> <h4 id="cookie-客户端"><a href="#cookie-客户端" class="header-anchor">#</a> Cookie 客户端</h4> <p>详见:</p> <ul><li><a href="https://blog.csdn.net/qq_29132907/article/details/80390792" target="_blank" rel="noopener noreferrer">Cookie用法大全</a></li> <li>技术文档 API: <a href="http://c.biancheng.net/servlet2/cookie.html" target="_blank" rel="noopener noreferrer">Servlet Cookie的使用 (biancheng.net)</a></li></ul> <h5 id="_1-cookie-案例"><a href="#_1-cookie-案例" class="header-anchor">#</a> 1.Cookie 案例</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestHeader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ResponseBody</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/jurisdiction&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JurisdictionController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/setCookie&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建 cookie 存入数据</span>
        <span class="token class-name">Cookie</span> ck1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;account&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value_阿派&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置 cookie 的存活时间 默认为秒 | 特殊值: [0_不选择则立刻删除] [-1_关闭浏览器则删除]</span>
        ck1<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 发送cookie到客户端浏览器</span>
        response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>ck1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/getCookie&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取的是请求里的所有cookie组成的数组</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookie <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 遍历 cookie 数组 | 通过名称 name 获取 cookie</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>cookie<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;account&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cookie<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cookie<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//得到peter</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h5 id="_2-cookie-的-api"><a href="#_2-cookie-的-api" class="header-anchor">#</a> 2.Cookie 的 API</h5> <blockquote><p>HttpServletResponse 接口和 HttpServletRequest 接口也都定义了与 Cookie 相关的方法，如下表所示。</p></blockquote> <table><thead><tr><th>方法</th> <th>描述</th> <th>所属接口</th></tr></thead> <tbody><tr><td>void addCookie(Cookie cookie)</td> <td>用于在响应头中增加一个相应的 Set-Cookie 头字段。</td> <td>javax.servlet.http.HttpServletResponse</td></tr> <tr><td>Cookie[] getCookies()</td> <td>用于获取客户端提交的 Cookie。</td> <td>javax.servlet.http.HttpServletRequest</td></tr></tbody></table> <blockquote><p>javax.servlet.http.Cookie 类中提供了一系列获取或者设置 Cookie 的方法，如下表。</p></blockquote> <table><thead><tr><th>返回值类型</th> <th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>int</td> <td>getMaxAge()</td> <td>用于获取指定 Cookie 的最大有效时间，以秒为单位。 默认情况下取值为 -1，表示该 Cookie 保留到浏览器关闭为止。</td></tr> <tr><td>String</td> <td>getName()</td> <td>用于获取 Cookie 的名称。</td></tr> <tr><td>String</td> <td>getPath()</td> <td>用于获取 Cookie 的有效路径。</td></tr> <tr><td>boolean</td> <td>getSecure()</td> <td>如果浏览器只通过安全协议发送 Cookie，则返回 true；如果浏览器可以使用任何协议发送 Cookie，则返回 false。</td></tr> <tr><td>String</td> <td>getValue()</td> <td>用于获取 Cookie 的值。</td></tr> <tr><td>int</td> <td>getVersion()</td> <td>用于获取 Cookie 遵守的协议版本。</td></tr> <tr><td>void</td> <td>setMaxAge(int expiry)</td> <td>用于设置 Cookie 的最大有效时间，以秒为单位。 取值为正值时，表示 Cookie 在经过指定时间后过期。取值为负值时，表示 Cookie 不会被持久存储，在 Web 浏览器退出时删除。取值为 0 时，表示删除该 Cookie。</td></tr> <tr><td>void</td> <td>setPath(String uri)</td> <td>用于指定 Cookie 的路径。</td></tr> <tr><td>void</td> <td>setSecure(boolean flag)</td> <td>用于设置浏览器是否只能使用安全协议（如 HTTPS 或 SSL）发送 Cookie。</td></tr> <tr><td>void</td> <td>setValue(String newValue)</td> <td>用于设置 Cookie 的值。</td></tr> <tr><td>void</td> <td>setComment(String purpose)</td> <td>对该cookie进行描述的信息(说明作用) ,浏览器显示cookie信息时能看到</td></tr> <tr><td>void</td> <td>setDomain(String pattem)</td> <td>符合该pattem (域名正则)的就可以访问该Cookie的域名。如果设置为“.google.com ,则所有以“google .com&quot;结尾的域名都可以访问该Cookie.注意第一 个字符必须为“.”</td></tr> <tr><td>void</td> <td>setHttpOnly(boolean httpOnly)</td> <td>没为true后，只能通过ttp访问, javascnp(无法访问还可防止xss读取cookie</td></tr></tbody></table> <h5 id="_3-cookie-的使用细节"><a href="#_3-cookie-的使用细节" class="header-anchor">#</a> 3.Cookie 的使用细节</h5> <blockquote><p>使用 Cookie 开发时需要注意以下细节：</p></blockquote> <ul><li>一个 Cookie 只能标识一种信息，它至少包含一个名称（NAME）和一个值（VALUE）。</li> <li>如果创建了一个 Cookie，并发送到浏览器，默认情况下它是一个会话级别的 Cookie。用户退出浏览器就被删除。如果希望将 Cookie 存到磁盘上，则需要调用 setMaxAge(int maxAge) 方法设置最大有效时间，以秒为单位。</li> <li>使用 setMaxAge(0) 手动删除 Cookie时，需要使用 setPath 方法指定 Cookie 的路径，且该路径必须与创建 Cookie 时的路径保持一致。</li></ul> <h5 id="_4-cookie-的缺点"><a href="#_4-cookie-的缺点" class="header-anchor">#</a> 4.Cookie 的缺点</h5> <blockquote><p>Cookie 虽然可以解决服务器跟踪用户状态的问题，但是它具有以下缺点：</p></blockquote> <ul><li>在 HTTP 请求中，Cookie 是明文传递的，容易泄露用户信息，安全性不高。</li> <li>浏览器可以禁用 Cookie，一旦被禁用，Cookie 将无法正常工作。</li> <li>Cookie 对象中只能设置文本（字符串）信息。</li> <li>客户端浏览器保存 Cookie 的数量和长度是有限制的。</li></ul> <h3 id="spring-mvc-补充"><a href="#spring-mvc-补充" class="header-anchor">#</a> Spring MVC 补充</h3> <ul><li>详见: <a href="http://c.biancheng.net/servlet2/what-is-servlet.html" target="_blank" rel="noopener noreferrer">Servlet到底是什么（非常透彻） (biancheng.net)</a></li></ul> <h4 id="乱码解决"><a href="#乱码解决" class="header-anchor">#</a> 乱码解决</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 乱码解决</span>

<span class="token comment">// 设置响应对象的字符集编码为UTF-8</span>
response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 通过设置response的contentType来指定MIME类型		</span>
response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="页面跳转"><a href="#页面跳转" class="header-anchor">#</a> 页面跳转</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// forward 转发页面和转发到的页面可以共享 request 里面的数据；redirect 不能共享数据</span>

<span class="token comment">// 服务端转发 | forward</span>
<span class="token comment">// 转发器-请求转发至指定文件-表示基于webapp根目录 转发通过转发器调用方法 forward() 实现	页面的跳转</span>
req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/ 文件地址&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 客户端重定向 | redirect </span>
<span class="token comment">// 重定向是客户端行为；服务端发送一个状态码告诉浏览器重新请求新的地址，因此地址栏显示的是新的 URL</span>
resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;文件地址&quot;</span><span class="token punctuation">)</span>
resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/文件地址&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="servlet-前端控制器"><a href="#servlet-前端控制器" class="header-anchor">#</a> Servlet 前端控制器</h3> <h4 id="默认自带接口参数"><a href="#默认自带接口参数" class="header-anchor">#</a> 默认自带接口参数</h4> <ul><li>HttpServletRequest request</li> <li>HttpServletResponse response</li> <li>HttpSession session</li> <li>@RequestHeader(&quot;请求头名称&quot;) String 变量名</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/setCookie&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
</code></pre></div><h4 id="httpservlet-请求"><a href="#httpservlet-请求" class="header-anchor">#</a> HttpServlet  请求</h4> <ol><li><p>Servlet 容器接收到来自客户端的 HTTP 请求后，容器会针对该请求分别创建一个 HttpServletRequest 对象和 HttpServletReponse 对象。</p></li> <li><p>容器将 HttpServletRequest 对象和 HttpServletReponse 对象以参数的形式传入 service() 方法内，并调用该方法。</p></li> <li><p>在 service() 方法中 Servlet 通过 HttpServletRequest 对象获取客户端信息以及请求的相关信息。</p></li> <li><p>对 HTTP 请求进行处理。</p></li> <li><p>请求处理完成后，将响应信息封装到 HttpServletReponse 对象中。</p></li> <li><p>Servlet 容器将响应信息返回给客户端。</p></li> <li><p>当 Servlet 容器将响应信息返回给客户端后，HttpServletRequest 对象和 HttpServletReponse 对象被销毁。</p></li></ol> <h4 id="httpservletrequest-接口"><a href="#httpservletrequest-接口" class="header-anchor">#</a> HttpServletRequest 接口</h4> <blockquote><p>[ HttpServletRequest 接口 乱码解决 ] 详见: <a href="http://c.biancheng.net/servlet2/httpservletrequest.html" target="_blank" rel="noopener noreferrer">HttpServletRequest接口详解 (biancheng.net)</a></p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 在 Servlet API 中，定义了一个 HttpServletRequest 接口，它继承自 ServletRequest 接口。HttpServletRequest 对象专门用于封装 HTTP 请求消息，简称 request 对象。</span>

<span class="token comment">// HTTP 请求消息分为请求行、请求消息头和请求消息体三部分，所以 HttpServletRequest 接口中定义了获取请求行、请求头和请求消息体的相关方法。</span>
</code></pre></div><h5 id="_1-获取请求行信息"><a href="#_1-获取请求行信息" class="header-anchor">#</a> 1.获取请求行信息</h5> <blockquote><p>HTTP 请求的请求行中包含请求方法、请求资源名、请求路径等信息，HttpServletRequest 接口定义了一系列获取请求行信息的方法</p></blockquote> <table><thead><tr><th>返回值类型</th> <th>方法声明</th> <th>描述</th></tr></thead> <tbody><tr><td>String</td> <td>getMethod()</td> <td>该方法用于获取 HTTP 请求方式（如 GET、POST 等）。</td></tr> <tr><td>String</td> <td>getRequestURI()</td> <td>该方法用于获取请求行中的资源名称部分，即位于 URL 的主机和端口之后，参数部分之前的部分。</td></tr> <tr><td>String</td> <td>getQueryString()</td> <td>该方法用于获取请求行中的参数部分，也就是 URL 中“?”以后的所有内容。</td></tr> <tr><td>String</td> <td>getContextPath()</td> <td>返回当前 Servlet 所在的应用的名字（上下文）。对于默认（ROOT）上下文中的 Servlet，此方法返回空字符串&quot;&quot;。</td></tr> <tr><td>String</td> <td>getServletPath()</td> <td>该方法用于获取 Servlet 所映射的路径。</td></tr> <tr><td>String</td> <td>getRemoteAddr()</td> <td>该方法用于获取客户端的 IP 地址。</td></tr> <tr><td>String</td> <td>getRemoteHost()</td> <td>该方法用于获取客户端的完整主机名，如果无法解析出客户机的完整主机名，则该方法将会返回客户端的 IP 地址。</td></tr></tbody></table> <h5 id="_2-获取请求头信息"><a href="#_2-获取请求头信息" class="header-anchor">#</a> 2.获取请求头信息</h5> <blockquote><p>当浏览器发送请求时，需要通过请求头向服务器传递一些附加信息，例如客户端可以接收的数据类型、压缩方式、语言等。为了获取请求头中的信息， HttpServletRequest 接口定义了一系列用于获取 HTTP 请求头字段的方法</p></blockquote> <table><thead><tr><th>返回值类型</th> <th>方法声明</th> <th>描述</th></tr></thead> <tbody><tr><td>String</td> <td>getHeader(String name)</td> <td>该方法用于获取一个指定头字段的值。 如果请求消息中包含多个指定名称的头字段，则该方法返回其中第一个头字段的值。</td></tr> <tr><td>Enumeration</td> <td>getHeaders(String name)</td> <td>该方法返回指定头字段的所有值的枚举集合， 在多数情况下，一个头字段名在请求消息中只出现一次，但有时可能会出现多次。</td></tr> <tr><td>Enumeration</td> <td>getHeaderNames()</td> <td>该方法返回请求头中所有头字段的枚举集合。</td></tr> <tr><td>String</td> <td>getContentType()</td> <td>该方法用于获取 Content-Type 头字段的值。</td></tr> <tr><td>int</td> <td>getContentLength()</td> <td>该方法用于获取 Content-Length 头字段的值 。</td></tr> <tr><td>String</td> <td>getCharacterEncoding()</td> <td>该方法用于返回请求消息的字符集编码 。</td></tr></tbody></table> <h5 id="_3-获取-form-表单的数据"><a href="#_3-获取-form-表单的数据" class="header-anchor">#</a> 3.获取 form 表单的数据</h5> <blockquote><p>经常需要获取用户提交的表单数据，例如用户名和密码等。为了方便获取表单中的请求参数，ServletRequest 定义了一系列获取请求参数的方法，</p></blockquote> <table><thead><tr><th>返回值类型</th> <th>方法声明</th> <th>功能描述</th></tr></thead> <tbody><tr><td>String</td> <td>getParameter(String name)</td> <td>返回指定参数名的参数值。</td></tr> <tr><td>String [ ]</td> <td>getParameterValues (String name)</td> <td>以字符串数组的形式返回指定参数名的所有参数值（HTTP 请求中可以有多个相同参数名的参数）。</td></tr> <tr><td>Enumeration</td> <td>getParameterNames()</td> <td>以枚举集合的形式返回请求中所有参数名。</td></tr> <tr><td>Map</td> <td>getParameterMap()</td> <td>用于将请求中的所有参数名和参数值装入一个 Map 对象中返回。</td></tr></tbody></table> <h4 id="httpservletresponse-接口"><a href="#httpservletresponse-接口" class="header-anchor">#</a> HttpServletResponse 接口</h4> <blockquote><p>[ HttpServletResponse 接口 乱码解决 ] 详见:<a href="http://c.biancheng.net/servlet2/httpservletresponse.html" target="_blank" rel="noopener noreferrer">HttpServletResponse接口详解 (biancheng.net)</a></p></blockquote> <h5 id="_1-响应头相关的方法"><a href="#_1-响应头相关的方法" class="header-anchor">#</a> 1.响应头相关的方法</h5> <p>HttpServletResponse 接口中定义了一系列设置 HTTP 响应头字段的方法，如下表所示。</p> <table><thead><tr><th>返回值类型</th> <th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>void</td> <td>addHeader(String name,String value)</td> <td>用于增加响应头字段，其中，参数 name 用于指定响应头字段的名称，参数 value 用于指定响应头字段的值。</td></tr> <tr><td>void</td> <td>setHeader (String name,String value)</td> <td>用于设置响应头字段，其中，参数 name 用于指定响应头字段的名称，参数 value 用于指定响应头字段的值。</td></tr> <tr><td>void</td> <td>addIntHeader(String name,int value)</td> <td>用于增加值为 int 类型的响应头字段，其中，参数 name 用于指定响应头字段的名称，参数 value 用于指定响应头字段的值，类型为 int。</td></tr> <tr><td>void</td> <td>setIntHeader(String name, int value)</td> <td>用于设置值为 int 类型的响应头字段，其中，参数 name 用于指定响应头字段的名称，参数 value 用于指定响应头字段的值，类型为 int。</td></tr> <tr><td>void</td> <td>setContentType(String type)</td> <td>用于设置 Servlet 输出内容的 MIME 类型以及编码格式。</td></tr> <tr><td>void</td> <td>setCharacterEncoding(String charset)</td> <td>用于设置输出内容使用的字符编码。</td></tr></tbody></table> <h5 id="_2-响应体相关的方法"><a href="#_2-响应体相关的方法" class="header-anchor">#</a> 2.响应体相关的方法</h5> <p>由于在 HTTP 响应消息中，大量的数据都是通过响应消息体传递的。因此 ServletResponse 遵循以 I/O 流传递大量数据的设计理念，在发送响应消息体时，定义了两个与输出流相关的方法。</p> <table><thead><tr><th>返回值类型</th> <th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>ServletOutputStream</td> <td>getOutputStream()</td> <td>用于获取字节输出流对象。</td></tr> <tr><td>PrintWriter</td> <td>getWriter()</td> <td>用于获取字符输出流对象。</td></tr></tbody></table> <h2 id="spring-注解与通知"><a href="#spring-注解与通知" class="header-anchor">#</a> Spring 注解与通知</h2> <h3 id="spring-注解"><a href="#spring-注解" class="header-anchor">#</a> Spring 注解</h3> <h4 id="_1-元注解"><a href="#_1-元注解" class="header-anchor">#</a> 1. 元注解</h4> <p>介绍: 元注解用于设置自定义注解的注解</p> <p><strong>@Target:</strong>  用于定义注解可用在哪些目标元素上 | 描述了注解修饰的对象范围，取值在java lang.annotation.ElementType定义</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// @Target(ElementType.METHOD)</span>
● METHOD<span class="token operator">:</span>用于描述 作用于方法上
● PACKAGE<span class="token operator">:</span> 用于描述包
● PARAMETER<span class="token operator">:</span> 用于描述方法变量
● TYPE<span class="token operator">:</span> 用于描述类、接口或<span class="token keyword">enum</span>类型
● FILE<span class="token operator">:</span>用于描述字段<span class="token punctuation">(</span>bean类字段<span class="token punctuation">)</span>
    
<span class="token comment">// 内部字段为数组 可多个范围</span>
<span class="token comment">// @Target({ElementType.METHOD, ElementType.TYPE, ElementType.PARAMETER})</span>
</code></pre></div><p><strong>@Retention:</strong>  表示注解保留时间长短。取值在java.lang annotation.RetentionPolicy中,取值为:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// @Retention(RetentionPolicy.RUNTIME)</span>
●SOURCE<span class="token operator">:</span> 在源文件中有效<span class="token punctuation">,</span>编译过程中会被忽略
●CLASS<span class="token operator">:</span>随源文件一 起编译在<span class="token keyword">class</span>文件中，运行时忽略
●RUNTIME<span class="token operator">:</span>在运行时有效 <span class="token punctuation">(</span>在环绕通知内可以通过反射获取方法的所有信息 <span class="token operator">|</span> 常用<span class="token punctuation">)</span>
</code></pre></div><p><strong>@Documented:</strong>  用于被修饰的Annotation类将被javadoc工具提取成文档，默认情况下，javadoc是不包括注解的</p> <p><strong>@Inherited:</strong>   指定Annotation具有继承性</p> <h4 id="_2-自定义注解"><a href="#_2-自定义注解" class="header-anchor">#</a> 2. 自定义注解</h4> <blockquote><p>使用关键字 @interface  定义注解 | 注意以下几点:</p> <p>自定义注解可配合AOP 切面通知通过反射获取信息实现日志记录| 详见: 其二日志实现</p></blockquote> <ul><li>a.注解类型 的成员属性要写成无参数成员方法</li> <li>b.一旦注解定义时指定了成员属性,则要引用该注解时,必须为该注解的所有成员传参</li> <li>c.如果引用某个注解时,为一个数组类型的成员属性传参,传多个参数值,则必须使用{},只传一个参数可以省略{}</li> <li>d.如果定义的成员属性名称为value时,在传参时可以省略value</li> <li>e.如果定义成员属性有多个时,在传参时value也必须写出来</li> <li>f.成员属性在定义时指定了默认值时,则可以不用为其传参</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token comment">/**
 *  AOP 实现操作日志记录
 */</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>METHOD<span class="token punctuation">)</span> <span class="token comment">// 作用于方法上</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span> <span class="token comment">// 保留运行时 反射获取信息</span>
<span class="token annotation punctuation">@Documented</span> <span class="token comment">// 文档</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MySysLog</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// default: 默认值 | 没有默认值在使用注解时必须传值</span>
    
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">params</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// 数组可传递多个值</span>

<span class="token punctuation">}</span>

<span class="token comment">// 成员属性有多个时,在传参时value也必须写出来 | 数组可传递多个值</span>
<span class="token annotation punctuation">@MySysLog</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;value的值&quot;</span><span class="token punctuation">,</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;查询用户列表&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;数组可传递多个值&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="反射获取注解值"><a href="#反射获取注解值" class="header-anchor">#</a> 反射获取注解值</h3> <h4 id="反射获取注解值工具类"><a href="#反射获取注解值工具类" class="header-anchor">#</a> 反射获取注解值工具类</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>util<span class="token punctuation">.</span>anzhujie</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>afterturn<span class="token punctuation">.</span>easypoi<span class="token punctuation">.</span>excel<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Excel</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Field</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyGetAnnotations</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * 获取实体类中 Excel 注解的值
     * @param instance
     * @param fieldMap
     * @return Map&lt;Integer, String&gt; key: 标题列号  value: 标题名称
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getDeclaredFieldsInfo</span><span class="token punctuation">(</span><span class="token class-name">Object</span> instance<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fieldMap<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取实体类的所有属性，返回 Field 数组</span>
        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields <span class="token operator">=</span> instance<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fields<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 除过 fieldMap 中的属性，其他属性都获取</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fieldMap<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span>fields<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 判断是否包含 Excel 注解</span>
                <span class="token keyword">boolean</span> annotationPresent <span class="token operator">=</span> fields<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span><span class="token class-name">Excel</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>annotationPresent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 获取 Excel 注解的 name 属性</span>
                    <span class="token class-name">String</span> name <span class="token operator">=</span> fields<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Excel</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 获取 Excel 注解的 orderNum 属性</span>
                    <span class="token class-name">Integer</span> orderNum <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>fields<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Excel</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orderNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 将 orderNum 和 name 存入 map 中</span>
                    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>orderNum<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 返回 map</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h4 id="工具类的调用"><a href="#工具类的调用" class="header-anchor">#</a> 工具类的调用</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> dims <span class="token operator">=</span> <span class="token class-name">MyGetAnnotations</span><span class="token punctuation">.</span><span class="token function">getDeclaredFieldsInfo</span><span class="token punctuation">(</span><span class="token keyword">new</span> 实体类<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="aop-切面通知"><a href="#aop-切面通知" class="header-anchor">#</a> AOP 切面通知</h3> <h4 id="通知注解"><a href="#通知注解" class="header-anchor">#</a> 通知注解</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 作用于类上: 表示此类为通知类 如:事务类就为通知类 包含回滚 提交方法等</span>
<span class="token annotation punctuation">@Aspect</span> 

<span class="token comment">// 前置 用来通知类的方法上 | 指定位置范围执行此通知</span>
<span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.woniu.service.*.*(..))&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 后置</span>
<span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.woniu.service.*.*(..))&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 异常通知</span>
<span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.woniu.service.*.*(..))&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 最终通知</span>
<span class="token annotation punctuation">@After</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.woniu.service.*.*(..))&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 环绕通知</span>
<span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.woniu.service.*.*(..))&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// 环绕通知 | 通过自定义注解来执行通知 | 只有方法上面有@MySysLog注解才会执行通知</span>
<span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;@annotation(mysyslog)&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> point<span class="token punctuation">,</span> <span class="token class-name">MySysLog</span> mysyslog<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 自定义注解可配合AOP切面通知通过反射获取信息实现日志记录| 详见: 其二日志实现</span>
    <span class="token comment">// 执行环绕前置</span>
    
    <span class="token class-name">Object</span> result <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 立刻调用业务层方法</span>
    
    <span class="token comment">// 执行环绕后置</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="通知详解"><a href="#通知详解" class="header-anchor">#</a> 通知详解</h4> <blockquote><p>运行顺序:</p></blockquote> <ul><li>正常情况: 环绕前 &gt; 前置 &gt; 执行方法 &gt; 后置 &gt; 最终 &gt; 环绕后</li> <li>异常情况: 环绕前 &gt; 前置 &gt; 执行方法 &gt; 异常  &gt; 最终 &gt; 环绕后</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>后置<span class="token operator">:</span> 只有在目标方法没有异常下回执行
异常<span class="token operator">:</span> 只有在目标方法有异常下回执行
最终<span class="token operator">:</span> 无论异常都会执行
环绕<span class="token operator">:</span> 环绕的前 后无论异常都会执行
</code></pre></div><blockquote><p>使用方法</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 1.根据指定的范围执行切面通知</span>
<span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.woniu.service.*.*(..))&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 2.根据自定义注解来获取执行的方法进行切面通知</span>
<span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;@annotation(自定义注解名:小写)&quot;</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>apai</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">JoinPoint</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">ProceedingJoinPoint</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AopTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.apai.service.*.*(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> point<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Before_前置通知&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法名称</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法参数</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> args <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 后置</span>
    <span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;execution(* com.apai.service.*.*(..))&quot;</span><span class="token punctuation">,</span> returning<span class="token operator">=</span><span class="token string">&quot;result&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterReturning</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> point<span class="token punctuation">,</span> <span class="token class-name">Object</span> result<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AfterReturning_后置通知&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法名称</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法参数</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> args <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 目标方法(没有返回值则为null)执行结果 </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AfterReturning_目标方法执行结果为：&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 异常通知</span>
    <span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;execution(* com.apai.service.*.*(..))&quot;</span><span class="token punctuation">,</span> throwing <span class="token operator">=</span> <span class="token string">&quot;ex&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterThrowing</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> point<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AfterThrowing_异常通知&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法名称</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法参数</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> args <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法执行出错的异常信息</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AfterThrowing_方法执行出错的异常信息：&quot;</span> <span class="token operator">+</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 最终通知</span>
    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.apai.service.*.*(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">after</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> point<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;After_最终通知&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法名称</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法参数</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> args <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 环绕通知</span>
    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.apai.service.*.*(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">aroundMethod</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pdj<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// Around_环绕前 | 创建目标方法执行结果的变量</span>
        <span class="token class-name">Object</span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法名称</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> pdj<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法参数</span>
        <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> pdj<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Around_环绕前_方法参数：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 执行目标方法 获取目标方法(没有返回值则为null)执行结果 </span>
            result <span class="token operator">=</span> pdj<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 捕获目标方法执行时抛出的异常</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Around_环绕执行目标方法异常为：&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Around_环绕后</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Around_环绕后&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="spring-boot-事务"><a href="#spring-boot-事务" class="header-anchor">#</a> Spring Boot 事务</h2> <h3 id="事务-注解配置"><a href="#事务-注解配置" class="header-anchor">#</a> 事务_注解配置</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 启动类 开启事务</span>
<span class="token annotation punctuation">@EnableTransactionManagement</span>
<span class="token comment">// 业务层方法 指定事务方法</span>
<span class="token annotation punctuation">@Translation</span>
</code></pre></div><h3 id="事务-工具类"><a href="#事务-工具类" class="header-anchor">#</a> 事务_工具类</h3> <h4 id="依赖"><a href="#依赖" class="header-anchor">#</a> 依赖</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- AOP 面向切面编程 事务支持--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="事务-配置包"><a href="#事务-配置包" class="header-anchor">#</a> 事务_配置包</h4> <blockquote><p>config 包下   WebConfig</p></blockquote> <p><strong>注意:</strong></p> <ul><li>事务的配置类 需要使用 AOP 依赖</li> <li>方法名称必须以 设置的名称开头</li> <li>注意更改 业务层的路径 防止扫描不到无法使用事务</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>apai<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>aop<span class="token punctuation">.</span></span><span class="token class-name">Advisor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>aop<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span></span><span class="token class-name">AspectJExpressionPointcut</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>aop<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">DefaultPointcutAdvisor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span></span><span class="token class-name">DataSourceTransactionManager</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span></span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>interceptor<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token comment">// 开启事务注解</span>
<span class="token annotation punctuation">@EnableAspectJAutoProxy</span>
<span class="token comment">// 开始事务管理器</span>
<span class="token annotation punctuation">@EnableTransactionManagement</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DataSourceTransactionManager</span> dataSourceTransactionManager<span class="token punctuation">;</span>

    <span class="token comment">// 配置通知</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">TransactionInterceptor</span> <span class="token function">getTransactionInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TransactionInterceptor</span> transactionInterceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransactionInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        transactionInterceptor<span class="token punctuation">.</span><span class="token function">setTransactionManager</span><span class="token punctuation">(</span>dataSourceTransactionManager<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 设置 readOnly 规则</span>
        <span class="token class-name">RuleBasedTransactionAttribute</span> readOnlyTx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RuleBasedTransactionAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        readOnlyTx<span class="token punctuation">.</span><span class="token function">setReadOnly</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        readOnlyTx<span class="token punctuation">.</span><span class="token function">setPropagationBehavior</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>PROPAGATION_SUPPORTS<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置 required 规则</span>
        <span class="token class-name">RuleBasedTransactionAttribute</span> requiredTx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RuleBasedTransactionAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        requiredTx<span class="token punctuation">.</span><span class="token function">setRollbackRules</span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singletonList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RollbackRuleAttribute</span><span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        requiredTx<span class="token punctuation">.</span><span class="token function">setPropagationBehavior</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>PROPAGATION_REQUIRED<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 绑定规则 | 业务层是方法名如需事务必须以指定的名称开头</span>
        <span class="token class-name">NameMatchTransactionAttributeSource</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NameMatchTransactionAttributeSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">TransactionAttribute</span><span class="token punctuation">&gt;</span></span> txMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        txMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;save*&quot;</span><span class="token punctuation">,</span> requiredTx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        txMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;add*&quot;</span><span class="token punctuation">,</span> requiredTx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        txMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;insert*&quot;</span><span class="token punctuation">,</span> requiredTx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        txMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;delete*&quot;</span><span class="token punctuation">,</span> requiredTx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        txMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;update*&quot;</span><span class="token punctuation">,</span> requiredTx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        txMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;find*&quot;</span><span class="token punctuation">,</span> readOnlyTx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        txMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;get*&quot;</span><span class="token punctuation">,</span> readOnlyTx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        txMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;query*&quot;</span><span class="token punctuation">,</span> readOnlyTx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        source<span class="token punctuation">.</span><span class="token function">setNameMap</span><span class="token punctuation">(</span>txMap<span class="token punctuation">)</span><span class="token punctuation">;</span>

        transactionInterceptor<span class="token punctuation">.</span><span class="token function">setTransactionAttributeSource</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> transactionInterceptor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 配置事务切面 | 注意修改指定的业务层的路径</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Advisor</span> <span class="token function">getAdvisor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">AspectJExpressionPointcut</span> pointcut <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AspectJExpressionPointcut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pointcut<span class="token punctuation">.</span><span class="token function">setExpression</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.apai.service.impl.*.*(..))&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DefaultPointcutAdvisor</span><span class="token punctuation">(</span>pointcut<span class="token punctuation">,</span> <span class="token function">getTransactionInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="spring-过滤器和拦截器"><a href="#spring-过滤器和拦截器" class="header-anchor">#</a> Spring 过滤器和拦截器</h2> <p>参考: https://blog.csdn.net/dhklsl/article/details/127533485</p> <h2 id="spring-boot-内置-api"><a href="#spring-boot-内置-api" class="header-anchor">#</a> Spring Boot 内置 API</h2> <p>https://mp.weixin.qq.com/s/QdB_AVUoMHEbdorhU1ricg</p> <h3 id="字符串类-api"><a href="#字符串类-api" class="header-anchor">#</a> 字符串类 API</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">-</span> 字符串判空
<span class="token comment">// null:true  | &quot;  &quot;:false</span>
<span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span>变量<span class="token punctuation">)</span> 
<span class="token comment">// null:空指针异常  | &quot;  &quot;:true</span>
变量<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token comment">// null:true  | &quot;  &quot;:false</span>
<span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>变量<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> 
<span class="token comment">// null:字符串null 反之:变量.tostring</span>
tring<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> 
<span class="token comment">// hutool依赖 | null和&quot; &quot; 都为true</span>
<span class="token class-name">StrUtil</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>变量<span class="token punctuation">)</span>
</code></pre></div><h3 id="集合类-api"><a href="#集合类-api" class="header-anchor">#</a> 集合类 API</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 判断集合内是否存在该数据</span>
list<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span> <span class="token operator">|</span> 判断list是否存在 <span class="token class-name">B</span>
set<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span>  <span class="token operator">|</span> 判断set是否存在 <span class="token class-name">B</span>
map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span> <span class="token operator">|</span> 判断map的键是否存在 <span class="token number">1</span>
map<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token string">&quot;33&quot;</span><span class="token punctuation">)</span> <span class="token operator">|</span> 判断map的值是否存在 <span class="token number">33</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// -- 集合互转 https://blog.csdn.net/wanghang88/article/details/105124582</span>
<span class="token comment">// List转换为Array：</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;China&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Switzerland&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Italy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;France&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> countries <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Array转换为List：</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> countries <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;China&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Switzerland&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Italy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;France&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>countries<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Map转换为List：</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Value</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Value</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="java-基础应用操作"><a href="#java-基础应用操作" class="header-anchor">#</a> | --- Java 基础应用操作</h2> <h2 id="新-项目的分层"><a href="#新-项目的分层" class="header-anchor">#</a> 新 | 项目的分层</h2> <ul><li><p>inlet  | 请求获取 数据输出</p> <ul><li>web  | 请求表现层
<ul><li>vo  | 存放参数的封装类</li></ul></li> <li>subcribe  | 存放 消息队列 的类</li> <li>timer  | 存放 定时器 的类</li></ul></li> <li><p>service   | 存放业务层的接口</p> <ul><li><p>impl   | 存放业务类</p></li> <li><p>dto  | 将业务从数据访问层获取的所有数据封装进 dto 的类  类似于多表查询封装的实体类</p> <p>从而返回到表现层输出给前端</p></li></ul></li> <li><p>adapter  | 将业务层需要的所有数据进行获取封装至po返回 如: mysql 或者 rides的数据</p></li> <li><p>outlet  | 数据访问层</p> <ul><li>dao / mapper  | 数据库的访问端口</li> <li>es  | 类似数据库</li> <li>po | 实体类 不能修改</li> <li>rides  | 获取 rides 的数据 返回值业务层</li></ul></li> <li><p>config  | 配置包</p></li> <li><p>exception  | 异常包</p></li> <li><p>filter  | 过滤器</p></li> <li><p>utils  | 工具包</p></li></ul> <h2 id="git-项目管理工作流"><a href="#git-项目管理工作流" class="header-anchor">#</a> Git 项目管理工作流</h2> <h3 id="gitkraken-小章鱼"><a href="#gitkraken-小章鱼" class="header-anchor">#</a> Gitkraken 小章鱼</h3> <h4 id="克隆仓库"><a href="#克隆仓库" class="header-anchor">#</a> 克隆仓库</h4> <blockquote><p>根据 码云平台创建的仓库地址 来进行克隆仓库</p></blockquote> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221009123020127.png" alt="image-20221009123020127"></p> <h4 id="创建分支"><a href="#创建分支" class="header-anchor">#</a> 创建分支</h4> <blockquote><p>在一个仓库里有很多的分支 | 每一个分支可对应的仓库内容不一样</p></blockquote> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221009123557416.png" alt="image-20221009123557416"></p> <h4 id="历史版本的回滚"><a href="#历史版本的回滚" class="header-anchor">#</a> 历史版本的回滚</h4> <blockquote><p>小章鱼会有所有代码提交的版本记录 | 可以选择历史版本进行回滚</p></blockquote> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221009124704156.png" alt="image-20221009124704156"></p> <h4 id="变基"><a href="#变基" class="header-anchor">#</a> 变基</h4> <blockquote><p>在团队协作时 | master 主分支(版本代码合并) 和 dev 分支(编写代码) | 在合并时我们就需要dev的内容拉取到主分支上进行合并</p></blockquote> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221009130357999.png" alt="image-20221009130357999"></p> <h4 id="提交忽略文件"><a href="#提交忽略文件" class="header-anchor">#</a> 提交忽略文件</h4> <blockquote><p>忽略则表示每次提交云端的时候不会提交该文件</p></blockquote> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221009130941165.png" alt="image-20221009130941165"></p> <h3 id="idea-git-项目管理"><a href="#idea-git-项目管理" class="header-anchor">#</a> IDEA _GIT  项目管理</h3> <h4 id="安装-gitee-插件"><a href="#安装-gitee-插件" class="header-anchor">#</a> 安装 gitee 插件</h4> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016171825259.png" alt="image-20221016171825259"></p> <h4 id="云端仓库代码拉取"><a href="#云端仓库代码拉取" class="header-anchor">#</a> 云端仓库代码拉取</h4> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016172034214.png" alt="image-20221016172034214"></p> <h4 id="本地代码推送云端"><a href="#本地代码推送云端" class="header-anchor">#</a> 本地代码推送云端</h4> <p>流程:  先拉取 --&gt; 有修改的文件使用暂存拉取 --&gt;  解决冲突 --&gt;  提交推送</p> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016172405790.png" alt="image-20221016172405790"></p> <h4 id="代码冲突"><a href="#代码冲突" class="header-anchor">#</a> 代码冲突</h4> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016172818610.png" alt="image-20221016172818610"></p> <h3 id="vscode-git-项目管理"><a href="#vscode-git-项目管理" class="header-anchor">#</a> VsCode_GIT  项目管理</h3> <h4 id="云端仓库代码拉取-2"><a href="#云端仓库代码拉取-2" class="header-anchor">#</a> 云端仓库代码拉取</h4> <h5 id="直接拉去"><a href="#直接拉去" class="header-anchor">#</a> 直接拉去</h5> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016173041864.png" alt="image-20221016173041864"></p> <h5 id="暂存拉取"><a href="#暂存拉取" class="header-anchor">#</a> 暂存拉取</h5> <blockquote><p>( 当有修改的文件 直接拉取云端代码会报错 )</p></blockquote> <ul><li>先进行 已修改的代码 暂存</li></ul> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016173431654.png" alt="image-20221016173431654"></p> <ul><li>在直接拉取</li> <li>然后再弹出储存即可</li></ul> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016173550629.png" alt="image-20221016173550629"></p> <h5 id="暂存拉取-命令板"><a href="#暂存拉取-命令板" class="header-anchor">#</a> 暂存拉取 命令板</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 手动解决</span>
①git stash 先将本地修改存储起来
②git pull 拉取远程
③git stash pop 还原暂存内容
</code></pre></div><h4 id="本地代码推送云端-2"><a href="#本地代码推送云端-2" class="header-anchor">#</a> 本地代码推送云端</h4> <p>流程:  先拉取 --&gt; 有修改的文件使用暂存拉取 --&gt;  解决冲突 --&gt;  提交推送</p> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016173900776.png" alt="image-20221016173900776"></p> <h4 id="代码冲突-2"><a href="#代码冲突-2" class="header-anchor">#</a> 代码冲突</h4> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016173639420.png" alt="image-20221016173639420"></p> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20221016173647544.png" alt="image-20221016173647544"></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="pager"><a href="/Welcome/post/2020/08/27/spring-boot-%E6%A1%86%E6%9E%B6/" class="next">
    下一篇<br> <span>
      Spring Boot 框架
    </span></a> <a href="/Welcome/post/2020/08/13/spring-%E6%A1%86%E6%9E%B6/" class="previous">
    上一篇<br> <span>
      Spring 框架
    </span></a></div> <!----></main> <ul class="catalog" style="top:0px !important;" data-v-86932056><li class="level-2 toc-link-前后端请求-详解" data-v-86932056>前后端请求 详解</li><li class="level-3 toc-link-post-和-get-请求的区别" data-v-86932056>Post 和 Get 请求的区别</li><li class="level-4 toc-link-get-请求" data-v-86932056>Get 请求</li><li class="level-4 toc-link-post-请求" data-v-86932056>Post 请求</li><li class="level-4 toc-link-表单提交" data-v-86932056>表单提交</li><li class="level-3 toc-link-axios-请求" data-v-86932056>Axios 请求</li><li class="level-4 toc-link-get-请求-2" data-v-86932056>get 请求</li><li class="level-4 toc-link-post-请求-2" data-v-86932056>post 请求</li><li class="level-3 toc-link-open-feign-微服务请求" data-v-86932056>Open Feign 微服务请求</li><li class="level-4 toc-link-restful-风格请求" data-v-86932056>Restful 风格请求</li><li class="level-4 toc-link-get-请求-3" data-v-86932056>Get 请求</li><li class="level-4 toc-link-post-请求-3" data-v-86932056>Post 请求</li><li class="level-4 toc-link-案例参考-详解" data-v-86932056>案例参考 详解</li><li class="level-2 toc-link-http-协议" data-v-86932056>Http 协议</li><li class="level-3 toc-link-http协议特点" data-v-86932056>HTTP协议特点:</li><li class="level-3 toc-link-http-请求数据格式" data-v-86932056>HTTP-请求数据格式</li><li class="level-3 toc-link-http-响应数据格式" data-v-86932056>HTTP-响应数据格式</li><li class="level-3 toc-link-http-状态码" data-v-86932056>HTTP - 状态码</li><li class="level-2 toc-link-web-基础补充" data-v-86932056>Web 基础补充</li><li class="level-3 toc-link-跨域" data-v-86932056>跨域</li><li class="level-3 toc-link-跨域出现原因" data-v-86932056>跨域出现原因</li><li class="level-3 toc-link-解决方案" data-v-86932056>解决方案</li><li class="level-3 toc-link-web-会话数据共享" data-v-86932056>Web 会话数据共享</li><li class="level-4 toc-link-session-服务端" data-v-86932056>Session  服务端</li><li class="level-5 toc-link-_1-session-作用域" data-v-86932056>1.Session 作用域</li><li class="level-5 toc-link-_2-session-案例" data-v-86932056>2.Session  案例</li><li class="level-5 toc-link-_3-session-api" data-v-86932056>3.Session API</li><li class="level-4 toc-link-cookie-客户端" data-v-86932056>Cookie 客户端</li><li class="level-5 toc-link-_1-cookie-案例" data-v-86932056>1.Cookie 案例</li><li class="level-5 toc-link-_2-cookie-的-api" data-v-86932056>2.Cookie 的 API</li><li class="level-5 toc-link-_3-cookie-的使用细节" data-v-86932056>3.Cookie 的使用细节</li><li class="level-5 toc-link-_4-cookie-的缺点" data-v-86932056>4.Cookie 的缺点</li><li class="level-3 toc-link-spring-mvc-补充" data-v-86932056>Spring MVC 补充</li><li class="level-4 toc-link-乱码解决" data-v-86932056>乱码解决</li><li class="level-4 toc-link-页面跳转" data-v-86932056>页面跳转</li><li class="level-3 toc-link-servlet-前端控制器" data-v-86932056>Servlet 前端控制器</li><li class="level-4 toc-link-默认自带接口参数" data-v-86932056>默认自带接口参数</li><li class="level-4 toc-link-httpservlet-请求" data-v-86932056>HttpServlet  请求</li><li class="level-4 toc-link-httpservletrequest-接口" data-v-86932056>HttpServletRequest 接口</li><li class="level-5 toc-link-_1-获取请求行信息" data-v-86932056>1.获取请求行信息</li><li class="level-5 toc-link-_2-获取请求头信息" data-v-86932056>2.获取请求头信息</li><li class="level-5 toc-link-_3-获取-form-表单的数据" data-v-86932056>3.获取 form 表单的数据</li><li class="level-4 toc-link-httpservletresponse-接口" data-v-86932056>HttpServletResponse 接口</li><li class="level-5 toc-link-_1-响应头相关的方法" data-v-86932056>1.响应头相关的方法</li><li class="level-5 toc-link-_2-响应体相关的方法" data-v-86932056>2.响应体相关的方法</li><li class="level-2 toc-link-spring-注解与通知" data-v-86932056>Spring 注解与通知</li><li class="level-3 toc-link-spring-注解" data-v-86932056>Spring 注解</li><li class="level-4 toc-link-_1-元注解" data-v-86932056>1. 元注解</li><li class="level-4 toc-link-_2-自定义注解" data-v-86932056>2. 自定义注解</li><li class="level-3 toc-link-反射获取注解值" data-v-86932056>反射获取注解值</li><li class="level-4 toc-link-反射获取注解值工具类" data-v-86932056>反射获取注解值工具类</li><li class="level-4 toc-link-工具类的调用" data-v-86932056>工具类的调用</li><li class="level-3 toc-link-aop-切面通知" data-v-86932056>AOP 切面通知</li><li class="level-4 toc-link-通知注解" data-v-86932056>通知注解</li><li class="level-4 toc-link-通知详解" data-v-86932056>通知详解</li><li class="level-2 toc-link-spring-boot-事务" data-v-86932056>Spring Boot 事务</li><li class="level-3 toc-link-事务-注解配置" data-v-86932056>事务_注解配置</li><li class="level-3 toc-link-事务-工具类" data-v-86932056>事务_工具类</li><li class="level-4 toc-link-依赖" data-v-86932056>依赖</li><li class="level-4 toc-link-事务-配置包" data-v-86932056>事务_配置包</li><li class="level-2 toc-link-spring-过滤器和拦截器" data-v-86932056>Spring 过滤器和拦截器</li><li class="level-2 toc-link-spring-boot-内置-api" data-v-86932056>Spring Boot 内置 API</li><li class="level-3 toc-link-字符串类-api" data-v-86932056>字符串类 API</li><li class="level-3 toc-link-集合类-api" data-v-86932056>集合类 API</li><li class="level-2 toc-link-java-基础应用操作" data-v-86932056>| --- Java 基础应用操作</li><li class="level-2 toc-link-新-项目的分层" data-v-86932056>新 | 项目的分层</li><li class="level-2 toc-link-git-项目管理工作流" data-v-86932056>Git 项目管理工作流</li><li class="level-3 toc-link-gitkraken-小章鱼" data-v-86932056>Gitkraken 小章鱼</li><li class="level-4 toc-link-克隆仓库" data-v-86932056>克隆仓库</li><li class="level-4 toc-link-创建分支" data-v-86932056>创建分支</li><li class="level-4 toc-link-历史版本的回滚" data-v-86932056>历史版本的回滚</li><li class="level-4 toc-link-变基" data-v-86932056>变基</li><li class="level-4 toc-link-提交忽略文件" data-v-86932056>提交忽略文件</li><li class="level-3 toc-link-idea-git-项目管理" data-v-86932056>IDEA _GIT  项目管理</li><li class="level-4 toc-link-安装-gitee-插件" data-v-86932056>安装 gitee 插件</li><li class="level-4 toc-link-云端仓库代码拉取" data-v-86932056>云端仓库代码拉取</li><li class="level-4 toc-link-本地代码推送云端" data-v-86932056>本地代码推送云端</li><li class="level-4 toc-link-代码冲突" data-v-86932056>代码冲突</li><li class="level-3 toc-link-vscode-git-项目管理" data-v-86932056>VsCode_GIT  项目管理</li><li class="level-4 toc-link-云端仓库代码拉取-2" data-v-86932056>云端仓库代码拉取</li><li class="level-5 toc-link-直接拉去" data-v-86932056>直接拉去</li><li class="level-5 toc-link-暂存拉取" data-v-86932056>暂存拉取</li><li class="level-5 toc-link-暂存拉取-命令板" data-v-86932056>暂存拉取 命令板</li><li class="level-4 toc-link-本地代码推送云端-2" data-v-86932056>本地代码推送云端</li><li class="level-4 toc-link-代码冲突-2" data-v-86932056>代码冲突</li></ul></div> <div class="search-page" data-v-60b9a85e><span class="search-close"><svg aria-hidden="true" width="34.56" height="34.56" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:2.16em;"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></span> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="menu-btn-container" data-v-413dbfb4 data-v-60b9a85e><div class="menu-btn-wrapper" data-v-413dbfb4><div class="menu-btn" data-v-413dbfb4><div class="menu-btn-icon" style="display:;" data-v-413dbfb4><span data-v-413dbfb4></span> <span data-v-413dbfb4></span> <span data-v-413dbfb4></span></div> <div class="menu-text" style="display:none;" data-v-413dbfb4>
        0
      </div> <svg class="menu-svg" data-v-413dbfb4><circle cx="50%" cy="50%" r="48%" class="menu-border" style="stroke-dasharray:0% 314.15926%;" data-v-413dbfb4></circle></svg></div> <div class="menu-btn-child-wrapper" data-v-413dbfb4><a role="button" aria-label="Toggle light" title="Toggle light" class="toggle-mode menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;"><path d="M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"/></svg></a> <div class="menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></div> <div class="menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"/></svg></div> <div class="menu-btn-child menu-toc-btn" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M48 48a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm448 16H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16z"/></svg></div> <div class="menu-btn-child menu-btn-sidebar" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M14 2a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1V3a1 1 0 011-1h12zM2 1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V3a2 2 0 00-2-2H2z"/><path d="M3 4a1 1 0 011-1h2a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V4z"/></svg></div></div></div></div> <div class="footer-wrapper footer" data-v-2f609db5 data-v-60b9a85e><span data-v-2f609db5>
      &copy; <a href="https://lujunandapai.github.io/" target="_blank">是阿派啊! </a> 2000 - 2024
      <br>
      祝我们 - <a href="https://gitee.com/LuisApai" target="_blank">平安喜乐</a> &
      <a href="https://github.com/LuJunandapai" target="_blank">万事顺遂</a>
    </span></div></div><div class="global-ui"></div></div>
    <script src="/Welcome/assets/js/app.62c113e7.js" defer></script><script src="/Welcome/assets/js/8.d7055a2e.js" defer></script><script src="/Welcome/assets/js/1.ed48a7ee.js" defer></script><script src="/Welcome/assets/js/2.9a3f7cc9.js" defer></script><script src="/Welcome/assets/js/42.f7f7482f.js" defer></script>
  </body>
</html>
