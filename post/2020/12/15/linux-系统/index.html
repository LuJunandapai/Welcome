<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux 基础 | 除非世界颠倒</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/Welcome/img/logo.svg">
    <meta name="description" content="螃蟹不能剥我的壳，笔记本不可能在写我，我不可能落在枫叶上雪花上，而你不可能想我 ...">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/Welcome/assets/css/0.styles.dc2e030a.css" as="style"><link rel="preload" href="/Welcome/assets/js/app.516fe79a.js" as="script"><link rel="preload" href="/Welcome/assets/js/8.d7055a2e.js" as="script"><link rel="preload" href="/Welcome/assets/js/1.ed48a7ee.js" as="script"><link rel="preload" href="/Welcome/assets/js/2.9a3f7cc9.js" as="script"><link rel="preload" href="/Welcome/assets/js/50.a03b85bf.js" as="script"><link rel="prefetch" href="/Welcome/assets/js/10.4c48ef06.js"><link rel="prefetch" href="/Welcome/assets/js/11.b879bea0.js"><link rel="prefetch" href="/Welcome/assets/js/12.fb12f646.js"><link rel="prefetch" href="/Welcome/assets/js/13.cbffec13.js"><link rel="prefetch" href="/Welcome/assets/js/14.b6f5f3af.js"><link rel="prefetch" href="/Welcome/assets/js/15.a2131606.js"><link rel="prefetch" href="/Welcome/assets/js/16.7c225af7.js"><link rel="prefetch" href="/Welcome/assets/js/17.40d10b01.js"><link rel="prefetch" href="/Welcome/assets/js/18.82c76934.js"><link rel="prefetch" href="/Welcome/assets/js/19.e7b2182d.js"><link rel="prefetch" href="/Welcome/assets/js/20.c46f9d92.js"><link rel="prefetch" href="/Welcome/assets/js/21.ea337a55.js"><link rel="prefetch" href="/Welcome/assets/js/22.547bbcbf.js"><link rel="prefetch" href="/Welcome/assets/js/23.ead5e6a4.js"><link rel="prefetch" href="/Welcome/assets/js/24.9e0e72ad.js"><link rel="prefetch" href="/Welcome/assets/js/25.fa8f4d05.js"><link rel="prefetch" href="/Welcome/assets/js/26.1bf3f67c.js"><link rel="prefetch" href="/Welcome/assets/js/27.ce57d01c.js"><link rel="prefetch" href="/Welcome/assets/js/28.cb29c565.js"><link rel="prefetch" href="/Welcome/assets/js/29.6907ddfb.js"><link rel="prefetch" href="/Welcome/assets/js/30.0be5fc4c.js"><link rel="prefetch" href="/Welcome/assets/js/31.6bde0d5c.js"><link rel="prefetch" href="/Welcome/assets/js/32.34f5889a.js"><link rel="prefetch" href="/Welcome/assets/js/33.2ca0ef80.js"><link rel="prefetch" href="/Welcome/assets/js/34.1717fdcc.js"><link rel="prefetch" href="/Welcome/assets/js/35.61737fc1.js"><link rel="prefetch" href="/Welcome/assets/js/36.7894ed75.js"><link rel="prefetch" href="/Welcome/assets/js/37.d90e4b65.js"><link rel="prefetch" href="/Welcome/assets/js/38.d1659e09.js"><link rel="prefetch" href="/Welcome/assets/js/39.caf6790b.js"><link rel="prefetch" href="/Welcome/assets/js/4.ffe2048e.js"><link rel="prefetch" href="/Welcome/assets/js/40.2504a486.js"><link rel="prefetch" href="/Welcome/assets/js/41.e7130bc9.js"><link rel="prefetch" href="/Welcome/assets/js/42.f7f7482f.js"><link rel="prefetch" href="/Welcome/assets/js/43.ac1c5fa2.js"><link rel="prefetch" href="/Welcome/assets/js/44.ef3652d5.js"><link rel="prefetch" href="/Welcome/assets/js/45.2c55d04e.js"><link rel="prefetch" href="/Welcome/assets/js/46.c4a65d3f.js"><link rel="prefetch" href="/Welcome/assets/js/47.8638023b.js"><link rel="prefetch" href="/Welcome/assets/js/48.72ce0eb1.js"><link rel="prefetch" href="/Welcome/assets/js/49.7cd3e27c.js"><link rel="prefetch" href="/Welcome/assets/js/5.2488397c.js"><link rel="prefetch" href="/Welcome/assets/js/51.589a3c46.js"><link rel="prefetch" href="/Welcome/assets/js/52.981c99fd.js"><link rel="prefetch" href="/Welcome/assets/js/53.fde74635.js"><link rel="prefetch" href="/Welcome/assets/js/54.2e2de828.js"><link rel="prefetch" href="/Welcome/assets/js/55.852d6024.js"><link rel="prefetch" href="/Welcome/assets/js/56.564b7e6b.js"><link rel="prefetch" href="/Welcome/assets/js/57.d15d395d.js"><link rel="prefetch" href="/Welcome/assets/js/58.ebd73e0e.js"><link rel="prefetch" href="/Welcome/assets/js/59.bea36105.js"><link rel="prefetch" href="/Welcome/assets/js/6.c8f2a0bc.js"><link rel="prefetch" href="/Welcome/assets/js/60.57e264e0.js"><link rel="prefetch" href="/Welcome/assets/js/61.81888b14.js"><link rel="prefetch" href="/Welcome/assets/js/62.d702fe6e.js"><link rel="prefetch" href="/Welcome/assets/js/63.1a728d38.js"><link rel="prefetch" href="/Welcome/assets/js/64.615fdf3a.js"><link rel="prefetch" href="/Welcome/assets/js/65.9bdbf700.js"><link rel="prefetch" href="/Welcome/assets/js/66.f4fbf76c.js"><link rel="prefetch" href="/Welcome/assets/js/67.6a2b7047.js"><link rel="prefetch" href="/Welcome/assets/js/68.4cde8bed.js"><link rel="prefetch" href="/Welcome/assets/js/69.08639d21.js"><link rel="prefetch" href="/Welcome/assets/js/7.72ca8d8f.js"><link rel="prefetch" href="/Welcome/assets/js/70.7fad46c9.js"><link rel="prefetch" href="/Welcome/assets/js/71.b87426aa.js"><link rel="prefetch" href="/Welcome/assets/js/72.7cbdc58c.js"><link rel="prefetch" href="/Welcome/assets/js/73.44891a19.js"><link rel="prefetch" href="/Welcome/assets/js/74.9fdab749.js"><link rel="prefetch" href="/Welcome/assets/js/75.d1888288.js"><link rel="prefetch" href="/Welcome/assets/js/76.3613c476.js"><link rel="prefetch" href="/Welcome/assets/js/77.c6781ffc.js"><link rel="prefetch" href="/Welcome/assets/js/78.4ce73b88.js"><link rel="prefetch" href="/Welcome/assets/js/79.d12ac054.js"><link rel="prefetch" href="/Welcome/assets/js/80.6738b1b4.js"><link rel="prefetch" href="/Welcome/assets/js/81.4373868b.js"><link rel="prefetch" href="/Welcome/assets/js/82.39b65938.js"><link rel="prefetch" href="/Welcome/assets/js/83.3a50d1b3.js"><link rel="prefetch" href="/Welcome/assets/js/84.bf35700b.js"><link rel="prefetch" href="/Welcome/assets/js/85.f76275c9.js"><link rel="prefetch" href="/Welcome/assets/js/86.485da767.js"><link rel="prefetch" href="/Welcome/assets/js/87.d19016fa.js"><link rel="prefetch" href="/Welcome/assets/js/9.73227006.js">
    <link rel="stylesheet" href="/Welcome/assets/css/0.styles.dc2e030a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="theme-container" class="theme-container post-container no-sidebar" data-v-60b9a85e><header class="navbar invert" data-v-60b9a85e><a href="/Welcome/" class="home-link router-link-active"><span class="site-name"> $ cd /home/ </span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/Welcome/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M489.2 287.9h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6V146.2c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-6-8-4.6-11.7-4.6v-38c8.3-2 17.1-3.4 25.7-3.4 10.9 0 20.9 4.3 31.4 4.3 4.6 0 27.7-1.1 27.7-8v-60c0-2.6-2-4.6-4.6-4.6-5.1 0-15.1 4.3-24 4.3-9.7 0-20.9-4.3-32.6-4.3-8 0-16 1.1-23.7 2.9v-4.9c5.4-2.6 9.1-8.3 9.1-14.3 0-20.7-31.4-20.8-31.4 0 0 6 3.7 11.7 9.1 14.3v111.7c-3.7 0-11.7-1.4-11.7 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32H128v-32c0-2.6-2-4.6-4.6-4.6H96c-2.6 0-4.6 2-4.6 4.6v178.3H54.8v-32c0-2.6-2-4.6-4.6-4.6H22.8c-2.6 0-4.6 2-4.6 4.6V512h182.9v-96c0-72.6 109.7-72.6 109.7 0v96h182.9V292.5c.1-2.6-1.9-4.6-4.5-4.6zm-288.1-4.5c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64zm146.4 0c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64z"/></svg>
  首页
</a></div><div class="nav-item"><a href="/Welcome/tags/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>
  时间轴 🏷️
</a></div><div class="nav-item"><a href="/Welcome/links/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M305.45 462.59c7.391 7.298 6.188 20.097-3 25.004-77.714 41.802-176.726 29.91-242.344-35.709-65.602-65.603-77.51-164.523-35.692-242.331 4.891-9.095 17.69-10.298 25.003-3l116.812 116.813 27.394-27.394c-.688-2.61-1.594-5.001-1.594-7.814a32.004 32.004 0 1132.004 32.005c-2.797 0-5.204-.891-7.798-1.594l-27.41 27.41zm206.526-159.523a16.103 16.103 0 01-16.002 17.003H463.86a15.97 15.97 0 01-15.892-15.002C440.467 175.549 336.453 70.534 207.03 63.533a15.845 15.845 0 01-15.002-15.908V16.027A16.094 16.094 0 01209.03.024C372.255 8.62 503.475 139.841 511.976 303.067zm-96.012-.297a16.21 16.21 0 01-16.112 17.3h-32.207a16.069 16.069 0 01-15.893-14.705c-6.907-77.011-68.118-138.91-144.924-145.224a15.94 15.94 0 01-14.8-15.893v-32.114a16.134 16.134 0 0117.3-16.096c110.123 8.501 198.228 96.607 206.636 206.732z"/></svg>
  链接 🌐
</a></div><div class="nav-item"><a href="/Welcome/docs/aboutMe/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M21 18H6a1 1 0 000 2h15v2H6a3 3 0 01-3-3V4a2 2 0 012-2h16v16zm-5-9V7H8v2h8z"/></svg>
  举杯 ❤
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      搜索
    </a></div></nav></div></header> <div class="sidebar-mask" data-v-60b9a85e></div> <aside class="sidebar" data-v-60b9a85e><div class="personal-info-wrapper" data-v-60b9a85e><div class="mobile-hero-avatar" data-v-60b9a85e><img src="https://cdn.jsdelivr.net/gh/LuJunandapai/ApaiImage@main/KaiYu-PicGo/202405241010613.png" alt="hero" data-v-60b9a85e></div> <p class="mobile-heading" data-v-60b9a85e>
          枫叶和雪花
        </p> <div class="sns-wrapper" data-v-60b9a85e><a href="https://github.com/LuJunandapai" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-59.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg></svg></a><a href="https://www.twitter.com/Lu_isApai" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></svg></a><a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-139.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"/></svg></svg></a><a href="https://www.linkedin.com/in/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 01107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg></svg></a><a href="https://www.zhihu.com/people/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M12.344 17.963l-1.688 1.074-2.131-3.35c-.44 1.402-1.172 2.665-2.139 3.825-.402.483-.82.918-1.301 1.375-.155.147-.775.717-.878.82l-1.414-1.414c.139-.139.787-.735.915-.856.43-.408.795-.79 1.142-1.206 1.266-1.518 2.03-3.21 2.137-5.231H3v-2h4V7h-.868c-.689 1.266-1.558 2.222-2.618 2.857L2.486 8.143c1.395-.838 2.425-2.604 3.038-5.36l1.952.434c-.14.633-.303 1.227-.489 1.783H11.5v2H9v4h2.5v2H9.185l3.159 4.963zm3.838-.07L17.298 17H19V7h-4v10h.736l.446.893zM13 5h8v14h-3l-2.5 2-1-2H13V5z"/></svg></svg></a><a href="mailto:lu_yuelian@163.com" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></svg></a>  <a href="/rss.xml" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg></svg></a></div> <hr data-v-60b9a85e></div> <nav class="nav-links"><div class="nav-item"><a href="/Welcome/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M489.2 287.9h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6V146.2c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-6-8-4.6-11.7-4.6v-38c8.3-2 17.1-3.4 25.7-3.4 10.9 0 20.9 4.3 31.4 4.3 4.6 0 27.7-1.1 27.7-8v-60c0-2.6-2-4.6-4.6-4.6-5.1 0-15.1 4.3-24 4.3-9.7 0-20.9-4.3-32.6-4.3-8 0-16 1.1-23.7 2.9v-4.9c5.4-2.6 9.1-8.3 9.1-14.3 0-20.7-31.4-20.8-31.4 0 0 6 3.7 11.7 9.1 14.3v111.7c-3.7 0-11.7-1.4-11.7 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32H128v-32c0-2.6-2-4.6-4.6-4.6H96c-2.6 0-4.6 2-4.6 4.6v178.3H54.8v-32c0-2.6-2-4.6-4.6-4.6H22.8c-2.6 0-4.6 2-4.6 4.6V512h182.9v-96c0-72.6 109.7-72.6 109.7 0v96h182.9V292.5c.1-2.6-1.9-4.6-4.5-4.6zm-288.1-4.5c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64zm146.4 0c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64z"/></svg>
  首页
</a></div><div class="nav-item"><a href="/Welcome/tags/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>
  时间轴 🏷️
</a></div><div class="nav-item"><a href="/Welcome/links/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M305.45 462.59c7.391 7.298 6.188 20.097-3 25.004-77.714 41.802-176.726 29.91-242.344-35.709-65.602-65.603-77.51-164.523-35.692-242.331 4.891-9.095 17.69-10.298 25.003-3l116.812 116.813 27.394-27.394c-.688-2.61-1.594-5.001-1.594-7.814a32.004 32.004 0 1132.004 32.005c-2.797 0-5.204-.891-7.798-1.594l-27.41 27.41zm206.526-159.523a16.103 16.103 0 01-16.002 17.003H463.86a15.97 15.97 0 01-15.892-15.002C440.467 175.549 336.453 70.534 207.03 63.533a15.845 15.845 0 01-15.002-15.908V16.027A16.094 16.094 0 01209.03.024C372.255 8.62 503.475 139.841 511.976 303.067zm-96.012-.297a16.21 16.21 0 01-16.112 17.3h-32.207a16.069 16.069 0 01-15.893-14.705c-6.907-77.011-68.118-138.91-144.924-145.224a15.94 15.94 0 01-14.8-15.893v-32.114a16.134 16.134 0 0117.3-16.096c110.123 8.501 198.228 96.607 206.636 206.732z"/></svg>
  链接 🌐
</a></div><div class="nav-item"><a href="/Welcome/docs/aboutMe/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M21 18H6a1 1 0 000 2h15v2H6a3 3 0 01-3-3V4a2 2 0 012-2h16v16zm-5-9V7H8v2h8z"/></svg>
  举杯 ❤
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      搜索
    </a></div></nav> <!----> </aside> <div class="content" data-v-60b9a85e><div class="post-header style-img" style="background-image:url(https://files.codelife.cc/wallhaven/full/g7/wallhaven-g7mrm3.png);" data-v-2c97064e><div class="header-mask" style="background:rgba(40, 57, 101, .4);" data-v-2c97064e></div> <div class="header-content" data-v-2c97064e><div class="tags" data-v-2c97064e><span class="tag" data-v-2c97064e>
        Linux
      </span></div> <h1 class="title" data-v-2c97064e>
      Linux 基础
    </h1> <h3 class="subtitle" data-v-2c97064e>
      Linux不仅是一个操作系统，它是一个充满可能性的平台，让你能够控制几乎每一个细节。
    </h3> <div class="icons" data-v-2c97064e><div class="icon" data-v-2c97064e><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-2c97064e><path d="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"/></svg> <span data-v-2c97064e>Lu Da Zhuang</span></div> <div class="icon" data-v-2c97064e><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-2c97064e><path d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"/></svg> <span data-v-2c97064e>2020-12-15</span></div> <div class="icon" data-v-2c97064e><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-2c97064e><path fill="none" d="M0 0h24v24H0z"/><path d="M17.618 5.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 11-1.414-1.414zM12 20a7 7 0 100-14 7 7 0 000 14zM11 8h2v6h-2V8zM8 1h8v2H8V1z"/></svg> <span data-v-2c97064e>95 min</span></div></div></div></div> <main class="page"><!----> <div class="theme-content content__default"><h2 id="linux"><a href="#linux" class="header-anchor">#</a> Linux</h2> <h3 id="文件管理"><a href="#文件管理" class="header-anchor">#</a> <strong>文件管理</strong></h3> <blockquote><p>d rwx rwx rwx. 2 root root    34 6月  21 16:47 aslic</p> <ol><li>类型  d: 文件夹  -: 文件  l: 软连接</li> <li>权限  所有者  所属组  其他人</li> <li>文件大小</li> <li>创建时间</li> <li>文件名</li></ol></blockquote> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220622092610669.png" alt="image-20220622092610669"></p> <h3 id="配置全路径名"><a href="#配置全路径名" class="header-anchor">#</a> 配置全路径名</h3> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220627105046702.png" alt="image-20220627105046702"></p> <ul><li>在 etc 目录下的 profile 文件下修改</li></ul> <blockquote><p>配置全路径名:</p> <ul><li>export PS1='[\u@\h $PWD]$'</li></ul> <p>export JAVA_HOME=/root/jdk8
export PATH=$JAVA_HOME/bin:$PATH</p></blockquote> <h3 id="linux-系统-固定-ip"><a href="#linux-系统-固定-ip" class="header-anchor">#</a> Linux 系统 固定 - IP</h3> <p>进入 网络配置文件</p> <blockquote><p>/etc/sysconfig/network-scripts</p></blockquote> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220715140917720.png" alt="image-20220715140917720"></p> <p>修改为:</p> <div class="language-java extra-class"><pre class="language-java"><code>TYPE<span class="token operator">=</span><span class="token string">&quot;Ethernet&quot;</span>
PROXY_METHOD<span class="token operator">=</span><span class="token string">&quot;none&quot;</span>
BROWSER_ONLY<span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
BOOTPROTO<span class="token operator">=</span><span class="token string">&quot;static&quot;</span>
DEFROUTE<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
IPV4_FAILURE_FATAL<span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
IPV6INIT<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
IPV6_AUTOCONF<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
IPV6_DEFROUTE<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
IPV6_FAILURE_FATAL<span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
IPV6_ADDR_GEN_MODE<span class="token operator">=</span><span class="token string">&quot;stable-privacy&quot;</span>
NAME<span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span>
UUID<span class="token operator">=</span><span class="token string">&quot;a83c1999-f7ee-4517-848a-071a0a1bb834&quot;</span>
DEVICE<span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span>
ONBOOT<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
BROADCAST<span class="token operator">=</span><span class="token number">192.168</span><span class="token number">.1</span><span class="token number">.255</span>
IPADDR<span class="token operator">=</span><span class="token number">192.168</span><span class="token number">.174</span><span class="token number">.130</span>  <span class="token comment">// 静态的 IP 地址</span>
NETMASK<span class="token operator">=</span><span class="token number">255.255</span><span class="token number">.255</span><span class="token number">.0</span>
GATEWAY<span class="token operator">=</span><span class="token number">192.168</span><span class="token number">.1</span><span class="token number">.1</span>
</code></pre></div><p>刷新配置 重新使用静态ip连接</p> <blockquote><p>service network restart</p></blockquote> <h2 id="linux-文件与目录管理"><a href="#linux-文件与目录管理" class="header-anchor">#</a> Linux 文件与目录管理</h2> <ul><li><p><strong>绝对路径：</strong>
路径的写法，由根目录 <strong>/</strong> 写起，</p> <blockquote><p>例如： /usr/share/doc 这个目录。</p></blockquote></li> <li><p><strong>相对路径：</strong>
路径的写法，不是由 <strong>/</strong> 写起，</p> <blockquote><p>例如由 /usr/share/doc 要到 /usr/share/man 底下时，可以写成： <strong>cd ../man</strong> 这就是相对路径的写法。</p></blockquote></li></ul> <h3 id="处理目录的常用命令"><a href="#处理目录的常用命令" class="header-anchor">#</a> 处理目录的常用命令</h3> <h4 id="ls-列出目录"><a href="#ls-列出目录" class="header-anchor">#</a> ls (列出目录)</h4> <blockquote><p>ls（英文全拼：list files）: 列出目录及文件名</p></blockquote> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## ls [-aAdfFhilnrRSt] 目录名称
[root@www ~]## ls [--color={never,auto,always}] 目录名称
[root@www ~]## ls [--full-time] 目录名称
</code></pre></div><p>选项与参数：</p> <ul><li>-a ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来(常用)</li> <li>-d ：仅列出目录本身，而不是列出目录内的文件数据(常用)</li> <li>-l ：长数据串列出，包含文件的属性与权限等等数据；(常用)</li></ul> <p>将家目录下的所有文件列出来(含属性与隐藏档)</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## ls -al ~
</code></pre></div><h4 id="cd-切换目录"><a href="#cd-切换目录" class="header-anchor">#</a> cd (切换目录)</h4> <blockquote><p>cd  是Change Directory的缩写，这是用来变换工作目录的命令。</p></blockquote> <p>语法：</p> <div class="language-linux extra-class"><pre class="language-text"><code>// cd [相对路径或绝对路径]
#使用 mkdir 命令创建 runoob 目录
[root@www ~]## mkdir runoob

#使用绝对路径切换到 runoob 目录
[root@www ~]## cd /root/runoob/

#使用相对路径切换到 runoob 目录
[root@www ~]## cd ./runoob/

## 表示回到自己的家目录，亦即是 /root 这个目录
[root@www runoob]## cd ~

## 表示去到目前的上一级目录，亦即是 /root 的上一级目录的意思；
[root@www ~]## cd ..
</code></pre></div><h4 id="pwd-显示目前所在的目录"><a href="#pwd-显示目前所在的目录" class="header-anchor">#</a> pwd (显示目前所在的目录)</h4> <blockquote><p>pwd 是 <strong>Print Working Directory</strong> 的缩写，也就是显示目前所在目录的命令。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## pwd [-P]
</code></pre></div><p>选项与参数：</p> <ul><li><strong>-P</strong> ：显示出确实的路径，而非使用连结 (link) 路径。</li></ul> <p>实例：单纯显示出目前的工作目录：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## pwd
/root   &lt;== 显示出目录啦～
</code></pre></div><p>实例显示出实际的工作目录，而非连结档本身的目录名而已。</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## cd /var/mail   &lt;== 注意，/var/mail是一个连结档
[root@www mail]## pwd
/var/mail         &lt;==列出目前的工作目录
[root@www mail]## pwd -P
/var/spool/mail   &lt;==怎么回事？有没有加 -P 差很多～
[root@www mail]## ls -ld /var/mail
lrwxrwxrwx 1 root root 10 Sep  4 17:54 /var/mail -&gt; spool/mail
## 看到这里应该知道为啥了吧？因为 /var/mail 是连结档，连结到 /var/spool/mail 
## 所以，加上 pwd -P 的选项后，会不以连结档的数据显示，而是显示正确的完整路径啊！
</code></pre></div><h4 id="mkdir-创建新目录"><a href="#mkdir-创建新目录" class="header-anchor">#</a> mkdir (创建新目录)</h4> <blockquote><p>mkdir (make directory)  创建新的目录</p></blockquote> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code>mkdir [-mp] 目录名称
</code></pre></div><p>选项与参数：</p> <ul><li>-m ：配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～</li> <li>-p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！</li></ul> <p>实例：请到/tmp底下尝试创建数个新目录看看：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## cd /tmp
[root@www tmp]## mkdir test    &lt;==创建一名为 test 的新目录
[root@www tmp]## mkdir test1/test2/test3/test4
mkdir: cannot create directory `test1/test2/test3/test4': 
No such file or directory       &lt;== 没办法直接创建此目录啊！
[root@www tmp]## mkdir -p test1/test2/test3/test4
</code></pre></div><p>加了这个 -p 的选项，可以自行帮你创建多层目录！</p> <p>实例：创建权限为 <strong>rwx--x--x</strong> 的目录。</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www tmp]## mkdir -m 711 test2
[root@www tmp]## ls -l
drwxr-xr-x  3 root  root 4096 Jul 18 12:50 test
drwxr-xr-x  3 root  root 4096 Jul 18 12:53 test1
drwx--x--x  2 root  root 4096 Jul 18 12:54 test2
</code></pre></div><p>上面的权限部分，如果没有加上 -m 来强制配置属性，系统会使用默认属性。</p> <p>如果我们使用 -m ，如上例我们给予 -m 711 来给予新的目录 drwx--x--x 的权限。</p> <h4 id="touch-创建新文件"><a href="#touch-创建新文件" class="header-anchor">#</a> touch (创建新文件)</h4> <blockquote><p>touch   创建新的文件</p></blockquote> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code>// touch 文件名
touch test.txt
</code></pre></div><h4 id="rmdir-删除空的目录"><a href="#rmdir-删除空的目录" class="header-anchor">#</a> rmdir (删除空的目录)</h4> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code> rmdir [-p] 目录名称
</code></pre></div><p>选项与参数：</p> <ul><li>**-p ：**从该目录起，一次删除多级空目录</li></ul> <p>删除 runoob 目录</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www tmp]## rmdir runoob/
</code></pre></div><p>将 mkdir 实例中创建的目录(/tmp 底下)删除掉！</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www tmp]## ls -l   &lt;==看看有多少目录存在？
drwxr-xr-x  3 root  root 4096 Jul 18 12:50 test
drwxr-xr-x  3 root  root 4096 Jul 18 12:53 test1
drwx--x--x  2 root  root 4096 Jul 18 12:54 test2
[root@www tmp]## rmdir test   &lt;==可直接删除掉，没问题
[root@www tmp]## rmdir test1  &lt;==因为尚有内容，所以无法删除！
rmdir: `test1': Directory not empty
[root@www tmp]## rmdir -p test1/test2/test3/test4
[root@www tmp]## ls -l        &lt;==您看看，底下的输出中test与test1不见了！
drwx--x--x  2 root  root 4096 Jul 18 12:54 test2
</code></pre></div><p>利用 -p 这个选项，立刻就可以将 test1/test2/test3/test4 一次删除。</p> <p>不过要注意的是，这个 rmdir 仅能删除空的目录，你可以使用 rm 命令来删除非空目录。</p> <h4 id="cp-复制文件或目录"><a href="#cp-复制文件或目录" class="header-anchor">#</a> cp (复制文件或目录)</h4> <blockquote><p>cp 即拷贝文件和目录。</p></blockquote> <p>语法:</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## cp [-adfilprsu] 来源档(source) 目标档(destination)
[root@www ~]## cp [options] source1 source2 source3 .... directory
</code></pre></div><p>选项与参数：</p> <ul><li>**-a：**相当於 -pdr 的意思，至於 pdr 请参考下列说明；(常用)</li> <li>**-d：**若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身；</li> <li>**-f：**为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；</li> <li>**-i：**若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)</li> <li>**-l：**进行硬式连结(hard link)的连结档创建，而非复制文件本身；</li> <li>**-p：**连同文件的属性一起复制过去，而非使用默认属性(备份常用)；</li> <li>**-r：**递归持续复制，用於目录的复制行为；(常用)</li> <li>**-s：**复制成为符号连结档 (symbolic link)，亦即『捷径』文件；</li> <li>**-u：**若 destination 比 source 旧才升级 destination ！</li></ul> <p>用 root 身份，将 root 目录下的 .bashrc 复制到 /tmp 下，并命名为 bashrc</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## cp ~/.bashrc /tmp/bashrc
[root@www ~]## cp -i ~/.bashrc /tmp/bashrc
cp: overwrite `/tmp/bashrc'? n  &lt;==n不覆盖，y为覆盖
</code></pre></div><h4 id="rm-移除文件或目录"><a href="#rm-移除文件或目录" class="header-anchor">#</a> rm (移除文件或目录)</h4> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code> rm [-fir] 文件或目录
</code></pre></div><p>选项与参数：</p> <ul><li>-f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；</li> <li>-i ：互动模式，在删除前会询问使用者是否动作</li> <li>-r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！</li> <li>-rf 组合使用</li></ul> <p>将刚刚在 cp 的实例中创建的 bashrc 删除掉！</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www tmp]## rm -i bashrc
rm: remove regular file `bashrc'? y
</code></pre></div><p>如果加上 -i 的选项就会主动询问喔，避免你删除到错误的档名！</p> <h4 id="mv-移动文件与目录-或修改名称"><a href="#mv-移动文件与目录-或修改名称" class="header-anchor">#</a> mv (移动文件与目录，或修改名称)</h4> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## mv [-fiu] source destination
[root@www ~]## mv [options] source1 source2 source3 .... directory
</code></pre></div><p>选项与参数：</p> <ul><li>-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；</li> <li>-i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！</li> <li>-u ：若目标文件已经存在，且 source 比较新，才会升级 (update)</li></ul> <p>复制一文件，创建一目录，将文件移动到目录中</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## cd /tmp
[root@www tmp]## cp ~/.bashrc bashrc
[root@www tmp]## mkdir mvtest
[root@www tmp]## mv bashrc mvtest
</code></pre></div><p>将某个文件移动到某个目录去，就是这样做！</p> <p>将刚刚的目录名称更名为 mvtest2</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www tmp]## mv mvtest mvtest2
</code></pre></div><h3 id="linux-文件内容查看"><a href="#linux-文件内容查看" class="header-anchor">#</a> Linux 文件内容查看</h3> <p>Linux系统中使用以下命令来查看文件的内容：</p> <ul><li>cat 由第一行开始显示文件内容</li> <li>tac 从最后一行开始显示，可以看出 tac 是 cat 的倒着写！</li> <li>nl  显示的时候，顺道输出行号！</li> <li>more 一页一页的显示文件内容</li> <li>less 与 more 类似，但是比 more 更好的是，他可以往前翻页！</li> <li>head 只看头几行</li> <li>tail 只看尾巴几行</li></ul> <p>你可以使用 *man [命令]*来查看各个命令的使用文档，如 ：man cp。</p> <h4 id="cat-由第一行开始显示文件内容"><a href="#cat-由第一行开始显示文件内容" class="header-anchor">#</a> cat (由第一行开始显示文件内容)</h4> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code>cat [-AbEnTv]
</code></pre></div><p>选项与参数：</p> <ul><li>-A ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；</li> <li>-b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！</li> <li>-E ：将结尾的断行字节 $ 显示出来；</li> <li>-n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；</li> <li>-T ：将 [tab] 按键以 ^I 显示出来；</li> <li>-v ：列出一些看不出来的特殊字符</li></ul> <p>检看 /etc/issue 这个文件的内容：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## cat /etc/issue
CentOS release 6.4 (Final)
Kernel \r on an \m
</code></pre></div><h4 id="tac-最后一行开始显示"><a href="#tac-最后一行开始显示" class="header-anchor">#</a> tac (最后一行开始显示)</h4> <p>tac与cat命令刚好相反，文件内容从最后一行开始显示，可以看出 tac 是 cat 的倒着写！如：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## tac /etc/issue

Kernel \r on an \m
CentOS release 6.4 (Final)
</code></pre></div><h4 id="nl"><a href="#nl" class="header-anchor">#</a> nl</h4> <p>显示行号</p> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code>nl [-bnw] 文件
</code></pre></div><p>选项与参数：</p> <ul><li>-b ：指定行号指定的方式，主要有两种：
-b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；
-b t ：如果有空行，空的那一行不要列出行号(默认值)；</li> <li>-n ：列出行号表示的方法，主要有三种：
-n ln ：行号在荧幕的最左方显示；
-n rn ：行号在自己栏位的最右方显示，且不加 0 ；
-n rz ：行号在自己栏位的最右方显示，且加 0 ；</li> <li>-w ：行号栏位的占用的位数。</li></ul> <p>实例一：用 nl 列出 /etc/issue 的内容</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## nl /etc/issue
     1  CentOS release 6.4 (Final)
     2  Kernel \r on an \m
</code></pre></div><h4 id="more-翻页"><a href="#more-翻页" class="header-anchor">#</a> more(翻页)</h4> <p>一页一页翻动</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## more /etc/man_db.config 
#
## Generated automatically from man.conf.in by the
## configure script.
#
## man.conf from man-1.6d
....(中间省略)....
--More--(28%)  &lt;== 重点在这一行喔！你的光标也会在这里等待你的命令
</code></pre></div><p>在 more 这个程序的运行过程中，你有几个按键可以按的：</p> <ul><li>空白键 (space)：代表向下翻一页；</li> <li>Enter     ：代表向下翻『一行』；</li> <li>/字串     ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；</li> <li>:f      ：立刻显示出档名以及目前显示的行数；</li> <li>q       ：代表立刻离开 more ，不再显示该文件内容。</li> <li>b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。</li></ul> <h4 id="less-滚动查看"><a href="#less-滚动查看" class="header-anchor">#</a> less (滚动查看)</h4> <p>一页一页翻动，以下实例输出/etc/man.config文件的内容：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## less /etc/man.config
#
## Generated automatically from man.conf.in by the
## configure script.
#
## man.conf from man-1.6d
....(中间省略)....
:   &lt;== 这里可以等待你输入命令！
</code></pre></div><p>less运行时可以输入的命令有：</p> <ul><li>空白键  ：向下翻动一页；</li> <li>[pagedown]：向下翻动一页；</li> <li>[pageup] ：向上翻动一页；</li> <li>/字串   ：向下搜寻『字串』的功能；</li> <li>?字串   ：向上搜寻『字串』的功能；</li> <li>n     ：重复前一个搜寻 (与 / 或 ? 有关！)</li> <li>N     ：反向的重复前一个搜寻 (与 / 或 ? 有关！)</li> <li>q     ：离开 less 这个程序；</li></ul> <h4 id="head"><a href="#head" class="header-anchor">#</a> head</h4> <p>取出文件前面几行</p> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code>head [-n number] 文件 
</code></pre></div><p>选项与参数：</p> <ul><li>-n ：后面接数字，代表显示几行的意思</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## head /etc/man.config
</code></pre></div><p>默认的情况中，显示前面 10 行！若要显示前 20 行，就得要这样：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## head -n 20 /etc/man.config
</code></pre></div><h4 id="tail"><a href="#tail" class="header-anchor">#</a> tail</h4> <blockquote><p>取出文件后面几行</p></blockquote> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code>tail [-n number] 文件 
</code></pre></div><p>选项与参数：</p> <ul><li>-n ：后面接数字，代表显示几行的意思</li> <li>-f ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c才会结束tail的侦测</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[root@www ~]## tail /etc/man.config
## 默认的情况中，显示最后的十行！若要显示最后的 20 行，就得要这样：
[root@www ~]## tail -n 20 /etc/man.config
</code></pre></div><h3 id="linux-功能类命令"><a href="#linux-功能类命令" class="header-anchor">#</a> Linux 功能类命令</h3> <h4 id="ln-链接命令"><a href="#ln-链接命令" class="header-anchor">#</a> ln 链接命令</h4> <blockquote><p>硬链接 - 相对于复制但是能够继承其所有属性</p> <p>拷贝cp -p + 同步更新</p> <p>可通过i节点识别</p> <p>不能跨分区</p> <p>不能针对目录使用</p></blockquote> <blockquote><p>软连接</p> <p>软链接文件权限都为rwxrwxrwx</p> <p>文件大小-只是符号链接</p> <p>/tmp/issue.soft -&gt; /etc/issue 箭头指向原文件</p></blockquote> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code> ln [参数][源文件或目录][目标文件或目录]
 ln wuwei.txt wuwu.txt
 ln -s  wuwei.txt wuwuss.txt
 硬链接和软连接不是根据文件的扩展名规定的，加了-s就是软连接，否则就是硬连接  
</code></pre></div><h4 id="chmod-权限管理命令"><a href="#chmod-权限管理命令" class="header-anchor">#</a> chmod 权限管理命令</h4> <blockquote><p>功能描述：改变文件或目录权限</p></blockquote> <p><strong>语法：</strong></p> <p><strong>chmod [{ugoa}{+-=}{rwx}] [文件或目录]  如:  chmod g+w aslic</strong></p> <p><strong>chmod  [mode=421 ] [文件或目录]  如:  chmod 141 aslic</strong></p> <p><strong>chmod  -R [mode=421 ] [文件或目录]如:  chmod -R 141 aslic</strong></p> <table><thead><tr><th style="text-align:center;">代表字符</th> <th style="text-align:center;">数字</th> <th>权限</th> <th>对文件的含义</th> <th>对目录的含义</th></tr></thead> <tbody><tr><td style="text-align:center;">r</td> <td style="text-align:center;">4</td> <td>读权限</td> <td>可以查看文件 内容</td> <td>可以列出目录中 的内容</td></tr> <tr><td style="text-align:center;">w</td> <td style="text-align:center;">2</td> <td>写权限</td> <td>可以修改文件 内容</td> <td>可以在目录中创 建、删除文件</td></tr> <tr><td style="text-align:center;">x</td> <td style="text-align:center;">1</td> <td>执行权限</td> <td>可以执行文件</td> <td>可以进入目录</td></tr></tbody></table> <h4 id="find-文件搜索命令"><a href="#find-文件搜索命令" class="header-anchor">#</a> find  文件搜索命令</h4> <blockquote><p>功能描述：文件或者文件夹搜索</p></blockquote> <p><strong>语法：find [搜索范围 - 目录路径] [匹配条件]</strong></p> <p>选项:</p> <ul><li><p>条件类型:  -name 名称  -type 类型 (  p -&gt; ,目录 / f -&gt; 文件  )   -size 大小</p> <p>-group 所属组查找   -cmin -5 查询5分钟内被修改过属性的文件和目录</p></li> <li><p>通配符:  ? -&gt; 占位符(一个字符)    * -&gt; 多个匹配</p></li> <li><p>-iname 不区分大小写</p></li> <li><p>大小对比:  +n  大于   -n  小于    n  等于</p></li> <li><p>与 或:  -a 两个条件同时满足 and          -o 两个条件满足任意一个即可 or</p></li> <li><p>-exec/-ok 命令 {} ; 对搜索结果执行操作</p></li></ul> <p>案例:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 查询 apai目录下的 包含wu的 且类型为目录</span>
find <span class="token operator">/</span>apai <span class="token operator">-</span>name wu<span class="token operator">*</span> <span class="token operator">-</span>a <span class="token operator">-</span>type f
<span class="token comment">// 查询 根目录下的 大小大于204800 的文件</span>
find <span class="token operator">/</span> <span class="token operator">-</span>size <span class="token operator">+</span><span class="token number">204800</span>
<span class="token comment">// 在根目录下查找所有者为zhangsan的文件</span>
find <span class="token operator">/</span>home <span class="token operator">-</span>user zhangsan
<span class="token comment">// 在/etc下查找5分钟内被修改过属性的文件和目录</span>
find <span class="token operator">/</span>etc <span class="token operator">-</span>cmin <span class="token operator">-</span><span class="token number">5</span>
<span class="token comment">// 在/etc下查找inittab文件并显示其详细信息 -exec/-ok 命令 {} \; 对搜索结果执行操作</span>
find <span class="token operator">/</span> <span class="token operator">-</span>name mengni <span class="token operator">-</span>exec rm <span class="token operator">-</span>rf <span class="token punctuation">{</span> <span class="token punctuation">}</span> \
</code></pre></div><h4 id="grep-文件内容搜索命令"><a href="#grep-文件内容搜索命令" class="header-anchor">#</a> grep 文件内容搜索命令</h4> <blockquote><p>在文件中搜寻字串匹配的行并输出</p></blockquote> <p>语法：grep  [指定字串] [文件]</p> <ul><li>-i 不区分大小写</li> <li>-v 排除指定字串</li></ul> <p>案例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 在 cs.txt 文件的内容里搜索包含 is 字符串且 -i 不区分大小写 </span>
grep <span class="token operator">-</span>i is cs<span class="token punctuation">.</span>txt
<span class="token comment">// 在 cs.txt 文件的内容里搜索不包含 is 字符串且 -i 不区分大小写 </span>
grep <span class="token operator">-</span>iv is cs<span class="token punctuation">.</span>txt
<span class="token comment">// 从install.log文中找mysql</span>
grep mysql <span class="token operator">/</span>root<span class="token operator">/</span>install<span class="token punctuation">.</span>log  
<span class="token comment">// 把文件inittab每行的开头#去掉 如果不加^ 那么有可能去掉的是内容中间的#</span>
grep <span class="token operator">-</span>v <span class="token operator">^</span>## <span class="token operator">/</span>etc<span class="token operator">/</span>inittab
</code></pre></div><h3 id="tar-压缩解压命令"><a href="#tar-压缩解压命令" class="header-anchor">#</a> tar 压缩解压命令</h3> <blockquote><p>tar这个命令既可以打包压缩也可以解压</p> <p>注意规范: 打包文件后缀 .tar 压缩文件后缀 .tar.gz</p></blockquote> <p>选项:</p> <ul><li>-c  create   打包</li></ul> <ul><li>-x  解包 extract</li> <li>-v  显示详细信息</li> <li>-f  指定解压文件</li> <li>-z  解压缩</li></ul> <p><strong>1）tar给一个文件或者一个目录打包</strong>
tar  -cvf   包名   源文件名</p> <p><strong>2）tar给一个打了包的文件解包</strong>
tar  -xvf  包名    注意：默认是解到当前目录，也可以指定到其他的目录
tar  -xvf  包名 -C  目录名</p> <p><strong>3）tar给一个文件打包并压缩</strong>
tar  -zcvf   压缩名   源文件名</p> <p><strong>4）tar给一个文件解压缩</strong>
tar -zxvf 压缩名 -C 目录名</p> <h3 id="网络命令"><a href="#网络命令" class="header-anchor">#</a> 网络命令</h3> <h4 id="ping-测试网络连通性"><a href="#ping-测试网络连通性" class="header-anchor">#</a> ping 测试网络连通性</h4> <blockquote><p>测试网络连通性</p></blockquote> <p><strong>语法：ping 选项 IP地址</strong></p> <div class="language- extra-class"><pre class="language-text"><code>范例： ## ping 192.168.1.156

ping -c 3 192.168.1.156服务器回应3次即可，默认一直回应
</code></pre></div><h4 id="netstat-网络相关信息"><a href="#netstat-网络相关信息" class="header-anchor">#</a> netstat  网络相关信息</h4> <blockquote><p>显示网络相关信息</p> <p>yum install net-tools</p></blockquote> <p>语法：netstat  [选项]</p> <p>选项：  netstat -tlnp</p> <ul><li>-t  TCP协议 三次握手 网络传输协议 打电话类似</li> <li>-u  UDP协议 数据包协议   丢包率高，不握手</li> <li>-l   lisenter 监听</li> <li>-r   route</li> <li>-n  number 显示ip和端口号</li></ul> <blockquote><p>当前是tcp协议</p> <p>第一个0表示网络通畅，接受的数据包队列 没有挤压</p> <p>第二个0表示发送的数据包队列，网络通畅</p> <p>0.0.0.0 本地的ip地址 111 表示端口</p> <p>Stat 表示TCP的监听  UDP没有监听的 注意</p> <p>这条信息，表示当前有一台主机192.168.58.1正在连接到 linux192.168.58.128上 端口是22, ESTABLISHED连接</p> <p>注意：自己电脑的端口是系统随机分配，不一定也要是22</p> <p>## netstat -rn</p> <p>显示route路由信息  n：numberic</p></blockquote> <h4 id="ifconfig-查看和设置网卡信息"><a href="#ifconfig-查看和设置网卡信息" class="header-anchor">#</a> ifconfig  查看和设置网卡信息</h4> <blockquote><p>查看和设置网卡信息</p></blockquote> <p>语法：ifconfig 网卡名称  IP地址</p> <ul><li><p>范例：## ifconfig eth0 192.168.8.250</p></li> <li><p>范例：## ifconfig -a #查看所有网卡</p></li></ul> <h4 id="last-登入系统的用户信息"><a href="#last-登入系统的用户信息" class="header-anchor">#</a> last  登入系统的用户信息</h4> <blockquote><p>列出目前与过去登入系统的用户信息</p></blockquote> <p>语法：last</p> <h4 id="traceroute-数据包到主机的路径"><a href="#traceroute-数据包到主机的路径" class="header-anchor">#</a> traceroute 数据包到主机的路径</h4> <blockquote><p>显示数据包到主机间的路径</p></blockquote> <p>语法：traceroute</p> <div class="language- extra-class"><pre class="language-text"><code>范例：## traceroute www.lampbrother.net
   	 ## traceroute www.sina.com.cn
访问新浪官网所经过的路由信息ip以及所花费的时间，如果时间长，
表示在某一块路由服务有问题，或者断掉，通过这个命令可以看在哪一块出了问题
</code></pre></div><h3 id="用户管理命令"><a href="#用户管理命令" class="header-anchor">#</a> 用户管理命令</h3> <h4 id="su-切换用户"><a href="#su-切换用户" class="header-anchor">#</a> su 切换用户</h4> <p>语法：su - 用户名</p> <h4 id="useradd-添加新用户"><a href="#useradd-添加新用户" class="header-anchor">#</a> useradd   添加新用户</h4> <blockquote><p>添加新用户</p></blockquote> <p>语法：useradd 用户名</p> <h4 id="passwd-设置用户密码"><a href="#passwd-设置用户密码" class="header-anchor">#</a> passwd  设置用户密码</h4> <blockquote><p>设置用户密码</p></blockquote> <p>语法：passwd 用户名</p> <h4 id="w-查看登录用户详细信息"><a href="#w-查看登录用户详细信息" class="header-anchor">#</a> w 查看登录用户详细信息</h4> <blockquote><p>查看登录用户详细信息</p></blockquote> <p>语法：w</p> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220621223236948.png" alt="image-20220621223236948"></p> <ul><li>up表示linux连续运行的时间</li> <li>load average 系统的负载情况</li> <li>what 表示一个用户当前执行了什么操作，如果什么操作都没有做 就是base</li> <li>JCPU、PCPU占用CPU资源的情况</li></ul> <h4 id="userdel-删除帐号"><a href="#userdel-删除帐号" class="header-anchor">#</a> userdel  删除帐号</h4> <p>语法:   userdel 选项 用户名</p> <p>常用的选项是 <strong>-r</strong>，它的作用是把用户的主目录一起删除。</p> <h4 id="usermod-修改帐号"><a href="#usermod-修改帐号" class="header-anchor">#</a> usermod 修改帐号</h4> <p>修改用户账号就是根据实际情况更改用户的有关属性，如用户号、主目录、用户组、登录Shell等。</p> <p>修改已有用户的信息使用<code>usermod</code>命令，其格式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>usermod 选项 用户名
</code></pre></div><p>常用的选项包括<code>-c, -d, -m, -g, -G, -s, -u以及-o等</code>，这些选项的意义与<code>useradd</code>命令中的选项一样，可以为用户指定新的资源值。</p> <p>另外，有些系统可以使用选项：-l 新用户名</p> <p>这个选项指定一个新的账号，即将原来的用户名改为新的用户名。</p> <p>例如：</p> <div class="language- extra-class"><pre class="language-text"><code>## usermod -s /bin/ksh -d /home/z –g developer sam
</code></pre></div><p>此命令将用户sam的登录Shell修改为ksh，主目录改为/home/z，用户组改为developer。</p> <h3 id="挂载命令"><a href="#挂载命令" class="header-anchor">#</a> 挂载命令</h3> <blockquote><p>相当于在linux分配一个盘符，把U盘等等的外部设备内容和该盘符（这个盘符是一个目录，在windows里是一个盘符如：H盘，i盘）连接</p></blockquote> <p><strong>挂载语法</strong>: mount  名字  挂载位置</p> <blockquote><p>U盘: /dev/sdb   光驱: /dev/sr0</p></blockquote> <blockquote><p>如: 将U盘挂载至 mnut下的aa文件夹   mount  /dev/sdb  /mnt/aa</p></blockquote> <p><strong>取消挂载</strong> :  umount /dev/sr0</p> <p>步骤:</p> <ul><li>在根目录下mnt目录,一般习惯上在这个目录里面再创建一个目录用来挂载,</li> <li>在根目录dev目录下可查询对应的设备</li></ul> <div class="language- extra-class"><pre class="language-text"><code>注意1：在根目录下有一个mnt目录，这个目录就是用来做挂载的（相当盘符），一般习惯上在这个目录里面再创建一个目录cdrom,相当创建一个盘符
注意2：设备文件名 dev/sr0 就是光驱硬件 在centos6以上的版本，光驱的设备文件名默认就是dev/sr0 ,也可以写成  dev/cdrom
注意2：在取消挂载时不能在挂载目录里取消

因为在dev目录里面的cdrom就是一个软连接，指向的就是sr0
[zhangsan@localhost ~]$ ls -ld /dev/cdrom
lrwxrwxrwx. 1 root root 3 10月 28 00:02 /dev/cdrom -&gt; sr0
挂载点就是盘符
挂载成功，就是盘符和设备硬件建立了连接
</code></pre></div><h3 id="关机重启命令"><a href="#关机重启命令" class="header-anchor">#</a> 关机重启命令</h3> <h4 id="shutdown命令"><a href="#shutdown命令" class="header-anchor">#</a> shutdown命令</h4> <p>语法:  shutdown [选项] 时间</p> <p>选项： shutdown 会保存内容再关机</p> <p>-c： 取消前一个关机命令  cancel</p> <p>-h： 关机   halt 停止的含义</p> <p>-r： 重启   reboot</p> <blockquote><p>[root@localhost ~]#shutdown -h 20:30  晚上八点半关机</p> <p>[root@localhost ~]#shutdown -h now    立刻关机 h:halted 停下来</p> <p>[root@localhost ~]#shutdown -c              取消关机</p> <p>[root@localhost cdrom]## shutdown  -r now</p> <p>直接拔掉电源：对于高速运转的硬盘 导致损坏</p></blockquote> <p><strong>其他关机命令</strong></p> <ul><li>[root@localhost ~]## halt</li> <li>[root@localhost ~]## poweroff</li> <li>[root@localhost ~]## init 0</li></ul> <p><strong>其他重启命令</strong></p> <ul><li>root@localhost ~]## reboot</li> <li>[root@localhost ~]## init 6</li></ul> <p><strong>系统运行级别</strong></p> <ul><li>0 关机</li> <li>1 单用户 类似windows开启的安全模式进入，就是启动 最小的服务 进入window操作系统，因为其他的服务导致window无法启动</li> <li>2 不完全多用户不含NFS服务（network file system 它就是2个系统之间共享文件的一个服务）</li> <li>3 完全多用户：完全的命令行</li> <li>4 未分配</li> <li>5  图形界面</li> <li>6 重启</li></ul> <h3 id="dos文本和unix格式转换"><a href="#dos文本和unix格式转换" class="header-anchor">#</a> dos文本和unix格式转换</h3> <h4 id="dos2unix-转linux"><a href="#dos2unix-转linux" class="header-anchor">#</a> dos2unix  转linux</h4> <p>作用：dos2unix命令：用来将DOS格式的文本文件转换成UNIX格式</p> <p>语法：dos2unix 文件名</p> <h4 id="unix2dos-转window"><a href="#unix2dos-转window" class="header-anchor">#</a> unix2dos  转window</h4> <p>作用：unix2dos命令：用来将unix格式的文本文件转换成dos格式</p> <p>语法：unix2dos 文件名</p> <h3 id="系统类命令"><a href="#系统类命令" class="header-anchor">#</a> 系统类命令</h3> <h4 id="_1、查看linux系统是多少位"><a href="#_1、查看linux系统是多少位" class="header-anchor">#</a> 1、查看linux系统是多少位</h4> <p>[oracle@localhost database]$ getconf LONG_BIT</p> <h4 id="_2、linux查看操作系统内核信息"><a href="#_2、linux查看操作系统内核信息" class="header-anchor">#</a> 2、Linux查看操作系统内核信息</h4> <p>[oracle@localhost database]$ uname -a</p> <p>[oracle@localhost database]$ uname -r</p> <h4 id="_3、linux查看操作系统版本信息"><a href="#_3、linux查看操作系统版本信息" class="header-anchor">#</a> 3、Linux查看操作系统版本信息</h4> <blockquote><p>查看当前操作系统版本信息</p></blockquote> <p>[oracle@localhost database]$ cat /proc/version</p> <h3 id="wget-命令下载"><a href="#wget-命令下载" class="header-anchor">#</a> wget 命令下载</h3> <blockquote><p>wget是Linux中的一个下载文件的工具，wget是在Linux下开发的开放源代码的软件，wget工具体积小但功能完善，它支持断点下载功能，同时支持FTP和HTTP下载方式，支持代理服务器和设置起来方便简单</p> <p>[root@network test]## yum install -y wget</p></blockquote> <h4 id="下载保存当前目录"><a href="#下载保存当前目录" class="header-anchor">#</a> 下载保存当前目录</h4> <ul><li>语法: wget 下载地址</li></ul> <blockquote><p>从网络下载一个文件并保存在当前目录</p> <p>[root@network test]#wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-utils-2.17-55.el6.x86_64.rpm</p></blockquote> <h4 id="下载重命名保存当前目录"><a href="#下载重命名保存当前目录" class="header-anchor">#</a> 下载重命名保存当前目录</h4> <ul><li>语法: wget -O 下载名字 下载地址</li></ul> <blockquote><p>使用 wget -O 下载并以不同的文件名保存</p> <p>[root@network test]#wget -O copr-be.rpm</p> <p>http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-utils-2.17-55.el6.x86_64.rpm</p></blockquote> <h4 id="断点下载"><a href="#断点下载" class="header-anchor">#</a> 断点下载</h4> <ul><li>语法: wget -c 下载地址</li></ul> <blockquote><p>使用 wget -c 断点续传</p> <p>使用wget -c重新启动下载中断的文件:对于我们下载大文件时突然由于网络等原因中断非常有帮助，我们可以继续接着下载而不是重新下载一个文件</p> <p>[root@network test]#wget -c https://cn.wordpress.org/wordpress-4.9.4-zh_CN.tar.gz</p></blockquote> <h4 id="后台下载"><a href="#后台下载" class="header-anchor">#</a> 后台下载</h4> <ul><li>语法: wget -b 下载地址</li></ul> <blockquote><p>使用 wget -b 后台下载</p> <p>[root@network test]#wget -b https://cn.wordpress.org/wordpress-4.9.4-zh_CN.tar.gz</p></blockquote> <h3 id="后台运行jar包"><a href="#后台运行jar包" class="header-anchor">#</a> 后台运行jar包</h3> <blockquote><p>能够将web项目打包成的jar包放入Linxu系统并运行 使用其ip地址和端口访问程序</p></blockquote> <p>语法一:</p> <p>java -jar XXX.jar &amp;</p> <p>nohup java -jar XXX.jar &amp;</p> <ul><li>常规语法 运行指定jar包 注意是在前台运行 关闭会话即停止 会将日志存储至   nohup.out   文件内</li></ul> <p>语法二:</p> <p>java -jar XXX.jar --server.port=8081 &gt; demo.out &amp;</p> <p>nohup java -jar XXX.jar --server.port=8081 &gt; demo.out &amp;</p> <ul><li>设置访问端口 8081  和 日志的存储文件 demo.out</li></ul> <h3 id="防火墙-端口"><a href="#防火墙-端口" class="header-anchor">#</a> 防火墙 端口</h3> <p>https://blog.csdn.net/wade3015/article/details/90725871</p> <blockquote><p>开启指定端口 报错执行如下指令</p> <p>systemctl status firewalld</p></blockquote> <p>1、查看已经开放的端口</p> <p>firewall-cmd --list-ports</p> <p>2、开启指定端口</p> <p>firewall-cmd --zone=public --add-port=8080/tcp --permanent</p> <p>说明：参数--permanent永久生效，没有此参数重启后失效</p> <p>2、重启防火墙</p> <p>firewall-cmd --reload</p> <p>3、查询指定端口是否已开</p> <p>4.临时关闭防火墙</p> <p>systemctl stop  firewalld.service</p> <p>5.关闭端口</p> <p>kill -9  PID</p> <p>6.开启防火墙：systemctl start firewalld</p> <h3 id="查看linux运行的进程"><a href="#查看linux运行的进程" class="header-anchor">#</a> 查看linux运行的进程</h3> <p><strong>语法</strong>:  ps -ef</p> <h3 id="管道符"><a href="#管道符" class="header-anchor">#</a> 管道符  |</h3> <blockquote><p>可以连接两个命令  就是前一个命令的输出作为后一个命令的输入</p></blockquote> <p>语法:   ps -ef | grep xxx</p> <ul><li>在linux运行的进程里 查询包含xxx的选项</li></ul> <h2 id="vim-文本编辑器"><a href="#vim-文本编辑器" class="header-anchor">#</a> vim -- 文本编辑器</h2> <blockquote><p>Vim 是从 vi 发展出来的一个文本编辑器。代码补全、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。vim 的官方网站 (https://www.vim.org/)</p></blockquote> <h3 id="vi-vim-的使用"><a href="#vi-vim-的使用" class="header-anchor">#</a> vi/vim 的使用</h3> <p>基本上 vi/vim 共分为三种模式，分别是<strong>命令模式（Command mode）</strong>，<strong>输入模式（Insert mode）<strong>和</strong>底线命令模式（Last line mode）</strong>。 这三种模式的作用分别是：</p> <p>下载:   yum -y install vim</p> <h4 id="命令模式"><a href="#命令模式" class="header-anchor">#</a> 命令模式：</h4> <p>用户刚刚启动 vi/vim，便进入了命令模式。</p> <p>此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。</p> <p>以下是常用的几个命令：</p> <ul><li><strong>i</strong> 切换到输入模式，以输入字符。</li> <li><strong>x</strong> 删除当前光标所在处的字符。</li> <li><strong>:</strong> 切换到底线命令模式，以在最底一行输入命令。</li></ul> <p>若想要编辑文本：启动Vim，进入了命令模式，按下i，切换到输入模式。</p> <p>命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。</p> <h4 id="输入模式"><a href="#输入模式" class="header-anchor">#</a> 输入模式</h4> <p>在命令模式下按下i就进入了输入模式。</p> <p>在输入模式中，可以使用以下按键：</p> <ul><li><strong>字符按键以及Shift组合</strong>，输入字符</li> <li><strong>ENTER</strong>，回车键，换行</li> <li><strong>BACK SPACE</strong>，退格键，删除光标前一个字符</li> <li><strong>DEL</strong>，删除键，删除光标后一个字符</li> <li><strong>方向键</strong>，在文本中移动光标</li> <li><strong>HOME</strong>/<strong>END</strong>，移动光标到行首/行尾</li> <li><strong>Page Up</strong>/<strong>Page Down</strong>，上/下翻页</li> <li><strong>Insert</strong>，切换光标为输入/替换模式，光标将变成竖线/下划线</li> <li><strong>ESC</strong>，退出输入模式，切换到命令模式</li></ul> <h4 id="底线命令模式"><a href="#底线命令模式" class="header-anchor">#</a> 底线命令模式</h4> <p>在命令模式下按下:（英文冒号）就进入了底线命令模式。</p> <p>底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。</p> <p>在底线命令模式中，基本的命令有（已经省略了冒号）：</p> <ul><li>q 退出程序</li> <li>w 保存文件</li></ul> <p>按ESC键可随时退出底线命令模式。</p> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220622153611874.png" alt="image-20220622153611874"></p> <h3 id="文件编辑命令"><a href="#文件编辑命令" class="header-anchor">#</a> 文件编辑命令</h3> <h4 id="插入命令"><a href="#插入命令" class="header-anchor">#</a> 插入命令</h4> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td><strong>a</strong></td> <td>在光标所在字符后插入</td></tr> <tr><td>A</td> <td>在光标所在行尾插入</td></tr> <tr><td><strong>i</strong></td> <td>在光标所在字符前插入</td></tr> <tr><td>I</td> <td>在光标所在行行首插入</td></tr> <tr><td><strong>o</strong></td> <td>在光标下插入新行</td></tr> <tr><td>O</td> <td>在光标上插入新行</td></tr></tbody></table> <h4 id="定位命令"><a href="#定位命令" class="header-anchor">#</a> 定位命令</h4> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>: set nu</td> <td>设置行号</td></tr> <tr><td>: set nonu</td> <td>取消行号</td></tr> <tr><td>gg   G</td> <td>到第一行   到最后一行</td></tr> <tr><td>nG</td> <td>到第n行</td></tr> <tr><td>: n</td> <td>到第n行</td></tr> <tr><td>$</td> <td>行尾</td></tr> <tr><td>0</td> <td>行首</td></tr></tbody></table> <h4 id="删除命令"><a href="#删除命令" class="header-anchor">#</a> 删除命令</h4> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>x</td> <td>删除光标所在处字符</td></tr> <tr><td>nx</td> <td>删除光标所在处后n个字符</td></tr> <tr><td>dd</td> <td>删除光标所在行，ndd删除n行</td></tr> <tr><td>dG</td> <td>删除光标所在行到文件末尾内容</td></tr> <tr><td>D</td> <td>删除光标所在处到行尾内容</td></tr> <tr><td>:n1,n2d</td> <td>删除指定范围的行</td></tr></tbody></table> <h4 id="复制和剪切命令"><a href="#复制和剪切命令" class="header-anchor">#</a> 复制和剪切命令</h4> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>yy</td> <td>复制当前行</td></tr> <tr><td>nyy</td> <td>复制当前行以下n行</td></tr> <tr><td>dd</td> <td>剪切当前行</td></tr> <tr><td>ndd</td> <td>剪切当前行以下n行</td></tr> <tr><td>p、P</td> <td>粘贴在当前光标所在行下 或行上</td></tr></tbody></table> <h4 id="替换和取消命令"><a href="#替换和取消命令" class="header-anchor">#</a> 替换和取消命令</h4> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>r</td> <td>取代光标所在处字符</td></tr> <tr><td>R</td> <td>从光标所在处开始替换字  符，按Esc结束</td></tr> <tr><td>u</td> <td>取消上一步操作</td></tr></tbody></table> <h4 id="搜索和搜索替换命令"><a href="#搜索和搜索替换命令" class="header-anchor">#</a> 搜索和搜索替换命令</h4> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>/string</td> <td>搜索指定字符串 搜索时忽略大小写 **😗*set ic</td></tr> <tr><td>n</td> <td>搜索指定字符串的下一个出现位置</td></tr> <tr><td>:%s/old/new/g</td> <td>全文替换指定字符串</td></tr> <tr><td>:1,10s/old/new/g</td> <td>在一定范围内替换指定字符串  1到10行</td></tr></tbody></table> <h4 id="保存和退出命令"><a href="#保存和退出命令" class="header-anchor">#</a> 保存和退出命令</h4> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td>:w</td> <td>保存修改</td></tr> <tr><td>:w new_filename</td> <td>另存为指定文件</td></tr> <tr><td>:wq</td> <td>保存修改并退出</td></tr> <tr><td>ZZ</td> <td>快捷键，保存修改并退出，在vi命令下使用</td></tr> <tr><td>:q!</td> <td>不保存修改退出</td></tr> <tr><td>:wq!</td> <td>保存修改并退出（文件所有者及root可使用）</td></tr></tbody></table> <h3 id="vim使用技巧"><a href="#vim使用技巧" class="header-anchor">#</a> Vim使用技巧</h3> <div class="language-java extra-class"><pre class="language-java"><code>导入命令执行结果 <span class="token operator">:</span>r  <span class="token operator">!</span>命令

定义快捷键 <span class="token operator">:</span>map 快捷键 触发命令

范例： <span class="token operator">:</span> map <span class="token operator">^</span><span class="token class-name">P</span>   <span class="token class-name">I</span>#<span class="token generics"><span class="token punctuation">&lt;</span>ESC<span class="token punctuation">&gt;</span></span>

<span class="token operator">:</span> map    <span class="token operator">^</span><span class="token class-name">B</span> <span class="token number">0</span>x

连续行注释

<span class="token operator">:</span>n1<span class="token punctuation">,</span>n2s<span class="token operator">/</span><span class="token operator">^</span><span class="token operator">/</span>#<span class="token operator">/</span>g

<span class="token operator">:</span>n1<span class="token punctuation">,</span>n2s<span class="token operator">/</span><span class="token operator">^</span>#<span class="token comment">//g</span>

<span class="token operator">:</span>n1<span class="token punctuation">,</span>n2s<span class="token operator">/</span><span class="token operator">^</span><span class="token operator">/</span>\<span class="token operator">/</span>\<span class="token operator">/</span><span class="token operator">/</span>g
</code></pre></div><h2 id="linux-yum-命令"><a href="#linux-yum-命令" class="header-anchor">#</a> Linux yum 命令</h2> <p>yum（ Yellow dog Updater, Modified）是一个在 Fedora 和 RedHat 以及 SUSE 中的 Shell 前端软件包管理器。</p> <p>基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。</p> <p>yum 提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。</p> <h3 id="yum-语法"><a href="#yum-语法" class="header-anchor">#</a> yum 语法</h3> <div class="language- extra-class"><pre class="language-text"><code>yum [options] [command] [package ...]
</code></pre></div><ul><li>**options：**可选，选项包括-h（帮助），-y（当安装过程提示选择全部为 &quot;yes&quot;），-q（不显示安装的过程）等等。</li> <li>**command：**要进行的操作。</li> <li>**package：**安装的包名。</li></ul> <h3 id="yum常用命令"><a href="#yum常用命令" class="header-anchor">#</a> yum常用命令</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> \<span class="token number">1.</span> 列出所有可更新的软件清单命令：<span class="token operator">*</span><span class="token operator">*</span>yum check<span class="token operator">-</span>update<span class="token operator">*</span><span class="token operator">*</span>
<span class="token operator">-</span> \<span class="token number">2.</span> 更新所有软件命令：<span class="token operator">*</span><span class="token operator">*</span>yum update<span class="token operator">*</span><span class="token operator">*</span>
<span class="token operator">-</span> \<span class="token number">3.</span> 仅安装指定的软件命令：<span class="token operator">*</span><span class="token operator">*</span>yum install <span class="token generics"><span class="token punctuation">&lt;</span>package_name<span class="token punctuation">&gt;</span></span><span class="token operator">*</span><span class="token operator">*</span>
<span class="token operator">-</span> \<span class="token number">4.</span> 仅更新指定的软件命令：<span class="token operator">*</span><span class="token operator">*</span>yum update <span class="token generics"><span class="token punctuation">&lt;</span>package_name<span class="token punctuation">&gt;</span></span><span class="token operator">*</span><span class="token operator">*</span>
<span class="token operator">-</span> \<span class="token number">5.</span> 列出所有可安裝的软件清单命令：<span class="token operator">*</span><span class="token operator">*</span>yum list<span class="token operator">*</span><span class="token operator">*</span>
<span class="token operator">-</span> \<span class="token number">6.</span> 删除软件包命令：<span class="token operator">*</span><span class="token operator">*</span>yum remove <span class="token generics"><span class="token punctuation">&lt;</span>package_name<span class="token punctuation">&gt;</span></span><span class="token operator">*</span><span class="token operator">*</span>
<span class="token operator">-</span> \<span class="token number">7.</span> 查找软件包命令：<span class="token operator">*</span><span class="token operator">*</span>yum search <span class="token generics"><span class="token punctuation">&lt;</span>keyword<span class="token punctuation">&gt;</span></span><span class="token operator">*</span><span class="token operator">*</span>
<span class="token operator">-</span> \<span class="token number">8.</span> 清除缓存命令<span class="token operator">:</span>
  <span class="token operator">-</span> <span class="token operator">*</span><span class="token operator">*</span>yum clean packages<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span> 清除缓存目录下的软件包
  <span class="token operator">-</span> <span class="token operator">*</span><span class="token operator">*</span>yum clean headers<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span> 清除缓存目录下的 headers
  <span class="token operator">-</span> <span class="token operator">*</span><span class="token operator">*</span>yum clean oldheaders<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span> 清除缓存目录下旧的 headers
  <span class="token operator">-</span> <span class="token operator">*</span><span class="token operator">*</span>yum clean<span class="token punctuation">,</span> yum clean all <span class="token punctuation">(</span><span class="token operator">=</span> yum clean packages<span class="token punctuation">;</span> yum clean oldheaders<span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token operator">:</span>清除缓存目录下的软件包及旧的 headers
</code></pre></div><p><strong>netstat  网络相关信息</strong></p> <blockquote><p>显示网络相关信息</p> <p>yum install net-tools</p></blockquote> <h2 id="nginx-分隔"><a href="#nginx-分隔" class="header-anchor">#</a> ------------   nginx 分隔    -----------</h2> <h2 id="nginx-反向代理-服务器"><a href="#nginx-反向代理-服务器" class="header-anchor">#</a> nginx 反向代理 服务器</h2> <h3 id="版本和安装"><a href="#版本和安装" class="header-anchor">#</a> 版本和安装</h3> <h4 id="window版"><a href="#window版" class="header-anchor">#</a> window版</h4> <p>从官网 <a href="http://nginx.org/en/download.html" target="_blank" rel="noopener noreferrer"><em>http://nginx.org/en/download.html</em> (opens new window)</a>下载最新的文档版。例如：<code>nginx-1.18.0</code></p> <p>解压 <em><code>nginx-1.18.0.zip</code></em> 到本地目录。按惯例，路径中不要有中文，最好不要有空格。例如：<code>D:\ProgramFiles\nginx-1.18.0</code> 。</p> <p>解压后，可到看到如下内容：</p> <div class="language-text extra-class"><pre class="language-text"><code>nginx-1.18.0
│── conf        配置文件目录
├── contrib
├── docs
├── html        类似 tomcat 的 webapps
├── logs        日志目录  access.log成功日志  error.log失败日志
├── temp
└── nginx.exe   启动程序
</code></pre></div><h5 id="启动"><a href="#启动" class="header-anchor">#</a> 启动</h5> <p>启动 Nginx 的方式有 2 种：</p> <ol><li>直接双击 <code>nginx.exe</code>。双击后一个黑色的弹窗一闪而过。</li> <li>打开 cmd 命令窗口，切换到 nginx 解压目录下，输入命令 <code>nginx.exe</code> 或者 <code>start nginx</code> 。</li></ol> <p>检查 Nginx 是否启动成功的方式也有 2 种：</p> <ol><li><p>直接在浏览器地址栏输入网址 <a href="http://localhost/" target="_blank" rel="noopener noreferrer"><em>http://localhost:80</em> (opens new window)</a>。你会看到欢迎页面。</p></li> <li><p>在 cmd 命令窗口输入命令 <code>tasklist /fi &quot;imagename eq nginx.exe&quot;</code> 。你会看到类似如下页面：</p> <div class="language-text extra-class"><pre class="language-text"><code>映像名称    PID     会话名      会话##   内存使用
=========== ======= =========== ======= ============
nginx.exe   17220   Console     8       7,148 K
nginx.exe   17660   Console     8       7,508 K
</code></pre></div></li></ol> <h5 id="关闭"><a href="#关闭" class="header-anchor">#</a> 关闭</h5> <p>如果使用 cmd 命令窗口启动 nginx，关闭 cmd 窗口是<strong>不能</strong>结束 nginx 进程的。</p> <p>可使用两种方法关闭 nginx：</p> <ol><li>输入 <code>nginx</code> 命令：<code>nginx -s stop</code>（快速停止 nginx）或 <code>nginx -s quit</code>（完整有序的停止 nginx）。</li> <li>使用 <code>taskkill</code> 命令： <code>taskkill /f /t /im nginx.exe</code></li></ol> <h4 id="linux版"><a href="#linux版" class="header-anchor">#</a> linux版</h4> <blockquote><p>可看下方简洁安装步骤</p></blockquote> <h5 id="环境依赖"><a href="#环境依赖" class="header-anchor">#</a> 环境依赖</h5> <p>1、需要安装gcc的环境。yum install gcc-c++</p> <p>2、第三方的开发包。</p> <p>PCRE:PCRE(Perl Compatible Regular Expressions)是一个Perl库，包括 perl 兼容的正则表达式库。nginx的http模块使用pcre来解析正则表达式，所以需要在linux上安装pcre库。pcre-devel是使用pcre开发的一个二次开发库。nginx也需要此库。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> -y pcre pcre-devel
</code></pre></div><p>zlib:zlib库提供了很多种压缩和解压缩的方式，nginx使用zlib对http包的内容进行gzip，所以需要在linux上安装zlib库。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> -y zlib zlib-devel
</code></pre></div><p>openssl:	OpenSSL 是一个强大的安全套接字层密码库，囊括主要的密码算法、常用的密钥和证书封装管理功能及SSL协议，并提供丰富的应用程序供测试或其它目的使用。nginx不仅支持http协议，还支持https（即在ssl协议上传输http），所以需要在linux安装openssl库。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> -y openssl openssl-devel
</code></pre></div><h5 id="安装步骤"><a href="#安装步骤" class="header-anchor">#</a> 安装步骤</h5> <p>把nginx的源码包上传到linux系统</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## tar zxvf nginx-1.8.0.tar.gz</span>
</code></pre></div><p>使用configure命令创建一makeFile文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code>./configure <span class="token punctuation">\</span>
--prefix<span class="token operator">=</span>/usr/local/nginx <span class="token punctuation">\</span>
--pid-path<span class="token operator">=</span>/var/run/nginx/nginx.pid <span class="token punctuation">\</span>
--lock-path<span class="token operator">=</span>/var/lock/nginx.lock <span class="token punctuation">\</span>
--error-log-path<span class="token operator">=</span>/var/log/nginx/error.log <span class="token punctuation">\</span>
--http-log-path<span class="token operator">=</span>/var/log/nginx/access.log <span class="token punctuation">\</span>
--with-http_gzip_static_module <span class="token punctuation">\</span>
--http-client-body-temp-path<span class="token operator">=</span>/var/temp/nginx/client <span class="token punctuation">\</span>
--http-proxy-temp-path<span class="token operator">=</span>/var/temp/nginx/proxy <span class="token punctuation">\</span>
--http-fastcgi-temp-path<span class="token operator">=</span>/var/temp/nginx/fastcgi <span class="token punctuation">\</span>
--http-uwsgi-temp-path<span class="token operator">=</span>/var/temp/nginx/uwsgi <span class="token punctuation">\</span>
--http-scgi-temp-path<span class="token operator">=</span>/var/temp/nginx/scgi
</code></pre></div><p>注意：启动nginx之前，上边将临时文件目录指定为/var/temp/nginx，需要在/var下创建temp及nginx目录</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost sbin<span class="token punctuation">]</span><span class="token comment">## mkdir  -p  /var/temp/nginx/client </span>
<span class="token punctuation">[</span>root@localhost sbin<span class="token punctuation">]</span><span class="token comment">#make</span>
<span class="token punctuation">[</span>root@localhost sbin<span class="token punctuation">]</span><span class="token comment">#make install</span>
</code></pre></div><h5 id="启动-nginx"><a href="#启动-nginx" class="header-anchor">#</a> 启动 nginx</h5> <blockquote><p>注意:  安装完成的源目录是在 /usr/local/nginx/sbin 里 并不是安装包的位置</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>进入sbin目录
<span class="token punctuation">[</span>root@localhost sbin<span class="token punctuation">]</span><span class="token comment">## ./nginx </span>
关闭nginx：
<span class="token punctuation">[</span>root@localhost sbin<span class="token punctuation">]</span><span class="token comment">## ./nginx -s stop</span>
推荐使用：
<span class="token punctuation">[</span>root@localhost sbin<span class="token punctuation">]</span><span class="token comment">## ./nginx -s quit</span>
重启nginx：
<span class="token number">1</span>、先关闭后启动。
<span class="token number">2</span>、刷新配置文件：
<span class="token punctuation">[</span>root@localhost sbin<span class="token punctuation">]</span><span class="token comment">## ./nginx -s reload</span>
</code></pre></div><h5 id="访问-nginx"><a href="#访问-nginx" class="header-anchor">#</a> 访问 nginx</h5> <p>默认是80端口。注意：是否关闭防火墙。</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost sbin]</span><span class="token comment">## systemctl stop firewalld.service</span>
</code></pre></div><h3 id="nginx配置文件"><a href="#nginx配置文件" class="header-anchor">#</a> nginx配置文件</h3> <p>在 nginx.conf 的注释符号为： #；每个指令必须有分号结束</p> <p>1.全局块</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#user  nobody;</span>
worker_processes  <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">#error_log  logs/error.log;</span>
<span class="token comment">#error_log  logs/error.log  notice;</span>
<span class="token comment">#error_log  logs/error.log  info;</span>

<span class="token comment">#pid        logs/nginx.pid;</span>

</code></pre></div><blockquote><p>#user  nobody; 表示配置用户，默认用户为nobody（nobody表示任何用户），该指令的作用是哪些用户可以启动worker进程。nginx在启动后是有多个进程相互协助工作的，默认是一个master主进程和一个worker工作进程。其中主进程负责接收客户端的请求，worker进程负责处理请求，响应结果。你也可以把前面的注释去掉，写上一个具体的用户 user root</p> <p>worker_processes：工作进程的个数，默认为1，一般来说会设置成cpu核数的2倍；如果你设置一个数值为3，那么nginx在启动的时候会有3个workder进程和一个master主进程</p> <p>error_log：nginx的日志级别配置， 默认为cri，级别从低到高为debug, info, notice, warn, error, crit ；如果你要调成notice日志级别，只要#error_log  logs/error.log  notice;前面的注释去掉即可，日志位置在安装nginx的时候就已经指定</p> <p>pid：指定nginx进程运行文件存放地址</p></blockquote> <p>2.events块</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>events <span class="token punctuation">{</span>
	accept_mutex on<span class="token punctuation">;</span>   <span class="token comment">#设置网路连接序列化，防止惊群现象发生，默认为on</span>
	multi_accept on<span class="token punctuation">;</span>  <span class="token comment">#设置一个进程是否同时接受多个网络连接，默认为off</span>
    worker_connections  1024<span class="token punctuation">;</span>  <span class="token comment">#每个worker进程最大连接数，这个值最大可设置为：65535</span>
<span class="token punctuation">}</span>
<span class="token comment">##惊群现象：一个网路连接到来，多个睡眠的进程被同时叫醒，但只有一个进程能获得链接，这样会影响系统性能</span>
<span class="token comment">##单台nginx最大连接数为 worker_processes*worker_connections</span>
</code></pre></div><p>3.http块</p> <p>可以嵌套多个server，配置代理，缓存，日志定义等绝大多数功能和第三方模块的配置</p> <p>4.server块</p> <p>配置虚拟主机的相关参数，一个http中可以有多个server</p> <p>5.location块</p> <p>配置请求的路由，以及各种页面的处理情况</p> <h3 id="配置虚拟主机"><a href="#配置虚拟主机" class="header-anchor">#</a> 配置虚拟主机</h3> <p>就是在一台服务器启动多个网站。如何区分不同的网站：</p> <p>1、域名不同</p> <p>2、端口不同</p> <h4 id="通过端口区分不同虚拟机"><a href="#通过端口区分不同虚拟机" class="header-anchor">#</a> 通过端口区分不同虚拟机</h4> <h5 id="打开nginx的配置文件"><a href="#打开nginx的配置文件" class="header-anchor">#</a> 打开Nginx的配置文件：</h5> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment">## vim  conf/nginx.conf</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code>server <span class="token punctuation">{</span>
    listen       <span class="token number">80</span><span class="token punctuation">;</span>
    server_name  localhost<span class="token punctuation">;</span>
    <span class="token comment">#charset koi8-r;</span>
    <span class="token comment">#access_log  logs/host.access.log  main;</span>
    location / <span class="token punctuation">{</span>
    root   html<span class="token punctuation">;</span>
    index  index.html index.htm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>说明：一个server节点就是一个虚拟主机，html是nginx安装目录下的html目录(静态页面存放的位置,也可以使用绝对路径)，可以配置多个server，配置了多个虚拟主机</p></blockquote> <div class="language-powershell extra-class"><pre class="language-powershell"><code> server <span class="token punctuation">{</span>
        listen       81<span class="token punctuation">;</span>
        server_name  localhost<span class="token punctuation">;</span>
        <span class="token comment">#charset koi8-r;</span>
        <span class="token comment">#access_log  logs/host.access.log  main;</span>
        location <span class="token operator">/</span> <span class="token punctuation">{</span>
            root   html<span class="token operator">-</span>81<span class="token punctuation">;</span>
            index  index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h5 id="重新加载配置文件"><a href="#重新加载配置文件" class="header-anchor">#</a> 重新加载配置文件</h5> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost nginx]</span><span class="token comment">## sbin/nginx -s reload</span>
</code></pre></div><p>注意: <strong>一定要关闭防火墙</strong></p> <h4 id="通过域名区分虚拟主机"><a href="#通过域名区分虚拟主机" class="header-anchor">#</a> 通过域名区分虚拟主机</h4> <h5 id="什么是域名"><a href="#什么是域名" class="header-anchor">#</a> <strong>什么是域名</strong></h5> <p>域名就是网站。如www.baidu.com  www.taobao.com   <a href="http://www.jd.com" target="_blank" rel="noopener noreferrer">www.jd.com</a></p> <p>dns服务器：把域名解析为ip地址。保存的就是域名和ip的映射关系</p> <p>一级域名：一串字符串中间一个点隔开，例如baidu.com。是互联网DNS等级之中的最高级的域，它保存于DNS根域的名字空间中</p> <p>二级域名：是一个一级域名以下的主机名，一串字符串中间两个“.”隔开，例如www.baidu.com。二级域名就是最靠近顶级域名左侧的字段</p> <p>三级域名：二级域名的子域名，特征是包含三个“.”，例如___.___.baidu.com ，___上可以填写任意内容，都属于三级域名</p> <p>我们接触的顶级域名(一级域名)又分为两类：一是国家和地区顶级域名，例如中国是cn；二是国际顶级域名，例如表示工商企业的.com，表示非盈利组织的.org，表示网络商的.net，edu为学校单位，.gov为政府机构等</p> <p>一个域名对应一个ip地址，一个ip地址可以被多个域名绑定。</p> <p>实验1：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>修改window的hosts文件：（C:\Windows\System32\drivers\etc）
注意：该文件如果配置域名和ip的映射关系，如果hosts文件中配置了域名和ip的对应关系，不需要走dns服务器。
</code></pre></div><div class="language-powershell extra-class"><pre class="language-powershell"><code>192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>128<span class="token punctuation">.</span>129 www<span class="token punctuation">.</span>jd<span class="token punctuation">.</span>com
192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>128<span class="token punctuation">.</span>129 www<span class="token punctuation">.</span>163<span class="token punctuation">.</span>com
</code></pre></div><p>注意：如果修改后映射不生效，可参考以下解决办法：</p> <p>1.该文件保存时未使用ansi编码进行保存，解决办法：更改文件编码为ansi进行保存</p> <p>2.启用了DNS Client服务（该服务为DNS解析的缓存服务）解决办法：将该服务停用；如果该服务为自动启用，请改为手动启用</p> <h5 id="nginx的配置"><a href="#nginx的配置" class="header-anchor">#</a> <strong>Nginx的配置</strong></h5> <div class="language-powershell extra-class"><pre class="language-powershell"><code>server <span class="token punctuation">{</span>
        listen       80<span class="token punctuation">;</span>
        server_name  www<span class="token punctuation">.</span>jd<span class="token punctuation">.</span>com<span class="token punctuation">;</span>
        <span class="token comment">#charset koi8-r;</span>
        <span class="token comment">#access_log  logs/host.access.log  main;</span>
        location <span class="token operator">/</span> <span class="token punctuation">{</span>
            root   html<span class="token operator">-</span>jd<span class="token punctuation">;</span>
            index  index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
 server <span class="token punctuation">{</span>
        listen       80<span class="token punctuation">;</span>
        server_name  www<span class="token punctuation">.</span>163<span class="token punctuation">.</span>com<span class="token punctuation">;</span>
        <span class="token comment">#charset koi8-r;</span>
        <span class="token comment">#access_log  logs/host.access.log  main;</span>
        location <span class="token operator">/</span> <span class="token punctuation">{</span>
            root   html<span class="token operator">-</span>163<span class="token punctuation">;</span>
            index  index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="反向代理"><a href="#反向代理" class="header-anchor">#</a> 反向代理</h2> <p>正向代理：如果把局域网外的Internet想象成一个巨大的资源库,则局域网中的客户端要访问Internet ,则需要通过代理服务器来访问,这种代理服务就称为正向代理。代理的是客户端</p> <p>反向代理：其实客户端对代理是无感知的,因为喜户端不需要任何配置就可以访问,我们只需要将请求发送到反向代理服务器,由反向代理服务器去选择目标服务器获取数据后,再返回给客户端,此时反向代理服务器和目标服务器对外就是一个服务器 ,暴露的是代理服务器地址,隐藏了真实服务器IP地址。代理的是服务器</p> <blockquote><p>在这种情况下，在客户端看来，<code>Nginx</code> + <code>服务端</code> 整体扮演了一个更大意义上的服务端的概念。</p></blockquote> <h3 id="案例"><a href="#案例" class="header-anchor">#</a> 案例</h3> <p>1、后端工程：把一个springboot工程2个打包，分别指定运行端口8080和8081，在linux运行起来</p> <p>springboot工程：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${server.port}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> port<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token operator">+</span>port<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
运行端口<span class="token number">8080</span>
</code></pre></div><p>2、nginx配置</p> <div class="language-xml extra-class"><pre class="language-xml"><code>server {
    listen       80;
    server_name  www.woniu.com;
 
    location /api {
        proxy_pass  http://127.0.0.1:8080;
        rewrite &quot;^/api/(.*)$&quot; /$1 break;  
    } 
 	location / {
         root   html;
         index  index.html index.htm;
     }
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   html;
    } 
} 
</code></pre></div><blockquote><p>说明：当我们访问www.woniu.com时，默认请求nginx里面的html目录的index.html.当我们请求www.woniu.com/api/hello时，由于以/api开头，则匹配第一个location，然后去请求http://127.0.0.1:8080这个服务器，那么问题来了，nginx转发的请求是http://127.0.0.1:8080/api/hello还是http://127.0.0.1:8080/api</p> <p>这里就要注意转发规则：大家可以看看这句话： rewrite &quot;^/user/(.*)$&quot; /$1 break; 也就是路径重写  $1代表第一个（）里面的内容，如果有第二.....多个括号，则同样的用$2.....表示即可，这个正则表达式意思是说 以 api开头的被替换成/,( )里面的内容就是用$1占位符来表示，变相的把api截掉了</p></blockquote> <h2 id="负载均衡"><a href="#负载均衡" class="header-anchor">#</a> 负载均衡</h2> <p>负载均衡（load balance）就是将负载分摊到多个操作单元上执行，从而提高服务的可用性和响应速度，带给用户更好的体验</p> <h3 id="负载均衡的配置"><a href="#负载均衡的配置" class="header-anchor">#</a> 负载均衡的配置</h3> <p>通过 Nginx 中的 <strong>upstream</strong> 指令可以实现负载均衡，再该指令中能够配置负载均衡服务器组</p> <p>目前负载均衡有 4 种典型的配置方式。分别是：</p> <table><thead><tr><th style="text-align:center;">##</th> <th style="text-align:left;">负载均衡方式</th> <th style="text-align:left;">特点</th></tr></thead> <tbody><tr><td style="text-align:center;">1</td> <td style="text-align:left;">轮询方式</td> <td style="text-align:left;">默认方式。每个请求按照时间顺序逐一分配到不同的后端服务器进行处理。如果有服务器宕机，会自动删除。</td></tr> <tr><td style="text-align:center;">2</td> <td style="text-align:left;">权重方式</td> <td style="text-align:left;">利用 weight 指定轮循的权重比率，与访问率成正比。用于后端服务器性能不均衡的情况。</td></tr> <tr><td style="text-align:center;">3</td> <td style="text-align:left;">ip_hash 方法</td> <td style="text-align:left;">每个请求按照访问 IP 的 hash 结果分配，这样可以使每个方可固定一个后端服务器，可以解决 Session 共享问题。</td></tr> <tr><td style="text-align:center;">4</td> <td style="text-align:left;">第三方模块</td> <td style="text-align:left;">取决于所采用的第三方模块的分配规则。</td></tr></tbody></table> <p>在 upstream 指定的服务器组中，若每个服务器的权重都设置为 1（默认值）时，表示当前的负载均衡是一般轮循方式</p> <h4 id="准备工作"><a href="#准备工作" class="header-anchor">#</a> 准备工作</h4> <p>编写后台（SpringBoot）项目，简单起见，以占用不同的端口的形式启动 2 次，并在返回的信息中返回各自所占用的端口号</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${server.port}&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">String</span> port<span class="token punctuation">;</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/api/hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;code&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;10086&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> map<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="负载方式"><a href="#负载方式" class="header-anchor">#</a> 负载方式</h3> <h5 id="_6-3-1-轮询"><a href="#_6-3-1-轮询" class="header-anchor">#</a> 6.3.1 轮询</h5> <div class="language-powershell extra-class"><pre class="language-powershell"><code>upstream xxx <span class="token punctuation">{</span>
    server 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:8080<span class="token punctuation">;</span>
    server 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:9090<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
upstream yyy <span class="token punctuation">{</span>
    server 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    server 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
server <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    location <span class="token operator">/</span>api <span class="token punctuation">{</span>
        proxy_pass http:<span class="token operator">/</span><span class="token operator">/</span>xxx<span class="token punctuation">;</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
    location <span class="token operator">/</span>user <span class="token punctuation">{</span>
        proxy_pass http:<span class="token operator">/</span><span class="token operator">/</span>yyy<span class="token punctuation">;</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上述的配置中有 2 点需要注意的：</p> <p>1、<strong>upstream</strong> 配置项在 <strong>http</strong> 配置项内，但是在 <strong>server</strong> 配置项外，它们 3 者整体结构如下（不要写错地方了）：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>http <span class="token punctuation">{</span>
    <span class="token comment">## 它们两者平级</span>
    server <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
    upstream <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2、你所配置的 <strong>upstream</strong> 的 name 是自定义的，但是不要出现 <strong><code>-</code></strong> 号，否则会和 tomcat 有冲突。</p> <p>测试：你持续访问 <code>http://127.0.0.1/api/hello</code> 你会发现页面的内容会是交替出现 <code>8080</code> 端口和 <code>9090</code> 端口</p> <h5 id="_6-3-2-加权轮询"><a href="#_6-3-2-加权轮询" class="header-anchor">#</a> 6.3.2 加权轮询</h5> <p>加权轮循就是在轮循的基础上，为每个单点加上权值。权值越重的单点，承担的访问量自然也就越大。</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>upstream xxx <span class="token punctuation">{</span>
    server 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:8080 weight=1<span class="token punctuation">;</span>
    server 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:9090 weight=2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>按照上述配置，<code>9090</code> 端口的服务将承担 2/3 的访问量，而 <code>8080</code> 端口则承担 1/3 的访问量。</p> <p>将配置改为上述样子并重启 Nginx 后，再持续访问 <code>http://127.0.0.1/api/hello</code> 你会发现 <code>8080</code> 端口和 <code>9090</code> 端口会以 <code>1-2-1-2-...</code> 的次数交替出现。</p> <p>除了 <strong>weight</strong> 外，常见的状态参数还有：</p> <table><thead><tr><th style="text-align:left;">配置方式</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">max_fails</td> <td style="text-align:left;">允许请求失败次数，默认为 1 。通常和下面的 fail_timeout 连用。</td></tr> <tr><td style="text-align:left;">fail_timeout</td> <td style="text-align:left;">在经历了 max_fails 次失败后，暂停服务的时长。这段时间内，这台服务器 Nginx 不会请求这台 Server</td></tr> <tr><td style="text-align:left;">backup</td> <td style="text-align:left;">预留的备份机器。它只有在其它非 backup 机器出现故障时或者忙碌的情况下，才会承担负载任务。</td></tr> <tr><td style="text-align:left;">down</td> <td style="text-align:left;">表示当前的 server 不参与负载均衡。</td></tr></tbody></table> <p>例如：</p> <div class="language-text extra-class"><pre class="language-text"><code>upstream web_server {
    server 192.168.78.128 weight=1 max_fails=1 fail_timeout=30s;
    server 192.168.78.200 weight=2 max_fails=1 fail_timeout=30s;
    server 192.168.78.201 backup;
    server 192.168.78.210 down;
}
</code></pre></div><h5 id="_6-3-3-ip-hash-负载"><a href="#_6-3-3-ip-hash-负载" class="header-anchor">#</a> 6.3.3 ip_hash 负载</h5> <p>ip_hash 方式的负载均衡，是将每个请求按照访问 IP 的 hash 结果分配，这样就可以使来自同一个 IP 的客户端固定访问一台 Web 服务器，从而就解决了 Session 共享问题</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>upstream xxx <span class="token punctuation">{</span>
    ip_hash<span class="token punctuation">;</span>
    server 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:8080<span class="token punctuation">;</span>
    server 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1:9090<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用上例配置后，你会发现无论你请求多少次 <code>http://127.0.0.1/api/hello</code> 你所看到的端口始终是 <code>8080</code> 和 <code>9090</code> 中的某一个。</p> <h3 id="将客户端浏览器的-ip-传递到后台"><a href="#将客户端浏览器的-ip-传递到后台" class="header-anchor">#</a> 将客户端浏览器的 IP 传递到后台</h3> <p>对于后台而言，它所面对的『<strong>客户端</strong>』就是 Nginx，后台看不见『<strong>客户端</strong>』浏览器。这就意味着，你如果你需要在后台获取客户端浏览器的 IP 地址，你需要明确指出让 Nginx 『<strong>额外地多携带</strong>』一些数据。</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>location <span class="token operator">/</span>api <span class="token punctuation">{</span>
    proxy_pass http:<span class="token operator">/</span><span class="token operator">/</span>xxx<span class="token operator">/</span>api<span class="token punctuation">;</span>
    proxy_set_header X<span class="token operator">-</span>Real<span class="token operator">-</span>IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>

    <span class="token comment">## proxy_set_header Cookie $http_cookie;</span>
    <span class="token comment">## proxy_set_header Host $http_host;</span>
    <span class="token comment">## proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在 Spring Boot 的 Controller 中你有 2 种方式来获得这个额外的信息：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">index</span><span class="token punctuation">(</span>
        <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;X-Real-IP&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> realIP2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> realIP1 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;X-Real-IP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="nginx解决前后端跨域-了解"><a href="#nginx解决前后端跨域-了解" class="header-anchor">#</a> nginx解决前后端跨域(了解)</h3> <p>Spring Boot 不提供任何动态页面、资源，只提供 JSON 格式数据</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>http <span class="token punctuation">{</span>
    include       mime<span class="token punctuation">.</span>types<span class="token punctuation">;</span>
    default_type  application<span class="token operator">/</span>octet<span class="token operator">-</span>stream<span class="token punctuation">;</span>
    sendfile        on<span class="token punctuation">;</span>
    keepalive_timeout  65<span class="token punctuation">;</span>  <span class="token comment">## TCP 连接存活 65 秒</span>
    server <span class="token punctuation">{</span>
        <span class="token comment">## Nginx 监听 localhost:80 端口</span>
        listen       80<span class="token punctuation">;</span>
        server_name  localhost<span class="token punctuation">;</span>

        <span class="token comment">## 访问 URI 根路径时，返回 Nginx 根目录下的 html 目录下的 index.html 或 index.htm</span>
        location <span class="token operator">/</span> <span class="token punctuation">{</span>
            root   html<span class="token punctuation">;</span>
            index  index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">## URI 路径以 /api 开头的将转交给『别人』处理</span>
        location <span class="token operator">/</span>api <span class="token punctuation">{</span>
            proxy_pass http:<span class="token operator">/</span><span class="token operator">/</span>localhost:8080<span class="token operator">/</span>api<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">## 出现 500、502、503、504 错误时，返回 Nginx 根目录下的 html 目录下的 50x.html 。</span>
        error_page   500 502 503 504  <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>    
        location = <span class="token operator">/</span>50x<span class="token punctuation">.</span>html <span class="token punctuation">{</span>
            root   html<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>index.html内容，放nginx运行</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./js/jquery-1.11.3.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">'http://192.168.128.128:80/api/hello'</span><span class="token punctuation">,</span> <span class="token comment">// 注意这里的 URL</span>
  type<span class="token operator">:</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;h2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;跨域访问成功:&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;h2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;跨域失败!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>首先当我们访问192.168.128.128时。显示index.html首页内容。在首页加载时异步请求http://127.0.0.1:80/api/hello的请求，被Nginx 接收后，Nginx 会『帮』我们去访问 http://127.0.0.1:8080<code>的</code>/api/hello，并将结果再返回给客户端了浏览器</p> <h3 id="nginx搭建文件服务器"><a href="#nginx搭建文件服务器" class="header-anchor">#</a> nginx搭建文件服务器</h3> <p>安装好nginx之后，做相关配置</p> <div class="language-shell extra-class"><pre class="language-shell"><code>server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  localhost<span class="token punctuation">;</span> 
        location / <span class="token punctuation">{</span>
	    root   /opt/soft/<span class="token punctuation">;</span> <span class="token comment">#可以在这个目录放置一些软件包，供别人下载</span>
	    autoindex on<span class="token punctuation">;</span>             <span class="token comment">#开启索引功能  这句话很重要</span>
        autoindex_exact_size off<span class="token punctuation">;</span> <span class="token comment">## 关闭计算文件确切大小（单位bytes），只显示大概大小（单位kb、mb、gb）</span>
        autoindex_localtime on<span class="token punctuation">;</span>   <span class="token comment">## 显示本机时间而非 GMT 时间</span>
        charset utf-8<span class="token punctuation">;</span> <span class="token comment">## 避免中文乱码 </span>
        <span class="token comment">## root html;</span>
        <span class="token comment">## index  index.html index.htm;</span>
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> 
</code></pre></div><p>测试：192.172.0.11</p> <h2 id="docker-分隔"><a href="#docker-分隔" class="header-anchor">#</a> -----------  Docker 分隔   -----------</h2> <h2 id="docker-容器引擎"><a href="#docker-容器引擎" class="header-anchor">#</a> Docker 容器引擎</h2> <h3 id="nacos-的下载和安装"><a href="#nacos-的下载和安装" class="header-anchor">#</a> Nacos 的下载和安装</h3> <p>首先去 nacos 的 github 地址下载 release 安装包。<a href="https://github.com/alibaba/nacos/releases" target="_blank" rel="noopener noreferrer">下载地址</a></p> <p>进入到 nacos/bin 目录下面，<strong>startup</strong> 命令用于启动 nacos ，<strong>shutdown</strong> 命令用于停掉 nacos 。</p> <ul><li><p>如果你是 windows 系统</p> <p>执行 <strong>startup.cmd -m standalone</strong> 启动，单模式启动</p></li> <li><p>如果你是 linux/unix 系统</p> <p>执行 <strong>startup.sh -m standalone</strong> 启动。</p></li> <li><p>如果你使用的是 docker-compose</p> <p>编写docker-compose.yml文件   启动该文件 命令： docker-compose up</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">nacos</span><span class="token punctuation">:</span>
  <span class="token key atrule">image</span><span class="token punctuation">:</span> nacos/nacos<span class="token punctuation">-</span>server<span class="token punctuation">:</span>latest
  <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>standalone<span class="token punctuation">-</span><span class="token number">8848</span>
  <span class="token key atrule">environment</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> PREFER_HOST_MODE=hostname
    <span class="token punctuation">-</span> MODE=standalone   <span class="token comment">#单机模式启动</span>
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ./8848/logs/<span class="token punctuation">:</span>/home/nacos/logs   <span class="token comment">#前面是宿主机名  后面是容器目录名</span>
    <span class="token punctuation">-</span> ./8848/init.d/custom.properties<span class="token punctuation">:</span>/home/nacos/init.d/custom.properties
  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;8848:8848&quot;</span>
</code></pre></div></li></ul> <p>nacos 的默认服务端口是 <strong>8848</strong> ，启动完成之后通过浏览器访问 nacos：http://127.0.0.1:8848/nacos 。</p> <h3 id="docker-概念"><a href="#docker-概念" class="header-anchor">#</a> docker 概念</h3> <blockquote><p>1、Docker 是一个开源的应用容器引擎
2、诞生于 2013 年初，基于 Go 语言实现， dotCloud 公司出品（后改名为Docker Inc）
3、Docker 是一个可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器引擎（好比汽车发动机），然后发布到任何流行的 Linux 机器上。
4、容器是完全使用沙箱机制，相互隔离
5、容器性能开销极低。
6、Docker 从 17.03 版本之后分为 CE（Community Edition: 社区版） 和 EE（Enterprise Edition: 企业版）</p></blockquote> <h4 id="安装docker"><a href="#安装docker" class="header-anchor">#</a> 安装docker</h4> <p>Docker可以运行在MAC、Windows、CentOS、UBUNTU等操作系统上，本课程基于CentOS 7 安装Docker。
官网：https://www.docker.com</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">## yum 包更新到最新</span>
yum update -y    
<span class="token comment">## 安装需要的软件包</span>
yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2
<span class="token comment">## 设置yum源</span>
yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
<span class="token comment">## 华为的镜像服务器 可提高下载速度</span>
<span class="token function">sudo</span> <span class="token function">sed</span> -i <span class="token string">'s+download.docker.com+repo.huaweicloud.com/docker-ce+'</span> /etc/yum.repos.d/docker-ce.repo
<span class="token comment">## 安装docker</span>
yum <span class="token function">install</span> -y docker-ce   
<span class="token comment">## 查看docker版本，验证是否验证成功</span>
docker -v        
</code></pre></div><blockquote><p>考虑到从 docker 官方的仓库下载 docker-ce 有时会比较慢，可以使用下述命令将下载网址改为华为的镜像服务器：
sudo sed -i 's+download.docker.com+repo.huaweicloud.com/docker-ce+' /etc/yum.repos.d/docker-ce.repo</p></blockquote> <h4 id="docker相关概念"><a href="#docker相关概念" class="header-anchor">#</a> docker相关概念</h4> <ul><li>镜像（Image）：Docker 镜像（Image），就相当于是一个 root 文件系统。比如官方镜像 ubuntu:16.04 就包含了完整的一套 Ubuntu16.04 最小系统的 root 文件系统。</li> <li>容器（Container）：镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的类和对象一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。</li> <li>仓库（Repository）：仓库可看成一个代码控制中心，用来保存镜像。</li></ul> <h4 id="配置-docker-镜像加速器"><a href="#配置-docker-镜像加速器" class="header-anchor">#</a> 配置 Docker 镜像加速器</h4> <p>默认情况下，将来从docker hub（https://hub.docker.com/）上下载docker镜像，太慢。一般都会配置镜像加速器：</p> <ul><li>USTC：中科大镜像加速器（https://docker.mirrors.ustc.edu.cn）</li> <li>阿里云</li> <li>网易云</li> <li>腾讯云</li></ul> <p>阿里云镜像加速器配置</p> <p>首先登陆阿里云，点击控制台，然后再点击左边的像三字一样的图标，再点击产品与服务，在输入关键字地方搜索“镜像”，会显示容器镜像服务，点击“容器镜像服务”，在左侧的最下方有镜像中心（镜像加速器），点击镜像加速器，复制如下代码到linux执行即可</p> <div class="language-shell extra-class"><pre class="language-shell"><code>// 修改 /etc/docker/daemon.json 文件内容 提高下载速度
<span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/docker

<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
{
  &quot;registry-mirrors&quot;: [&quot;https://88y9upwp.mirror.aliyuncs.com&quot;]
}
EOF</span>

<span class="token function">sudo</span> systemctl daemon-reload

<span class="token function">sudo</span> systemctl restart docker
</code></pre></div><h2 id="docker-网络模式"><a href="#docker-网络模式" class="header-anchor">#</a> Docker 网络模式</h2> <blockquote><p>在创建容器时可设置其网络模式: docker run -id -p 3307 :3306 --name=c_ mysql -e --net=host MYSQL_ ROOT_ PASSWORD=root mysql:5.6</p></blockquote> <p>四类网络模式:  https://segmentfault.com/a/1190000040335988</p> <h3 id="bridge-模式-桥接"><a href="#bridge-模式-桥接" class="header-anchor">#</a> bridge 模式 - 桥接</h3> <blockquote><p>当Docker进程启动时，会在主机上创建一个名为docker0的虚拟网桥，此主机上启动的Docker容器会连接到这个虚拟网桥上。虚拟网桥的工作方式和物理交换机类似，这样主机上的所有容器就通过交换机连在了一个二层网络中。</p></blockquote> <p>从docker0子网中分配一个IP给容器使用，并设置docker0的IP地址为容器的默认网关。在主机上创建一对虚拟网卡veth pair设备，Docker将veth pair设备的一端放在新创建的容器中，并命名为eth0（容器的网卡），另一端放在主机中，以vethxxx这样类似的名字命名，并将这个网络设备加入到docker0网桥中。可以通过brctl show命令查看。</p> <p>bridge模式是docker的默认网络模式，不写--net参数，就是bridge模式。使用docker run -p时，docker实际是在iptables做了DNAT规则，实现端口转发功能。可以使用iptables -t nat -vnL查看。</p> <h3 id="host-模式-仅主机模式"><a href="#host-模式-仅主机模式" class="header-anchor">#</a> host 模式 - 仅主机模式</h3> <p>如果启动容器的时候使用host模式，那么这个容器将不会获得一个独立的Network Namespace，而是和宿主机共用一个Network Namespace。容器将不会虚拟出自己的网卡，配置自己的IP等，而是使用宿主机的IP和端口。但是，容器的其他方面，如文件系统、进程列表等还是和宿主机隔离的</p> <blockquote><p>使用host模式的容器可以直接使用宿主机的IP地址与外界通信，容器内部的服务端口也可以使用宿主机的端口，不需要进行NAT，host最大的优势就是网络性能比较好，但是docker host上已经使用的端口就不能再用了，网络的隔离性不好。</p></blockquote> <h3 id="container-模式"><a href="#container-模式" class="header-anchor">#</a> container 模式</h3> <p>这个模式指定新创建的容器和已经存在的一个容器共享一个 Network Namespace，而不是和宿主机共享。新创建的容器不会创建自己的网卡，配置自己的 IP，而是和一个指定的容器共享 IP、端口范围等。同样，两个容器除了网络方面，其他的如文件系统、进程列表等还是隔离的。两个容器的进程可以通过 lo 网卡设备通信。</p> <h4 id="none模式"><a href="#none模式" class="header-anchor">#</a> none模式</h4> <p>使用none模式，Docker容器拥有自己的Network Namespace，但是，并不为Docker容器进行任何网络配置。也就是说，这个Docker容器没有网卡、IP、路由等信息。需要我们自己为Docker容器添加网卡、配置IP等。</p> <p>这种网络模式下容器只有lo回环网络，没有其他网卡。none模式可以在容器创建时通过--network=none来指定。这种类型的网络没有办法联网，封闭的网络能很好的保证容器的安全性。</p> <h2 id="docker-命令"><a href="#docker-命令" class="header-anchor">#</a> Docker 命令</h2> <h3 id="进程相关命令"><a href="#进程相关命令" class="header-anchor">#</a> 进程相关命令</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>systemctl start docker    <span class="token comment">#启动docker服务</span>
systemctl stop docker     <span class="token comment">#停止docker服务 </span>
systemctl restart docker  <span class="token comment">#重启docker服务 </span>
systemctl status docker   <span class="token comment">#查看docker服务状态</span>
systemctl <span class="token builtin class-name">enable</span> docker   <span class="token comment">#开机启动docker服务</span>
</code></pre></div><h3 id="镜像相关命令"><a href="#镜像相关命令" class="header-anchor">#</a> 镜像相关命令</h3> <p>1、查看镜像: 查看本地所有的镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker images      </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker images –q ## 查看所有镜像的id</span>
</code></pre></div><p>2、搜索镜像:从网络中查找需要的镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code>docker imagesxxxxxxxxxx docker imagesdocker search 镜像名称<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker search  redisshell</span>
</code></pre></div><p>3、拉取镜像:从Docker仓库下载镜像到本地，镜像名称格式为 名称:版本号，如果版本号不指定则是最新的版本，如果不知道镜像版本，可以去docker hub 搜索对应镜像查看。 https://hub.docker.com/_/docker</p> <div class="language-shell extra-class"><pre class="language-shell"><code>docker pull 镜像名称:版本号
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker pull redis:5.0 </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker pull centos:7 </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker pull mysql:5.6  |  docker pull mysql:8.0.25 </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker pull tomcat:8 弃用</span>
				   docker pull openjdk:8
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker pull nginx</span>

docker pull java:8
<span class="token comment">## minio 文件对象存储 类似阿里云oss</span>
docker pull minio/minio 
<span class="token comment">## 安装消息队列</span>
docker pull rabbitmq:management
<span class="token comment">## 拉取 wordpress 主题网站镜像</span>
docker pull wordpress 
</code></pre></div><p>4、删除镜像: 删除本地镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code>// 可根据 docker images 查询镜像id镜像删除
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker rmi 镜像id</span>
// 删除所有镜像
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker rmi `docker images -q`</span>
</code></pre></div><h3 id="容器相关命令"><a href="#容器相关命令" class="header-anchor">#</a> 容器相关命令</h3> <p>1、查看容器</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker ps       ## 查看正在运行的容器</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker ps -a    ## 查看所有容器 （包括没有运行的容器）</span>
</code></pre></div><p>2、创建并启动容器</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>docker run <span class="token operator">-</span>it <span class="token punctuation">|</span> <span class="token operator">-</span>id <span class="token operator">--</span>name=容器名称 镜像名称:版本 <span class="token operator">/</span>bin<span class="token operator">/</span>bash
<span class="token comment">#创建并自动进入容器,当输入exit 退出容器并回到宿主机</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker run -it --name=c1 centos:7 /bin/bash  </span>

<span class="token comment">#创建容器 但不进入容器 后台运行 可使用命令进入 且退出不会关闭容器</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker run -id --name=c2 centos:7		</span>

docker run <span class="token operator">-</span>id <span class="token operator">--</span>name=java_apai <span class="token operator">-</span>p 2022:2022 <span class="token operator">-</span>p 2023:2023 <span class="token operator">-</span>p 2024:2024 java:8
</code></pre></div><blockquote><p>参数说明：</p> <p>-i：保持容器运行。通常与 -t 同时使用。加入it这两个参数后，容器创建后自动进入容器中，退出容器后（执行命令exit），容器自动关闭</p> <p>-t：为容器重新分配一个伪输入终端，通常与 -i 同时使用</p> <p>-d：以守护（后台）模式运行容器。创建一个容器在后台运行，需要使用docker exec 进入容器。退出后，容器不会关闭</p> <p>/bin/bash 这是表示载入容器后运行bash ,docker中必须要保持一个进程的运行，要不然整个容器就会退出。这个就表示启动容器后启动bash。默认会启动一个bash，可以忽略不写</p></blockquote> <p>3、进入容器</p> <div class="language-java extra-class"><pre class="language-java"><code>docker exec 参数  <span class="token operator">/</span>bin<span class="token operator">/</span>bash      #进入容器  注意 此处的<span class="token operator">/</span>bin<span class="token operator">/</span>bash不能省略
<span class="token comment">// 启动容器  后台启动</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>#docker <span class="token operator">-</span>id <span class="token operator">--</span>name<span class="token operator">=</span>c2 centos<span class="token operator">:</span><span class="token number">7</span>
<span class="token comment">// 进入容器  docker exec -it 容器名称 /bin/bash</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>#docker exec <span class="token operator">-</span>it c2 <span class="token operator">/</span>bin<span class="token operator">/</span>bash
<span class="token comment">// 退出容器 此时容器还是在运行着的</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>#exit        
</code></pre></div><p>4、启动容器</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>docker <span class="token function">start</span> 容器名称
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker start c1</span>
</code></pre></div><p>5、停止容器运行</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>docker stop 容器名
</code></pre></div><p>6、删除容器</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>docker <span class="token function">rm</span> 容器名称       <span class="token comment">#如果容器是运行状态则删除失败，需要停止容器才能删除</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker rm c1</span>
</code></pre></div><p>7、查看容器信息</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>docker inspect 容器名称
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker inspect  c1</span>
</code></pre></div><p>8、查看docker日志</p> <div class="language-java extra-class"><pre class="language-java"><code>docker logs <span class="token operator">--</span>tail 行数 <span class="token operator">-</span>f  容器名   
<span class="token comment">// 查看某个容器末尾300行的日志内容</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>#docker logs <span class="token operator">--</span>tail  <span class="token number">300</span> <span class="token operator">-</span>f app<span class="token operator">-</span>jar  
</code></pre></div><p>9、docker容器安装命令</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>apt<span class="token operator">-</span>get  update
apt<span class="token operator">-</span>get  <span class="token operator">-</span>y install net<span class="token operator">-</span>tools  <span class="token punctuation">|</span> yum <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>10、用于容器与主机之间的数据拷贝</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 将主机/root/123.war文件拷贝到容器96f7f14e99ab的/root目录下</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>#docker cp <span class="token operator">/</span>root<span class="token operator">/</span><span class="token number">123.</span>war <span class="token number">96f</span><span class="token number">7f</span><span class="token number">14e99</span>ab<span class="token operator">:</span><span class="token operator">/</span>root<span class="token operator">/</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>#docker cp <span class="token operator">/</span><span class="token class-name">Apai</span><span class="token operator">/</span><span class="token class-name">Login</span><span class="token punctuation">.</span>jar <span class="token number">5920698f</span><span class="token number">5</span>ad7<span class="token operator">:</span><span class="token operator">/</span>root<span class="token operator">/</span>

<span class="token comment">// 将容器96f7f14e99ab的/www目录拷贝到主机的/tmp目录中</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>#docker cp  <span class="token number">5920698f</span><span class="token number">5</span>ad7<span class="token operator">:</span><span class="token operator">/</span>root <span class="token operator">/</span>tmp<span class="token operator">/</span>
</code></pre></div><h4 id="配置数据卷"><a href="#配置数据卷" class="header-anchor">#</a> 配置数据卷</h4> <p>语法：docker run ... –v 宿主机目录(文件):容器内目录(文件) ...</p> <p>案例1：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span>docker run <span class="token operator">-</span>it <span class="token operator">--</span>name=c3 <span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span><span class="token keyword">data</span>:<span class="token operator">/</span>root<span class="token operator">/</span>data_container centos:7 <span class="token operator">/</span>bin<span class="token operator">/</span>bash
<span class="token namespace">[root@localhost ~]</span>docker run <span class="token operator">-</span>it <span class="token operator">--</span>name=c4 <span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span><span class="token keyword">data</span>:<span class="token operator">/</span>root<span class="token operator">/</span>contai1 <span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>data1:<span class="token operator">/</span>root<span class="token operator">/</span>contai2 centos:7
</code></pre></div><blockquote><p>注意事项：</p> <p>1、目录必须是绝对路径 （宿主机和容器目录都是绝对路径）
2、如果目录不存在，会自动创建
3、可以挂载多个数据卷</p> <p>配置数据卷后，在/root/data下创建文件，发现会同步到c3容器的data_container目录中，同理反过来也一样，当删除容器后，此时并不影响宿主机/root/data里的内容</p></blockquote> <p>案例2：多容器进行数据交换</p> <p>步骤：</p> <p>1、创建启动c3数据卷容器，使用 –v 参数 设置数据卷</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker run –it --name=c3 –v /volume centos:7 /bin/bash </span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker inspect c3      #查看c3容器</span>
</code></pre></div><blockquote><p>-v 后面的/volume是容器的目录，那么这个宿主机的目录为什么不见了呢?其实这个时候linux会自动创建一个目录（目录名很长）作为源目录和/volume容器目录相对应。可以通过  docker inspect c3 查看c3容器</p></blockquote> <p>2、创建启动 c1 c2 容器，使用 –-volumes-from 参数 设置数据卷</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker run –it --name=c1 --volumes-from c3 centos:7 /bin/bash</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker run –it --name=c2 --volumes-from c3 centos:7 /bin/bash  </span>
</code></pre></div><blockquote><p>此时c1和c2 挂载到和c3相同的宿主机的目录，在c3容器创建内容，c1和c2都会自动同步  (也就是说在c1和c2的根目录下也有 volume文件夹)
[root@localhost ~]#docker inspect c1
[root@localhost ~]#docker inspect c2
发现c1 c2的宿主机目录和c3相同</p></blockquote> <h4 id="数据卷小结"><a href="#数据卷小结" class="header-anchor">#</a> 数据卷小结</h4> <p>1、数据卷概念：宿主机的一个目录或文件
2、数据卷作用：容器数据持久化、客户端和容器数据交换、容器间数据交换
3、数据卷容器：创建一个容器，挂载一个目录，让其他容器继承自该容器( --volume-from )。通过简单方式实现数据卷配置</p> <h2 id="docker-镜像制作"><a href="#docker-镜像制作" class="header-anchor">#</a> Docker 镜像制作</h2> <h3 id="docker-镜像原理"><a href="#docker-镜像原理" class="header-anchor">#</a> Docker 镜像原理</h3> <blockquote><p>本质是一个分层文件系统,由一层一层的文件系统叠加而成，最底端是 bootfs，并使用宿主机的bootfs ，第二层是 root文件系统rootfs，称为base image，然后再往上可以叠加其他的镜像文件，这种层级的文件系统被称之为UnionFS，统一文件系统（Union File System）技术能够将不同的层整合成一个文件系统，为这些层提供了一个统一的视角，这样就隐藏了多层的存在，在用户的角度看来，只存在一个文件系统</p> <p>一个镜像可以放在另一个镜像的上面。位于下面的镜像称为父镜像，最底部的镜像成为基础镜像，当从一个镜像启动容器时，Docker会在最顶层加载一个读写文件系统作为容器</p></blockquote> <h3 id="普通方式"><a href="#普通方式" class="header-anchor">#</a> 普通方式</h3> <blockquote><p>有些容器镜像 会排除某些文件 如: Mysql ...    (具体见)</p></blockquote> <p>制作tomcat镜像</p> <p>1、首先创建一个tomcat容器</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost tomcat]</span><span class="token comment">## docker run -id --name=tomcat1 -p 8080:8080 tomcat:8</span>
</code></pre></div><p>2、把宿主机的某个war包拷贝到容器的某个目录里面，这样将来做镜像时，war包会加载到镜像里</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost tomcat]</span><span class="token comment">## docker cp /root/test.war  #6598a89db5f6:/root   </span>
</code></pre></div><blockquote><p>注意：不能将内容拷贝到tomcat容器的webapp目录和var目录里，如果放到里面，做成镜像时，该目录下的内容不会载入镜像里面</p></blockquote> <p>3、把tomcat容器做成镜像</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost tomcat]</span><span class="token comment">## docker commit 6598a89db5f6 woniu_tomcat:1.0</span>
<span class="token namespace">[root@localhost tomcat]</span><span class="token comment">## docker images   #可以查看到woniu_tomcat:1.0镜像</span>
</code></pre></div><p>4、把镜像做成压缩包 放到宿主机的某个位置</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">## docker save -o woniu_tomcat.tar woniu_tomcat:1.0     #-o:output 压缩文件保存到/root目录下</span>
</code></pre></div><p>5、把压缩文件载入镜像（第三方载入该压缩包）</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">## docker load -i woniu_tomcat.tar  #镜像加载 -i  （input）</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">## docker images</span>
</code></pre></div><p>6、用woniu_tomcat:1.0镜像做容器</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">## docker run -id --name=tomcat2 -p:8081:8080 woniu_tomcat:1.0</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">## docker exec -it tomcat2 bash  #进入容器，进入/root 可以看到test.war存在</span>
</code></pre></div><h3 id="dockerfile方式"><a href="#dockerfile方式" class="header-anchor">#</a> dockerfile方式</h3> <blockquote><p>制作docker镜像的一个文本文件,文件包含了一条条的指令，每一条指令构建一层，基于基础镜像，最终构建出一个新的镜像，</p></blockquote> <p>Dochub网址：https://hub.docker.com</p> <p><strong>Dockerfile关键字</strong></p> <table><thead><tr><th>关键字</th> <th>作用</th> <th>备注</th></tr></thead> <tbody><tr><td>FROM</td> <td>指定父镜像</td> <td>指定dockerfile基于那个image构建</td></tr> <tr><td>MAINTAINER</td> <td>作者信息</td> <td>用来标明这个dockerfile谁写的</td></tr> <tr><td>LABEL</td> <td>标签</td> <td>用来标明dockerfile的标签 可以使用Label代替Maintainer 最终都是在docker image基本信息中可以查看</td></tr> <tr><td>RUN</td> <td>执行命令</td> <td>执行一段命令 默认是/bin/sh 格式: RUN command 或者 RUN [&quot;command&quot; , &quot;param1&quot;,&quot;param2&quot;]</td></tr> <tr><td>CMD</td> <td>容器启动命令</td> <td>提供启动容器时候的默认命令 和ENTRYPOINT配合使用.格式 CMD command param1 param2 或者 CMD [&quot;command&quot; , &quot;param1&quot;,&quot;param2&quot;]</td></tr> <tr><td>ENTRYPOINT</td> <td>入口</td> <td>一般在制作一些执行就关闭的容器中会使用</td></tr> <tr><td>COPY</td> <td>复制文件</td> <td>build的时候复制文件到image中</td></tr> <tr><td>ADD</td> <td>添加文件</td> <td>build的时候添加文件到image中 不仅仅局限于当前build上下文 可以来源于远程服务,      ADD 源路径 目标路径</td></tr> <tr><td>ENV</td> <td>环境变量</td> <td>指定build时候的环境变量 可以在启动的容器的时候 通过-e覆盖 格式ENV name=value</td></tr> <tr><td>ARG</td> <td>构建参数</td> <td>构建参数 只在构建的时候使用的参数 如果有ENV 那么ENV的相同名字的值始终覆盖arg的参数</td></tr> <tr><td>VOLUME</td> <td>定义外部可以挂载的数据卷</td> <td>指定build的image那些目录可以启动的时候挂载到文件系统中 启动容器的时候使用 -v 绑定 格式 VOLUME [&quot;目录&quot;]</td></tr> <tr><td>EXPOSE</td> <td>暴露端口</td> <td>定义容器运行的时候监听的端口 启动容器的使用-p来绑定暴露端口 格式: EXPOSE 8080 或者 EXPOSE 8080/udp</td></tr> <tr><td>WORKDIR</td> <td>工作目录</td> <td>指定容器内部的工作目录 如果没有创建则自动创建 如果指定/ 使用的是绝对地址 如果不是/开头那么是在上一条workdir的路径的相对路径</td></tr> <tr><td>USER</td> <td>指定执行用户</td> <td>指定build或者启动的时候 用户 在RUN CMD ENTRYPONT执行的时候的用户</td></tr> <tr><td>HEALTHCHECK</td> <td>健康检查</td> <td>指定监测当前容器的健康监测的命令 基本上没用 因为很多时候 应用本身有健康监测机制</td></tr> <tr><td>ONBUILD</td> <td>触发器</td> <td>当存在ONBUILD关键字的镜像作为基础镜像的时候 当执行FROM完成之后 会执行 ONBUILD的命令 但是不影响当前镜像 用处也不怎么大</td></tr> <tr><td>STOPSIGNAL</td> <td>发送信号量到宿主机</td> <td>该STOPSIGNAL指令设置将发送到容器的系统调用信号以退出。</td></tr> <tr><td>SHELL</td> <td>指定执行脚本的shell</td> <td>指定RUN CMD ENTRYPOINT 执行命令的时候 使用的shell</td></tr></tbody></table> <p>案例2：定义dockerfile文件构建镜像，发布springboot项目</p> <p>步骤1：创建dockerfile文件并编写内容</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost docker-file]</span><span class="token comment">#vim springboot-dockerfile</span>
编写内容如下：
<span class="token keyword">FROM</span> java:8
MAINTAINER  woniu&lt;woniu@woniu<span class="token punctuation">.</span>cn&gt;
ADD springboot<span class="token punctuation">.</span>jar app<span class="token punctuation">.</span>jar   
CMD java <span class="token operator">-</span>jar <span class="token operator">/</span>app<span class="token punctuation">.</span>jar
</code></pre></div><blockquote><p>说明：</p> <p>ADD springboot.jar app.jar   表示把宿主机的springboot.jar复制到镜像里并更名为app.jar,当用镜像做容器时，app.jar默认在容器的根目录</p></blockquote> <p>步骤2：通过dockerfile构建镜像</p> <p>特别注意: 最后有一个点  '   .   '</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost docker-file]</span><span class="token comment">## docker build -f  ./springboot-dockerfile -t  springboot-app:1.0 .</span>
<span class="token namespace">[root@localhost docker-file]</span><span class="token comment">## docker images</span>
</code></pre></div><p>步骤3：通过springboot-app:1.0镜像创建容器</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost docker-file]</span><span class="token comment">## docker run -it --name=app -p 8080:8080 springboot-app:1.0</span>
<span class="token namespace">[root@localhost docker-file]</span><span class="token comment">#docker logs --tail 100 -f  app    #查看app容器的日志  末尾100行</span>
</code></pre></div><h2 id="compose-服务编排"><a href="#compose-服务编排" class="header-anchor">#</a> Compose 服务编排</h2> <blockquote><p>Docker Compose是“容器编排技术”。它由Python 语言编写，是Docker官方的一个开源项目，简单来讲，就是编排好一个系统中的众多容器的启动顺序，先启动A，再启动B，在启动C。</p></blockquote> <h3 id="安装-compose"><a href="#安装-compose" class="header-anchor">#</a> 安装 Compose</h3> <p>Compose目前已经完全支持Linux、Mac OS和Windows，在我们安装Compose之前，需要先安装Docker。下面我 们以编译好的二进制包方式安装在Linux系统中。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#curl -L https://github.com/docker/compose/releases/download/1.22.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#chmod +x /usr/local/bin/docker-compose    ## 设置文件可执行权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker-compose -version					 ## 查看版本信息 </span>
</code></pre></div><h3 id="卸载-compose"><a href="#卸载-compose" class="header-anchor">#</a> 卸载 Compose</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">#rm /usr/local/bin/docker-compose   ## 二进制包方式安装的，删除二进制文件即可</span>
</code></pre></div><h3 id="comnpose的使用步骤"><a href="#comnpose的使用步骤" class="header-anchor">#</a> Comnpose的使用步骤</h3> <p>1、利用 Dockerfile 定义运行环境镜像
2、使用 docker-compose.yml 文件定义组成应用的各服务的运行顺序
3、运行 docker-compose up 启动应用</p> <p>案例: 具体详见  Docker 详情.md</p> <h2 id="分隔"><a href="#分隔" class="header-anchor">#</a> ------------   分隔    ------------</h2> <h2 id="linux-常用命令"><a href="#linux-常用命令" class="header-anchor">#</a> Linux 常用命令</h2> <h3 id="文件类-功能类-命令"><a href="#文件类-功能类-命令" class="header-anchor">#</a> 文件类 功能类 命令</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// tar 解压缩 命令</span>
tar <span class="token operator">-</span>zxvf 压缩名 <span class="token operator">-</span><span class="token class-name">C</span> 目录名
<span class="token comment">// 查看进程 端口信息</span>
netstat <span class="token operator">-</span>tlnp
<span class="token comment">// 根据端口 关闭进程</span>
kill <span class="token operator">-</span><span class="token number">9</span> 端口号
<span class="token comment">// 关闭防火墙</span>
systemctl stop firewalld<span class="token punctuation">.</span>service
<span class="token comment">// 将文件变为可执行文件</span>
chmod <span class="token operator">+</span>x 文件
</code></pre></div><h3 id="redis-命令"><a href="#redis-命令" class="header-anchor">#</a> redis  命令</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 启动redis服务器</span>
cd <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>bin  <span class="token comment">// 进入bin目录执行</span>
<span class="token punctuation">.</span>/redis<span class="token operator">-</span>server redis<span class="token punctuation">.</span>conf
<span class="token comment">// 启动redis客户端</span>
redis<span class="token operator">-</span>cli <span class="token operator">-</span>h <span class="token number">192.168</span><span class="token number">.174</span><span class="token number">.128</span> <span class="token operator">-</span>p <span class="token number">6379</span>
</code></pre></div><h3 id="nginx-命令"><a href="#nginx-命令" class="header-anchor">#</a> nginx  命令</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 进入sbin目录 启动nginx</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> sbin<span class="token punctuation">]</span>## <span class="token punctuation">.</span>/nginx 
<span class="token comment">// 关闭nginx：</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> sbin<span class="token punctuation">]</span>## <span class="token punctuation">.</span>/nginx <span class="token operator">-</span>s stop
<span class="token comment">// 推荐使用：</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> sbin<span class="token punctuation">]</span>## <span class="token punctuation">.</span>/nginx <span class="token operator">-</span>s quit
<span class="token comment">// 重启nginx： 1、先关闭后启动。 2、刷新配置文件：</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> sbin<span class="token punctuation">]</span>## <span class="token punctuation">.</span>/nginx <span class="token operator">-</span>s reload
</code></pre></div><h3 id="运行jar包-命令"><a href="#运行jar包-命令" class="header-anchor">#</a> 运行jar包 命令</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 特点：当前ssh窗口被锁定，可按CTRL + C打断程序运行，或直接关闭窗口，程序退出</span>
java <span class="token operator">-</span>jar XXX<span class="token punctuation">.</span>jar
<span class="token comment">// 特定：当前ssh窗口不被锁定，但是当窗口关闭时，程序中止运行。 &amp;代表在后台运行</span>
java <span class="token operator">-</span>jar xxx<span class="token punctuation">.</span>jar <span class="token operator">&amp;</span>
<span class="token comment">// nohup 意思是不挂断运行命令,当账户退出或终端关闭时,程序仍然运行</span>
nohup java <span class="token operator">-</span>jar shareniu<span class="token punctuation">.</span>jar <span class="token operator">&amp;</span>    
<span class="token comment">// nohup 命令执行作业时，缺省情况下的所有输出被重定向到nohup.out的文件中，除非另外指定了输出文件。</span>
<span class="token comment">// 将command的输出重定向到out.file文件，即输出内容不打印到屏幕上，而是输出到out.file文件中。</span>
nohup java <span class="token operator">-</span>jar shareniu<span class="token punctuation">.</span>jar <span class="token operator">&gt;</span>out<span class="token punctuation">.</span>file <span class="token operator">&amp;</span>
<span class="token comment">// 指定端口</span>
java <span class="token operator">-</span>jar XXX<span class="token punctuation">.</span>jar <span class="token operator">--</span>server<span class="token punctuation">.</span>port<span class="token operator">=</span><span class="token number">8081</span> <span class="token operator">&gt;</span> demo<span class="token punctuation">.</span>out <span class="token operator">&amp;</span>
nohup java <span class="token operator">-</span>jar XXX<span class="token punctuation">.</span>jar <span class="token operator">--</span>server<span class="token punctuation">.</span>port<span class="token operator">=</span><span class="token number">8081</span> <span class="token operator">&gt;</span> demo<span class="token punctuation">.</span>out <span class="token operator">&amp;</span>
</code></pre></div><h3 id="docker-命令-2"><a href="#docker-命令-2" class="header-anchor">#</a> Docker 命令</h3> <blockquote><p>Docker</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 进程相关命令</span>
systemctl start docker    #启动docker服务
systemctl stop docker     #停止docker服务 
systemctl restart docker  #重启docker服务 
systemctl status docker   #查看docker服务状态
systemctl enable docker   #开机启动docker服务
<span class="token comment">// 查看镜像: 查看本地所有的镜像</span>
docker images  
<span class="token comment">// 拉取镜像</span>
docker pull 镜像名称<span class="token operator">:</span>版本号 
<span class="token comment">// 删除镜像</span>
docker rmi 镜像id
</code></pre></div><blockquote><p>容器相关命令</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">--</span>restart<span class="token operator">=</span>always <span class="token operator">-&gt;</span> 表示docker容器开机自启

<span class="token comment">// 查看容器</span>
docker ps       ## 查看正在运行的容器
docker ps <span class="token operator">-</span>a    ## 查看所有容器 （包括没有运行的容器）
<span class="token comment">// 创建容器 但不进入容器 后台运行 可使用命令进入 且退出不会关闭容器  </span>
<span class="token comment">// --restart=always -&gt; 表示docker容器开机自启</span>
docker run <span class="token operator">-</span>id <span class="token operator">--</span>name<span class="token operator">=</span>容器名称 镜像名称<span class="token operator">:</span>版本
<span class="token comment">// 进入容器</span>
docker exec <span class="token operator">-</span>it 容器id <span class="token operator">/</span>bin<span class="token operator">/</span>bash
<span class="token comment">// 启动容器 </span>
docker start 容器名称
<span class="token comment">// 停止容器运行</span>
docker stop 容器名
<span class="token comment">// 删除容器 运行状态则删除失败，需要停止容器才能删除</span>
docker rm 容器名称
    
<span class="token comment">// 将主机/root/123.war文件拷贝到容器96f7f14e99ab的/root目录下</span>
docker cp <span class="token operator">/</span>root<span class="token operator">/</span><span class="token number">123.</span>war <span class="token number">96f</span><span class="token number">7f</span><span class="token number">14e99</span>ab<span class="token operator">:</span><span class="token operator">/</span>root<span class="token operator">/</span>
docker cp <span class="token operator">/</span><span class="token class-name">Apai_File</span><span class="token operator">/</span>app<span class="token operator">/</span>wxpuls<span class="token punctuation">.</span>jar c90863cd35eb<span class="token operator">:</span><span class="token operator">/</span>root<span class="token operator">/</span>

<span class="token comment">// 将容器96f7f14e99ab的/www目录拷贝到主机的/tmp目录中</span>
docker cp  <span class="token number">96f</span><span class="token number">7f</span><span class="token number">14e99</span>ab<span class="token operator">:</span><span class="token operator">/</span>root <span class="token operator">/</span>tmp<span class="token operator">/</span>
    
<span class="token comment">// 容器安装命令</span>
apt update  <span class="token comment">// 更新源</span>
apt<span class="token operator">-</span>get install vim  <span class="token comment">// 容器安装vim </span>
</code></pre></div><h2 id="项目-部署"><a href="#项目-部署" class="header-anchor">#</a> 项目 部署</h2> <h3 id="war包部署"><a href="#war包部署" class="header-anchor">#</a> war包部署</h3> <blockquote><p>即 使用tomcat插件运行的项目</p></blockquote> <p>1.先在IDEA 本地运行是否正常,</p> <p>2.使用 package 打包 储存在 tager 目录下 .war</p> <p>3.将 war 放入 tomcat 的 webapps 文件夹下</p> <p>4.启动 tomcat 即可</p> <p>5.在浏览器使用   ip地址:端口号/war包名  进行访问</p> <ul><li>http://192.168.174.128:8080/chaoshi/</li></ul> <p>注意:</p> <blockquote><p>ieda 项目的过滤器为等于请求 在Linux系统里请求是带上了包名</p> <p>则会被拦截导致无法登录 解决方法: 在过滤器 不是等于而是使用 uri.contains(&quot;/user/login&quot;) 包含</p> <p>打包前使用的 tomcat 版本 需和Linux系统 的tomcat 版本一致</p> <p>在访问时 必须带上war名 否则无法正常无法</p></blockquote> <h3 id="jar包部署"><a href="#jar包部署" class="header-anchor">#</a> jar包部署</h3> <blockquote><p>即 使用启动类 的项目</p></blockquote> <p>1.将项目的 jar 包放入 Linux 系统里的任意文件夹下</p> <p>2.使用  后台运行jar包  的指令启动   nohup java -jar XXX.jar &amp;</p> <p>3.在浏览器请求</p> <h3 id="ngins-进行-项目部署"><a href="#ngins-进行-项目部署" class="header-anchor">#</a> ngins 进行 项目部署</h3> <blockquote><p>Nginx是一款高性能的http 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器。</p> <p>详见:  nginx.md</p> <p>网址:  Nginx配置——反向代理</p> <p>(https://blog.csdn.net/zxd1435513775/article/details/102508463)</p></blockquote> <p><strong>启动nginx</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 进入sbin目录</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> sbin<span class="token punctuation">]</span>## <span class="token punctuation">.</span>/nginx 
<span class="token comment">// 关闭nginx：</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> sbin<span class="token punctuation">]</span>## <span class="token punctuation">.</span>/nginx <span class="token operator">-</span>s stop
<span class="token comment">// 推荐使用：</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> sbin<span class="token punctuation">]</span>## <span class="token punctuation">.</span>/nginx <span class="token operator">-</span>s quit
<span class="token comment">// 重启nginx：</span>
<span class="token comment">// 1、先关闭后启动。 2、刷新配置文件：</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> sbin<span class="token punctuation">]</span>## <span class="token punctuation">.</span>/nginx <span class="token operator">-</span>s reload
</code></pre></div><p><strong>nginx配置文件</strong></p> <p>打开Nginx的配置文件：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment">## vim  conf/nginx.conf</span>
</code></pre></div><ul><li><p>通过端口区分不同虚拟机</p> <p>触发: 192.127.0.1:80</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>server <span class="token punctuation">{</span>
	<span class="token comment">## 监听端口</span>
    listen       <span class="token number">80</span><span class="token punctuation">;</span>
    <span class="token comment">## 监听 ip</span>
    server_name  localhost<span class="token punctuation">;</span>
    <span class="token comment">## 监听到后执行</span>
    location / <span class="token punctuation">{</span>
    <span class="token comment">## 相对路径的文件夹</span>
    root   html<span class="token punctuation">;</span>
    <span class="token comment">## 文件夹内的index.html页面</span>
    index  index.html index.htm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

server <span class="token punctuation">{</span>
    listen  <span class="token number">81</span><span class="token punctuation">;</span>
    server_name  <span class="token number">192.168</span>.174.130<span class="token punctuation">;</span>
 
    location /api <span class="token punctuation">{</span>
        proxy_pass  http://192.168.174.130:8080<span class="token punctuation">;</span>
        rewrite <span class="token string">&quot;^/api/(.*)$&quot;</span> /<span class="token variable">$1</span> <span class="token builtin class-name">break</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span> 
    location / <span class="token punctuation">{</span>
         root   pai-erp<span class="token punctuation">;</span>
         index  index.html index.htm<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
    error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  /50x.html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
        root   html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>说明：一个server节点就是一个虚拟主机，html是nginx安装目录下的html目录(静态页面存放的位置,也可以使用绝对路径)，可以配置多个server，配置了多个虚拟主机</p></blockquote> <ul><li>通过域名区分虚拟主机</li></ul> <h5 id="nginx的配置-2"><a href="#nginx的配置-2" class="header-anchor">#</a> Nginx的配置</h5> <div class="language-powershell extra-class"><pre class="language-powershell"><code>server <span class="token punctuation">{</span>
        listen       80<span class="token punctuation">;</span>
        server_name  www<span class="token punctuation">.</span>jd<span class="token punctuation">.</span>com<span class="token punctuation">;</span>
        location <span class="token operator">/</span> <span class="token punctuation">{</span>
            root   html<span class="token operator">-</span>jd<span class="token punctuation">;</span>
            index  index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="linux-安装"><a href="#linux-安装" class="header-anchor">#</a> Linux 安装</h2> <h3 id="nginx-安装"><a href="#nginx-安装" class="header-anchor">#</a> nginx 安装</h3> <ul><li><p>解压   tar  -zxvf nginx-1.8.0.tar.gz    解压后可改名</p></li> <li><p>源码包的根目录下没有这个Makefile，那么源码包就会有一个configure可执行文件，这个文件的作用就是用来做环境检查和环境配置的 执行以下命令</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>./configure \
--prefix=/usr/local/nginx \
--pid-path=/var/run/nginx/nginx.pid \
--lock-path=/var/lock/nginx.lock \
--error-log-path=/var/log/nginx/error.log \
--http-log-path=/var/log/nginx/access.log \
--with-http_gzip_static_module \
--http-client-body-temp-path=/var/temp/nginx/client \
--http-proxy-temp-path=/var/temp/nginx/proxy \
--http-fastcgi-temp-path=/var/temp/nginx/fastcgi \
--http-uwsgi-temp-path=/var/temp/nginx/uwsgi \
--http-scgi-temp-path=/var/temp/nginx/scgi
</code></pre></div><ul><li>然后返现检查失败，需要一些依赖包</li></ul> <div class="language- extra-class"><pre class="language-text"><code>yum install -y pcre pcre-devel
yum install -y zlib zlib-devel
yum install -y openssl openssl-devel
</code></pre></div><ul><li>然后再检查，通过了</li></ul> <div class="language- extra-class"><pre class="language-text"><code>make &amp;&amp;  make install 
</code></pre></div><ul><li><p>编译</p> <p>make     在源码包的根目录下执行make命令即可</p></li> <li><p>安装</p> <p>make install      在源码包的根目录下执行make install命令即可</p></li></ul> <ul><li><h6 id="源码包的卸载"><a href="#源码包的卸载" class="header-anchor">#</a> 源码包的卸载</h6> <p>直接删除这个安装目录即可</p></li></ul> <h3 id="源码包"><a href="#源码包" class="header-anchor">#</a> 源码包</h3> <blockquote><p>定义：就是程序员开发出来的包，没有编译的包。</p> <p>优点：所以我们可以去改源码</p> <p>缺点：所以安装的时候要先编译,然后再安装，这个过程要长些</p> <p>源码包：一般来说，包里面会有一个src目录，该目录里面放源码</p></blockquote> <p><strong>源码包的安装</strong></p> <ul><li><p>检查当前的系统是否有必备的安装环境</p></li> <li><p>解压  tar  -zxvf  包名</p> <blockquote><p>当我们要编译一个源码包的时候，一定要看看这个源码包里面是否有一个Makefile文件，因为编译的时候需要这个文件，这个文件的作用就是把一些安装配置写到这个文件的。</p></blockquote></li> <li><p>如果有，则可以直接编译，当然在编译之前还要看看是否有c语言的编译器。</p> <blockquote><p>如果有，则可以直接编译，当然在编译之前还要看看是否有c语言的编译器。如果没有编译器，则要先安装</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>yum  -y   install   gcc-c++

注意：有可能第一次没装成功，那么就需要清一下缓存
make  distclean  清缓存
</code></pre></div></li> <li><p>如果没有编译器，则要先安装</p> <blockquote><p>如果没有这个文件，那么就不能直接编译，必须要先生成这个文件，那么怎么生成？</p> <p>如：安装nginx，发现源码包的根目录下没有这个Makefile，那么源码包就会有一个configure可执行文件，这个文件的作用就是用来做环境检查和环境配置的</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>./configure \
--prefix=/usr/local/nginx \
--pid-path=/var/run/nginx/nginx.pid \
--lock-path=/var/lock/nginx.lock \
--error-log-path=/var/log/nginx/error.log \
--http-log-path=/var/log/nginx/access.log \
--with-http_gzip_static_module \
--http-client-body-temp-path=/var/temp/nginx/client \
--http-proxy-temp-path=/var/temp/nginx/proxy \
--http-fastcgi-temp-path=/var/temp/nginx/fastcgi \
--http-uwsgi-temp-path=/var/temp/nginx/uwsgi \
--http-scgi-temp-path=/var/temp/nginx/scgi
</code></pre></div><p>然后返现检查失败，需要一些依赖包</p> <div class="language- extra-class"><pre class="language-text"><code>yum install -y pcre pcre-devel
yum install -y zlib zlib-devel
yum install -y openssl openssl-devel
</code></pre></div><p>然后再检查，通过了</p> <div class="language- extra-class"><pre class="language-text"><code>make &amp;&amp;  make install 
</code></pre></div></li> <li><p>编译</p> <p>make     在源码包的根目录下执行make命令即可</p></li> <li><p>安装</p> <p>make install      在源码包的根目录下执行make install命令即可</p></li></ul> <ul><li><h6 id="源码包的卸载-2"><a href="#源码包的卸载-2" class="header-anchor">#</a> 源码包的卸载</h6> <p>直接删除这个安装目录即可</p></li></ul> <h3 id="脚本包"><a href="#脚本包" class="header-anchor">#</a> 脚本包</h3> <blockquote><p>它其实是源码包中的一种，类似于window的软件安装。我们只需要找到这个脚本包的bin目录，去执行一个脚本文件。一般来说叫  startup.sh  例如：tomcat</p></blockquote> <h3 id="rpm包-二进制包"><a href="#rpm包-二进制包" class="header-anchor">#</a> rpm包（二进制包)</h3> <blockquote><p>二进制包也叫rpm(redhat  package  manager), 包名一般来说以.rpm结尾</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>httpd-2.4.6-88.el7.centos.x86_64.rpm 

包名：httpd
包版本：2.4.6
包发布了多少次：88
包的依赖环境  el7.centos.x86_64
包的后缀后：.rpm 

httpd-2.4.6-88.el7.centos.x86_64.rpm  整个包全名
</code></pre></div><blockquote><p>rpm包安装起来是最复杂的，因为他的依赖太多。</p></blockquote> <ul><li>检查一下当前系统是否已经装过这个软件包</li></ul> <div class="language- extra-class"><pre class="language-text"><code>rpm  -qa   查询当前已经安装了哪些rpm包
rpm  -qa  |  grep httpd
</code></pre></div><ul><li>卸载rpm包</li></ul> <div class="language- extra-class"><pre class="language-text"><code>rpm  -e  包名
</code></pre></div><ul><li>安装一个rpm包</li></ul> <div class="language- extra-class"><pre class="language-text"><code>rpm   -ivh   （install  verbose  hash ）   包全名
</code></pre></div><ul><li>包升级</li></ul> <div class="language- extra-class"><pre class="language-text"><code>rpm -Uvh  包全名
</code></pre></div><h3 id="yum安装"><a href="#yum安装" class="header-anchor">#</a> yum安装</h3> <blockquote><p>当我们用yum去安装一个软件或者是一个命令，那么在我们的linux系统中有一个yum源文件，这个文件就是保存了yum的中央仓库地址，这个文件在/etc/yum.repos.d/目录下，你看到了很多文件，其中有一个yum中央仓库文件，叫CentOS-Base.repo，当然这里还有其他的文件，可以用来配置本地yum源</p></blockquote> <ul><li>查询</li></ul> <div class="language- extra-class"><pre class="language-text"><code>yum   list  | grep  你的包名
</code></pre></div><p>注意：yum不存在包名和包全名的概念，统一叫包名</p> <p>如：安装 httpd</p> <ul><li>安装</li></ul> <div class="language- extra-class"><pre class="language-text"><code>yum -y  install  httpd  ###这个httpd就是包名

如：  yum -y install  vim
</code></pre></div><p>有些软件在这个yum源的中央仓库并没有这个包，那么要去下载专业的yum源。把这个专业的yum源安装了，再可以安装某个包</p> <p>如：安装mysql</p> <div class="language- extra-class"><pre class="language-text"><code>先检查有没有安装过mysql
rpm  -qa| grep mysql,如果安装过就卸载
</code></pre></div><p>我们安装专业的yum源</p> <div class="language- extra-class"><pre class="language-text"><code>yum localinstall mysql-community-release-el5-5.noarch.rpm 
 
#这个mysql-community-release-el5-5.noarch.rpm 就是一个yum源
</code></pre></div><ul><li>升级</li></ul> <div class="language- extra-class"><pre class="language-text"><code>yum  -y update  包名
</code></pre></div><ul><li>卸载</li></ul> <div class="language- extra-class"><pre class="language-text"><code>yum  -y remove 包名
</code></pre></div><h3 id="工具-安装"><a href="#工具-安装" class="header-anchor">#</a> 工具 安装</h3> <h4 id="jdk-的安装"><a href="#jdk-的安装" class="header-anchor">#</a> jdk 的安装</h4> <p>1.将压缩包放入 root 文件夹内</p> <ul><li>tar  -zxvf  包名</li></ul> <p>2.解压改名为 jdk8</p> <ul><li>rm 原名 新名</li></ul> <p>3.vim /etc/profile 修改配置文件</p> <ul><li><p>末尾添加</p></li> <li><p>export JAVA_HOME=/usr/local/btjdk/jdk8</p></li> <li><p>export PATH=$JAVA_HOME/bin:$PATH</p></li></ul> <p>4.source /etc/profile 刷新</p> <p>5.验证是否安装成功  java  javac  如出现一大串即成功</p> <h4 id="tomcan8-的安装"><a href="#tomcan8-的安装" class="header-anchor">#</a> tomcan8 的安装</h4> <p>前提需安装 jdk</p> <p>1.将压缩包放入 root 文件夹内</p> <p>2.解压改名为 tomcan8</p> <p>3.执行   /root/tomcat9/bin 目录下   ./startup.sh</p> <p>4.查看端口   netstat -tlnp</p> <p>5.关闭防火墙   systemctl stop  firewalld.service</p> <p>6.在浏览器 根据ip地址和端口进行连接</p> <h4 id="mysql-版本5-6安装"><a href="#mysql-版本5-6安装" class="header-anchor">#</a> Mysql 版本5.6安装</h4> <blockquote><p>如遇出错: 备用 <a href="https://www.cnblogs.com/lenny-z/p/15666149.html" target="_blank" rel="noopener noreferrer">linux安装 mysql &gt;&gt;http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm - 御本美琴初号机 - 博客园 (cnblogs.com)</a></p></blockquote> <blockquote><p>宝塔: <a href="https://blog.csdn.net/weixin_44893902/article/details/121242965" target="_blank" rel="noopener noreferrer">(9条消息) 如何使用Navicat连接宝塔面板上安装的mysql数据库？_明金同学的博客-CSDN博客_navicat连接宝塔mysql</a></p></blockquote> <p>1.先检查有没有安装过mysql</p> <ul><li>rpm  -qa| grep mysql,如果安装过就卸载</li></ul> <p>2.安装专业的yum源</p> <ul><li><p>执行 yum localinstall mysql-community-release-el5-5.noarch.rpm</p></li> <li><p>mysql-community-release-el5-5.noarch.rpm 就是一个yum源文件</p></li></ul> <p>3.安装mysql的服务端</p> <ul><li>yum install mysql-community-server</li></ul> <p>4.开启mysql的服务</p> <ul><li>service  mysqld start</li></ul> <p>5.然后设置密码</p> <ul><li>/usr/bin/mysqladmin -u root password 'root'</li></ul> <p>6.登录</p> <ul><li>mysql  -uroot -p123456</li></ul> <p>7.查看</p> <ul><li>Mysql &gt; show databases;  查看表 注意: 分号 '  ;  '</li> <li>Mysql &gt; exit 退出</li></ul> <p>8.开启mysql远程访问权限</p> <ul><li>Mysql &gt; grant all privileges on <em>.</em> to 'root'@'%' identified by '102528' with grant option;</li> <li>Mysql &gt; flush privileges;    刷新数据库配置</li> <li>Mysql &gt; exit; 退出</li></ul> <p>9.Navicat Premium 12 进行连接</p> <p><img src="https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220622203106853.png" alt="image-20220622203106853"></p> <h2 id="docker-应用部署"><a href="#docker-应用部署" class="header-anchor">#</a> Docker 应用部署</h2> <h3 id="_1-mysql-部署"><a href="#_1-mysql-部署" class="header-anchor">#</a> 1.mysql  部署</h3> <p>1、搜索mysql镜像</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker search mysql</span>
</code></pre></div><p>2、拉取mysql镜像</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker pull mysql:5.6</span>

<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker pull mysql:8.0.25</span>
</code></pre></div><p>3、创建目录  在/root目录下创建mysql目录用于存储mysql数据信息</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">#mkdir mysql</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#cd mysql</span>
</code></pre></div><p>4、创建容器，设置端口映射和目录映射</p> <blockquote><p>此段为一句话 注意最后面为 版本号 未镜像则会先下载镜像</p> <p>-p 3307:3306 --&gt; 3307 被 容器的数据库3306端口映射 外部可通过宿主机3307端口访问</p> <p>-e MYSQL_ROOT_PASSWORD=root  --&gt;  在创建容器进行写入配置</p> <p>注意: mysql 8.0.25 连接外部需开启远程访问 对照下方解决方法</p></blockquote> <div class="language-powershell extra-class"><pre class="language-powershell"><code>docker run <span class="token operator">-</span>id <span class="token operator">-</span>p 3307:3306 <span class="token operator">--</span>name=c_mysql <span class="token operator">--</span>restart=always <span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>mysql<span class="token operator">/</span>conf:<span class="token operator">/</span>etc<span class="token operator">/</span>mysql<span class="token operator">/</span>conf<span class="token punctuation">.</span>d <span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>mysql<span class="token operator">/</span>logs:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log<span class="token operator">/</span>mysql <span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>mysql<span class="token operator">/</span><span class="token keyword">data</span>:<span class="token operator">/</span><span class="token keyword">var</span>/<span class="token operator">/</span>lib<span class="token operator">/</span>mysql <span class="token operator">-</span>e MYSQL_ROOT_PASSWORD=root mysql:8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>25

docker run <span class="token operator">-</span>id <span class="token operator">-</span>p 3307:3306 <span class="token operator">--</span>name=Apai_mysql <span class="token operator">--</span>restart=always <span class="token operator">-</span>v <span class="token operator">/</span>Apai_File<span class="token operator">/</span>mysql<span class="token operator">/</span>conf:<span class="token operator">/</span>etc<span class="token operator">/</span>mysql<span class="token operator">/</span>conf<span class="token punctuation">.</span>d <span class="token operator">-</span>v <span class="token operator">/</span>Apai_File<span class="token operator">/</span>mysql<span class="token operator">/</span>logs:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log<span class="token operator">/</span>mysql <span class="token operator">-</span>v <span class="token operator">/</span>Apai_File<span class="token operator">/</span>mysql<span class="token operator">/</span><span class="token keyword">data</span>:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span>mysql <span class="token operator">-</span>e MYSQL_ROOT_PASSWORD=root mysql:8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>25

docker run <span class="token operator">-</span>id <span class="token operator">-</span>p 3307:3306 <span class="token operator">--</span>name=Apai_mysql <span class="token operator">--</span>restart=always <span class="token operator">-</span>e MYSQL_ROOT_PASSWORD=root mysql:8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>25
</code></pre></div><blockquote><p>1、 -p 3307:3306  将容器的 3306 端口映射到宿主机的 3307端口
2、-v /root/mysql/conf:/etc/mysql/conf.d 将宿主机当前mysql目录里面的 conf目录挂载到容器的 /etc/mysql/conf.d目录下，在mysql5的版本中，mysql容器启动默认加载 /etc/mysql/mysql.cnf配置文件，这个文件没有什么内容，只是文件的末尾有2句
!includedir /etc/mysql/conf.d/和!includedir /etc/mysql/mysql.conf.d/，表示这两个目录里面的文件都可以作为参数文件，mysql会读取这两个目录里面的.cnf结尾的文件，而/etc/mysql/conf.d/目录里面虽然有以.cnf 末尾结尾的文件，但是都没内容，所以我们把这个目录conf.d和宿主机的/root/mysql/conf做一个映射，那么在宿主机的该目录下放一些*.cnf文件会同步到/etc/mysql/conf.d就可以作为mysql的参数文件了，一旦做了映射，那么etc/mysql/conf.d目录就为空了。另外 /etc/mysql/mysql.conf.d/目录的下有mysql的参数文件 mysqld.cnf，这个文件配置了mysql启动时的进程id，datadir数据目录等</p> <p>3、容器的mysql启动后，日志文件保存在/var/log/mysql目录里
4、容器的mysql启动后，数据库文件保存在/var/lib/mysql目录里 会同步到宿主机目录</p></blockquote> <p>当然我们也可以不用挂载</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker run -id -p 3307:3306 --name=c_mysql -e MYSQL_ROOT_PASSWORD=root mysql:5.6</span>
</code></pre></div><p><strong>navicat连接; ip地址 端口为 3307</strong></p> <p><strong>安装mysql8版本</strong></p> <p>如果是8.0.25的数据库，navicat连接报错1251-Client does not support</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>/<span class="token operator">/</span> 创建容器 未挂载
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker run -id -p 1001:3306  --name=c_mysql --restart=always -e MYSQL_ROOT_PASSWORD=root mysql:8.0.25</span>
<span class="token operator">/</span><span class="token operator">/</span> 进入容器
<span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker exec -it Apai_mysql /bin/bash</span>
<span class="token operator">/</span><span class="token operator">/</span> 在容器内 登录数据库
root@053f48be0dc7:~<span class="token comment">## mysql -uroot -proot</span>
<span class="token operator">/</span><span class="token operator">/</span> 设置远程客户端（如navicat）连接的密码，不是mysql服务器的登录密码
mysql&gt; ALTER USER <span class="token string">'root'</span>@<span class="token string">'%'</span> IDENTIFIED WITH mysql_native_password BY <span class="token string">'lj102528@'</span><span class="token punctuation">;</span>
</code></pre></div><p>使用外部机器连接容器中的mysql</p> <blockquote><p>记一次mysql启动报错。查看日志报错为：</p> <p>Can't open and lock privilege tables: Table storage engine for 'user'</p> <p>方案：将datadir路径下的文件清空，然后执行如下命令：</p> <p>mysqld --initialize --user=mysql --basedir=/usr --datadir=/var/lib/mysql</p> <p>然后重启：service mysql start</p></blockquote> <h3 id="_2-tomcat-部署"><a href="#_2-tomcat-部署" class="header-anchor">#</a> 2.Tomcat  部署</h3> <p>1、搜索tomcat镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker search tomcat</span>
</code></pre></div><p>2、拉取tomcat镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker pull tomcat:8</span>
</code></pre></div><p>3、创建容器，设置端口映射、目录映射</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">## 在/root目录下创建tomcat目录用于存储tomcat数据信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## mkdir tomcat</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## cd tomcat</span>
<span class="token punctuation">[</span>root@localhost tomcat<span class="token punctuation">]</span><span class="token comment">#docker run -id --name=c_tomcat -p 8080:8080 -v $PWD:/usr/local/tomcat/webapps tomcat:8</span>
</code></pre></div><blockquote><p>参数说明：</p> <p>-p 8080:8080：将容器的8080端口映射到主机的8080端口  （第一个8080是宿主机端口用来和tomcat做映射的，第二个8080是容器启动tomcat端口8080，第二个端口是tomcat容器默认启动的端口）
-v $PWD:/usr/local/tomcat/webapps：将主机中当前目录挂载到容器的webapps</p></blockquote> <p>4、使用外部机器访问tomcat</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 在宿主机目录/root/tomcat下创建test目录。并在test目录下创建index.html。那么test目录会同步到c_tomcat容器的 /usr/local/tomcat/webapps里面</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> tomcat<span class="token punctuation">]</span>## mkdir test
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> tomcat<span class="token punctuation">]</span>## cd test<span class="token operator">/</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> test<span class="token punctuation">]</span>## vim index<span class="token punctuation">.</span>html #在index<span class="token punctuation">.</span>html里面编写 <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span>hello tomcat<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</code></pre></div><p>浏览器测试访问：</p> <p>http://192.168.128.130:8080/test/index.html</p> <h3 id="_3-nginx-部署"><a href="#_3-nginx-部署" class="header-anchor">#</a> 3.Nginx  部署</h3> <p>1、搜索nginx镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker search nginx</span>
</code></pre></div><p>2、拉取nginx镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker pull nginx</span>
</code></pre></div><p>3、创建目录</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#mkdir nginx</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#cd nginx</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#mkdir conf</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#cd conf</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#vim nginx.conf</span>
</code></pre></div><p>4、编写nginx.conf配置文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code>user  nginx<span class="token punctuation">;</span>
worker_processes  <span class="token number">1</span><span class="token punctuation">;</span>
error_log  /var/log/nginx/error.log warn<span class="token punctuation">;</span>
pid        /var/run/nginx.pid<span class="token punctuation">;</span>
events <span class="token punctuation">{</span>
    worker_connections  <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
http <span class="token punctuation">{</span>
    include       /etc/nginx/mime.types<span class="token punctuation">;</span>
    default_type  application/octet-stream<span class="token punctuation">;</span>

    log_format  main  <span class="token string">'$remote_addr - $remote_user [$time_local] &quot;$request&quot; '</span>
                      <span class="token string">'$status $body_bytes_sent &quot;$http_referer&quot; '</span>
                      <span class="token string">'&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;'</span><span class="token punctuation">;</span>

    access_log  /var/log/nginx/access.log  main<span class="token punctuation">;</span>

    sendfile        on<span class="token punctuation">;</span> 
    keepalive_timeout  <span class="token number">65</span><span class="token punctuation">;</span>
    include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>说明：</p> <p>第四步其实可以省略，默认创建一个nginx容器，会在/etc/nginx/目录下生成一个叫nginx.conf的配置文件，nginx容器启动会去加载该文件，该文件的内容和第四步配置文件的内容相同。这个文件的末尾有include /etc/nginx/conf.d/*.conf;这句话，也就说在conf.d目录下并且以conf结尾的文件都会被加载，而这个目录下只有一个配置文件就是default.conf，default.conf文件的内容配置了一个server节点，以及默认访问nginx的目录和首页（/html/index.html）</p></blockquote> <p>5、创建nginx容器、端口映射、目录挂载</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment">#docker run -id --name=c_nginx \</span>
<span class="token operator">-</span>p 80:80 \
<span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token operator">/</span>nginx<span class="token punctuation">.</span>conf:<span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>nginx<span class="token punctuation">.</span>conf \  <span class="token comment">#不挂载这个配置文件也是可以的</span>
<span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>nginx<span class="token operator">/</span>logs:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log<span class="token operator">/</span>nginx \                    <span class="token comment">#nginx容器默认的日志文件保存到/var/log/nginx目录下</span>
<span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>nginx<span class="token operator">/</span>html:<span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html \             <span class="token comment">#nginx默认会去访问/usr/share/nginx/html下的index.html</span>
nginx

<span class="token operator">/</span><span class="token operator">/</span> nginx的配置文件也可以进行 挂载 否则使用vim在容器进行修改
<span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token punctuation">.</span>d:<span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token punctuation">.</span>d

docker run <span class="token operator">-</span>id <span class="token operator">--</span>name=c_nginx <span class="token operator">-</span>p 80:80 <span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token operator">/</span>nginx<span class="token punctuation">.</span>conf:<span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>nginx<span class="token punctuation">.</span>conf <span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>nginx<span class="token operator">/</span>logs:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log<span class="token operator">/</span>nginx <span class="token operator">-</span>v <span class="token operator">/</span>root<span class="token operator">/</span>nginx<span class="token operator">/</span>html:<span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html nginx

docker run <span class="token operator">-</span>id <span class="token operator">--</span>name=c_nginx <span class="token operator">-</span>p 81:80 <span class="token operator">-</span>p 8004:8004 nginx
</code></pre></div><blockquote><p>如果你不想挂载，所有的都可以不挂载，如果所有的都不挂载，默认情况，当创建nginx容器时，在/etc/nginx/目录下有nginx.conf这个文件，这个文件是nginx的配置文件，nginx容器启动的时候会去读这个配置文件</p></blockquote> <p>6、在宿主机的/root/nginx/html目录下新建 index.html，让其同步到/usr/share/nginx/html目录下</p> <p>测试访问：http://192.168.128.130/</p> <h3 id="_4-redis-部署"><a href="#_4-redis-部署" class="header-anchor">#</a> 4.Redis  部署</h3> <p>1、搜索redis镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker search redis</span>
</code></pre></div><p>2、拉取redis镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker pull redis:5.0</span>
</code></pre></div><p>3、创建容器，设置端口映射</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker run -id --name=Apai_redis -p 6379:6379 --restart=always --restart=always redis:5.0</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#docker run -id --name=c_redis2 -p 6380:6380 -v /root/redis/conf/redis.conf:/usr/local/bin/myredis.conf redis:5.0 /bin/bash -c &quot;redis-server /usr/local/bin/myredis.conf&quot;</span>
<span class="token comment">##把宿主机的redis.conf的port 改成port 6380</span>

docker run -id --name<span class="token operator">=</span>Apai_redis -p <span class="token number">6379</span>:6379 --restart<span class="token operator">=</span>always -v /Apai_File/redis/conf/redis.conf:/usr/local/bin/myredis.conf redis:5.0 /bin/bash -c <span class="token string">&quot;redis-server /usr/local/bin/myredis.conf&quot;</span>
<span class="token comment">##把宿主机的redis.conf的port 改成port 6380</span>
docker run -id --name<span class="token operator">=</span>Apai_redis -p <span class="token number">6380</span>:6379 --restart<span class="token operator">=</span>always redis:5.0 /bin/bash -c <span class="token string">&quot;redis-server /usr/local/bin/myredis.conf&quot;</span>
</code></pre></div><p>4、使用外部机器连接redis</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#./redis-cli.exe -h 192.168.149.135 -p 6379</span>
</code></pre></div><h3 id="_5-rabbitmq-消息队列"><a href="#_5-rabbitmq-消息队列" class="header-anchor">#</a> 5.RabbitMq 消息队列</h3> <p><strong>注意:</strong></p> <p>在java配置连接 消息队列  设置虚拟主机为:</p> <p>1.拉去rabbitMq镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code>docker pull rabbitmq:management
</code></pre></div><p>2.创建rabbitmq相关挂载目录</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> -p /root/local/rabbitmq/<span class="token punctuation">{</span>data,conf,log<span class="token punctuation">}</span>
</code></pre></div><p>3.创建完成之后要对所创建文件授权权限，都设置成777 否则在启动容器的时候容易失败</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">chmod</span> -R <span class="token number">777</span> /root/local/rabbitmq
</code></pre></div><p>4.镜像创建和启动容器</p> <div class="language-shell extra-class"><pre class="language-shell"><code>docker run --privileged<span class="token operator">=</span>true -d -p <span class="token number">5672</span>:5672 -p <span class="token number">15672</span>:15672 --name rabbitmq -v /root/local/rabbitmq/data:/var/lib/rabbitmq -v /root/local/rabbitmq/conf:/etc/rabbitmq -v /root/local/rabbitmq/log:/var/log/rabbitmq --restart<span class="token operator">=</span>always --hostname<span class="token operator">=</span>rabbitmqhost -e <span class="token assign-left variable">RABBITMQ_DEFAULT_VHOST</span><span class="token operator">=</span>my_vhost -e <span class="token assign-left variable">RABBITMQ_DEFAULT_USER</span><span class="token operator">=</span>admin -e <span class="token assign-left variable">RABBITMQ_DEFAULT_PASS</span><span class="token operator">=</span>admin rabbitmq
    
<span class="token comment">## 解析    </span>
端口映射 -p <span class="token number">5672</span>:5672 -p <span class="token number">15672</span>:15672
容器名称 --name rabbitmq 
设置用户密码及镜像名 -e <span class="token assign-left variable">RABBITMQ_DEFAULT_USER</span><span class="token operator">=</span>admin -e <span class="token assign-left variable">RABBITMQ_DEFAULT_PASS</span><span class="token operator">=</span>admin rabbitmq
</code></pre></div><p>5.进入容器</p> <div class="language-shell extra-class"><pre class="language-shell"><code>docker <span class="token builtin class-name">exec</span> -it rabbitmq <span class="token function">bash</span>
</code></pre></div><p>6.开启web管理端</p> <div class="language-shell extra-class"><pre class="language-shell"><code>rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management
</code></pre></div><p>附加:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">1</span>.首先进入容器 docker <span class="token builtin class-name">exec</span> -it rabbitmq /bin/bash
<span class="token number">2</span>.创建用户 rabbitmqctl add_user admin1 admin1
<span class="token number">3</span>.给用户授权角色 rabbitmqctl set_user_tags admin1 administrator
<span class="token number">4</span>.给用户添加权限 rabbitmqctl set_permissions -p / admin1 <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span>
</code></pre></div><p>页面访问: http://192.168.174.133:15672</p> <h3 id="_6-nacos-注册中心"><a href="#_6-nacos-注册中心" class="header-anchor">#</a> 6.Nacos 注册中心</h3> <p>https://blog.csdn.net/u013305864/article/details/125611099</p> <p>编写docker-compose.yml文件   启动该文件 命令： docker-compose up</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">nacos</span><span class="token punctuation">:</span>
  <span class="token key atrule">image</span><span class="token punctuation">:</span> nacos/nacos<span class="token punctuation">-</span>server<span class="token punctuation">:</span>latest
  <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span><span class="token number">8848</span>
  <span class="token key atrule">environment</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> PREFER_HOST_MODE=hostname
    <span class="token punctuation">-</span> MODE=standalone   <span class="token comment">#单机模式启动</span>
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ./8848/logs/<span class="token punctuation">:</span>/home/nacos/logs   <span class="token comment">#前面是宿主机名  后面是容器目录名</span>
    <span class="token punctuation">-</span> ./8848/init.d/custom.properties<span class="token punctuation">:</span>/home/nacos/init.d/custom.properties
  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;8848:8848&quot;</span>

</code></pre></div><p>nacos 的默认服务端口是 <strong>8848</strong> ，启动完成之后通过浏览器访问 nacos：http://127.0.0.1:8848/nacos 。</p> <p><strong>第一种</strong>（不推荐，因为不能连接数据库，进行持久化）</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#搜索可以使用的镜像</span>
docker search nacos
<span class="token comment">#拉取镜像</span>
docker pull nacos/nacos-server

<span class="token comment">## 运行nacos  挂载  --restart=always -&gt; 表示docker容器开机自启</span>
docker  run --name nacos -d -p <span class="token number">8848</span>:8848 --privileged<span class="token operator">=</span>true --restart<span class="token operator">=</span>always -e <span class="token assign-left variable">JVM_XMS</span><span class="token operator">=</span>256m -e <span class="token assign-left variable">JVM_XMX</span><span class="token operator">=</span>256m -e <span class="token assign-left variable">MODE</span><span class="token operator">=</span>standalone -e <span class="token assign-left variable">PREFER_HOST_MODE</span><span class="token operator">=</span>hostname -v /data/nacos/logs:/home/nacos/logs -v /data/nacos/conf:/home/nacos/conf nacos/nacos-server
<span class="token comment">## 不挂载 --restart=always -&gt; 表示docker容器开机自启</span>
docker run --name Apai_nacos -d -p <span class="token number">8848</span>:8848 --privileged<span class="token operator">=</span>true --restart<span class="token operator">=</span>always -e <span class="token assign-left variable">JVM_XMS</span><span class="token operator">=</span>256m -e <span class="token assign-left variable">JVM_XMX</span><span class="token operator">=</span>256m -e <span class="token assign-left variable">MODE</span><span class="token operator">=</span>standalone -e <span class="token assign-left variable">PREFER_HOST_MODE</span><span class="token operator">=</span>hostname nacos/nacos-server

<span class="token comment">#--restart=always 开机启动</span>

<span class="token comment">#检查是否启动</span>
docker <span class="token function">ps</span>
<span class="token comment">#访问地址 默认账号密码是nacos/nacos</span>
http://ip:8848/nacos
http://175.178.126.61:8848/nacos
</code></pre></div><p>第二种（强烈推荐用这种方式，因为可以持久化数据到数据库中，就算nacos容器出现了问题，数据也不受影响）
创建数据库脚本
https://github.com/alibaba/nacos/blob/master/config/src/main/resources/META-INF/nacos-db.sql</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#推荐使用这种方式，可以连接自己的数据库</span>
docker run -d -p <span class="token number">8848</span>:8848 -p <span class="token number">9848</span>:9848 <span class="token punctuation">\</span>
--name nacos <span class="token punctuation">\</span>
--env <span class="token assign-left variable">MODE</span><span class="token operator">=</span>standalone <span class="token punctuation">\</span>
--env <span class="token assign-left variable">SPRING_DATASOURCE_PLATFORM</span><span class="token operator">=</span>mysql <span class="token punctuation">\</span>
--env <span class="token assign-left variable">MYSQL_SERVICE_HOST</span><span class="token operator">=</span><span class="token number">192.168</span>.0.12 <span class="token punctuation">\</span>
--env <span class="token assign-left variable">MYSQL_SERVICE_PORT</span><span class="token operator">=</span><span class="token number">3306</span> <span class="token punctuation">\</span>
--env <span class="token assign-left variable">MYSQL_SERVICE_DB_NAME</span><span class="token operator">=</span>nacos <span class="token punctuation">\</span>
--env <span class="token assign-left variable">MYSQL_SERVICE_USER</span><span class="token operator">=</span>root <span class="token punctuation">\</span>
--env <span class="token assign-left variable">MYSQL_SERVICE_PASSWORD</span><span class="token operator">=</span>wisesoft <span class="token punctuation">\</span>
nacos/nacos-server:latest

<span class="token comment">#访问地址 默认账号密码是nacos/nacos</span>
http://ip:8848/nacos
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// -------- 补充 -----------</span>
<span class="token comment">// 拉取指定版本的nacos https://blog.csdn.net/weixin_41798072/article/details/125945878</span>
docker pull nacos<span class="token operator">/</span>nacos<span class="token operator">-</span>server<span class="token operator">:</span><span class="token number">1.4</span><span class="token number">.1</span>
<span class="token comment">// 不挂载 --restart=always -&gt; 表示docker容器开机自启</span>
docker run <span class="token operator">--</span>name <span class="token class-name">Apai_nacos</span> <span class="token operator">-</span>d <span class="token operator">-</span>p <span class="token number">8848</span><span class="token operator">:</span><span class="token number">8848</span> <span class="token operator">--</span>privileged<span class="token operator">=</span><span class="token boolean">true</span> <span class="token operator">--</span>restart<span class="token operator">=</span>always <span class="token operator">-</span>e JVM_XMS<span class="token operator">=</span><span class="token number">256</span>m <span class="token operator">-</span>e JVM_XMX<span class="token operator">=</span><span class="token number">256</span>m <span class="token operator">-</span>e MODE<span class="token operator">=</span>standalone <span class="token operator">-</span>e PREFER_HOST_MODE<span class="token operator">=</span>hostname nacos<span class="token operator">/</span>nacos<span class="token operator">-</span>server<span class="token operator">:</span><span class="token number">1.4</span><span class="token number">.1</span>
</code></pre></div><h3 id="_7-minio-对象存储"><a href="#_7-minio-对象存储" class="header-anchor">#</a> 7.Minio 对象存储</h3> <p><strong>拉取 minio 镜像</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// minio 文件对象存储 类似阿里云oss</span>
docker pull minio<span class="token operator">/</span>minio 
</code></pre></div><p><strong>创建 minio 容器</strong></p> <ul><li>--console-address &quot;:9000&quot; 表示minio的 前端页面的端口</li> <li>--address &quot;:9090&quot; 表示minio的文件上传API 的端口 | 在yml 需配置 9090</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>docker run -id --name<span class="token operator">=</span>minio -p <span class="token number">9000</span>:9000 -p <span class="token number">9090</span>:9090 -e <span class="token string">&quot;MINIO_PROMETHEUS_AUTH_TYPE=public&quot;</span> <span class="token punctuation">\</span>
-e <span class="token string">&quot;MINIO_ROOT_USER=minioadmin&quot;</span> -e <span class="token string">&quot;MINIO_ROOT_PASSWORD=minioadmin&quot;</span> <span class="token punctuation">\</span>
-v /mnt/minio/data:/data -v /mnt/minio/config:/root/.minio minio/minio server /data <span class="token punctuation">\</span>
--console-address <span class="token string">&quot;:9000&quot;</span> --address <span class="token string">&quot;:9090&quot;</span>
</code></pre></div><blockquote><p>--console-address &quot;:9000&quot; --address &quot;:9090&quot;  docker使用静态的固定端口，以避免启动时使用随机端口</p></blockquote> <p>浏览器访问：192.168.128.128:9000</p> <p>java上传:  9090</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="pager"><a href="/Welcome/post/2021/01/10/rabbitmq-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" class="next">
    下一篇<br> <span>
      RabbitMQ 消息队列
    </span></a> <a href="/Welcome/post/2020/11/29/vue-3-%E9%80%89%E9%A1%B9%E5%BC%8F-api/" class="previous">
    上一篇<br> <span>
      Vue3 选项式API
    </span></a></div> <!----></main> <ul class="catalog" style="top:0px !important;" data-v-86932056><li class="level-2 toc-link-linux" data-v-86932056>Linux</li><li class="level-3 toc-link-文件管理" data-v-86932056>文件管理</li><li class="level-3 toc-link-配置全路径名" data-v-86932056>配置全路径名</li><li class="level-3 toc-link-linux-系统-固定-ip" data-v-86932056>Linux 系统 固定 - IP</li><li class="level-2 toc-link-linux-文件与目录管理" data-v-86932056>Linux 文件与目录管理</li><li class="level-3 toc-link-处理目录的常用命令" data-v-86932056>处理目录的常用命令</li><li class="level-4 toc-link-ls-列出目录" data-v-86932056>ls (列出目录)</li><li class="level-4 toc-link-cd-切换目录" data-v-86932056>cd (切换目录)</li><li class="level-4 toc-link-pwd-显示目前所在的目录" data-v-86932056>pwd (显示目前所在的目录)</li><li class="level-4 toc-link-mkdir-创建新目录" data-v-86932056>mkdir (创建新目录)</li><li class="level-4 toc-link-touch-创建新文件" data-v-86932056>touch (创建新文件)</li><li class="level-4 toc-link-rmdir-删除空的目录" data-v-86932056>rmdir (删除空的目录)</li><li class="level-4 toc-link-cp-复制文件或目录" data-v-86932056>cp (复制文件或目录)</li><li class="level-4 toc-link-rm-移除文件或目录" data-v-86932056>rm (移除文件或目录)</li><li class="level-4 toc-link-mv-移动文件与目录-或修改名称" data-v-86932056>mv (移动文件与目录，或修改名称)</li><li class="level-3 toc-link-linux-文件内容查看" data-v-86932056>Linux 文件内容查看</li><li class="level-4 toc-link-cat-由第一行开始显示文件内容" data-v-86932056>cat (由第一行开始显示文件内容)</li><li class="level-4 toc-link-tac-最后一行开始显示" data-v-86932056>tac (最后一行开始显示)</li><li class="level-4 toc-link-nl" data-v-86932056>nl</li><li class="level-4 toc-link-more-翻页" data-v-86932056>more(翻页)</li><li class="level-4 toc-link-less-滚动查看" data-v-86932056>less (滚动查看)</li><li class="level-4 toc-link-head" data-v-86932056>head</li><li class="level-4 toc-link-tail" data-v-86932056>tail</li><li class="level-3 toc-link-linux-功能类命令" data-v-86932056>Linux 功能类命令</li><li class="level-4 toc-link-ln-链接命令" data-v-86932056>ln 链接命令</li><li class="level-4 toc-link-chmod-权限管理命令" data-v-86932056>chmod 权限管理命令</li><li class="level-4 toc-link-find-文件搜索命令" data-v-86932056>find  文件搜索命令</li><li class="level-4 toc-link-grep-文件内容搜索命令" data-v-86932056>grep 文件内容搜索命令</li><li class="level-3 toc-link-tar-压缩解压命令" data-v-86932056>tar 压缩解压命令</li><li class="level-3 toc-link-网络命令" data-v-86932056>网络命令</li><li class="level-4 toc-link-ping-测试网络连通性" data-v-86932056>ping 测试网络连通性</li><li class="level-4 toc-link-netstat-网络相关信息" data-v-86932056>netstat  网络相关信息</li><li class="level-4 toc-link-ifconfig-查看和设置网卡信息" data-v-86932056>ifconfig  查看和设置网卡信息</li><li class="level-4 toc-link-last-登入系统的用户信息" data-v-86932056>last  登入系统的用户信息</li><li class="level-4 toc-link-traceroute-数据包到主机的路径" data-v-86932056>traceroute 数据包到主机的路径</li><li class="level-3 toc-link-用户管理命令" data-v-86932056>用户管理命令</li><li class="level-4 toc-link-su-切换用户" data-v-86932056>su 切换用户</li><li class="level-4 toc-link-useradd-添加新用户" data-v-86932056>useradd   添加新用户</li><li class="level-4 toc-link-passwd-设置用户密码" data-v-86932056>passwd  设置用户密码</li><li class="level-4 toc-link-w-查看登录用户详细信息" data-v-86932056>w 查看登录用户详细信息</li><li class="level-4 toc-link-userdel-删除帐号" data-v-86932056>userdel  删除帐号</li><li class="level-4 toc-link-usermod-修改帐号" data-v-86932056>usermod 修改帐号</li><li class="level-3 toc-link-挂载命令" data-v-86932056>挂载命令</li><li class="level-3 toc-link-关机重启命令" data-v-86932056>关机重启命令</li><li class="level-4 toc-link-shutdown命令" data-v-86932056>shutdown命令</li><li class="level-3 toc-link-dos文本和unix格式转换" data-v-86932056>dos文本和unix格式转换</li><li class="level-4 toc-link-dos2unix-转linux" data-v-86932056>dos2unix  转linux</li><li class="level-4 toc-link-unix2dos-转window" data-v-86932056>unix2dos  转window</li><li class="level-3 toc-link-系统类命令" data-v-86932056>系统类命令</li><li class="level-4 toc-link-_1、查看linux系统是多少位" data-v-86932056>1、查看linux系统是多少位</li><li class="level-4 toc-link-_2、linux查看操作系统内核信息" data-v-86932056>2、Linux查看操作系统内核信息</li><li class="level-4 toc-link-_3、linux查看操作系统版本信息" data-v-86932056>3、Linux查看操作系统版本信息</li><li class="level-3 toc-link-wget-命令下载" data-v-86932056>wget 命令下载</li><li class="level-4 toc-link-下载保存当前目录" data-v-86932056>下载保存当前目录</li><li class="level-4 toc-link-下载重命名保存当前目录" data-v-86932056>下载重命名保存当前目录</li><li class="level-4 toc-link-断点下载" data-v-86932056>断点下载</li><li class="level-4 toc-link-后台下载" data-v-86932056>后台下载</li><li class="level-3 toc-link-后台运行jar包" data-v-86932056>后台运行jar包</li><li class="level-3 toc-link-防火墙-端口" data-v-86932056>防火墙 端口</li><li class="level-3 toc-link-查看linux运行的进程" data-v-86932056>查看linux运行的进程</li><li class="level-3 toc-link-管道符" data-v-86932056>管道符  |</li><li class="level-2 toc-link-vim-文本编辑器" data-v-86932056>vim -- 文本编辑器</li><li class="level-3 toc-link-vi-vim-的使用" data-v-86932056>vi/vim 的使用</li><li class="level-4 toc-link-命令模式" data-v-86932056>命令模式：</li><li class="level-4 toc-link-输入模式" data-v-86932056>输入模式</li><li class="level-4 toc-link-底线命令模式" data-v-86932056>底线命令模式</li><li class="level-3 toc-link-文件编辑命令" data-v-86932056>文件编辑命令</li><li class="level-4 toc-link-插入命令" data-v-86932056>插入命令</li><li class="level-4 toc-link-定位命令" data-v-86932056>定位命令</li><li class="level-4 toc-link-删除命令" data-v-86932056>删除命令</li><li class="level-4 toc-link-复制和剪切命令" data-v-86932056>复制和剪切命令</li><li class="level-4 toc-link-替换和取消命令" data-v-86932056>替换和取消命令</li><li class="level-4 toc-link-搜索和搜索替换命令" data-v-86932056>搜索和搜索替换命令</li><li class="level-4 toc-link-保存和退出命令" data-v-86932056>保存和退出命令</li><li class="level-3 toc-link-vim使用技巧" data-v-86932056>Vim使用技巧</li><li class="level-2 toc-link-linux-yum-命令" data-v-86932056>Linux yum 命令</li><li class="level-3 toc-link-yum-语法" data-v-86932056>yum 语法</li><li class="level-3 toc-link-yum常用命令" data-v-86932056>yum常用命令</li><li class="level-2 toc-link-nginx-分隔" data-v-86932056>------------   nginx 分隔    -----------</li><li class="level-2 toc-link-nginx-反向代理-服务器" data-v-86932056>nginx 反向代理 服务器</li><li class="level-3 toc-link-版本和安装" data-v-86932056>版本和安装</li><li class="level-4 toc-link-window版" data-v-86932056>window版</li><li class="level-5 toc-link-启动" data-v-86932056>启动</li><li class="level-5 toc-link-关闭" data-v-86932056>关闭</li><li class="level-4 toc-link-linux版" data-v-86932056>linux版</li><li class="level-5 toc-link-环境依赖" data-v-86932056>环境依赖</li><li class="level-5 toc-link-安装步骤" data-v-86932056>安装步骤</li><li class="level-5 toc-link-启动-nginx" data-v-86932056>启动 nginx</li><li class="level-5 toc-link-访问-nginx" data-v-86932056>访问 nginx</li><li class="level-3 toc-link-nginx配置文件" data-v-86932056>nginx配置文件</li><li class="level-3 toc-link-配置虚拟主机" data-v-86932056>配置虚拟主机</li><li class="level-4 toc-link-通过端口区分不同虚拟机" data-v-86932056>通过端口区分不同虚拟机</li><li class="level-5 toc-link-打开nginx的配置文件" data-v-86932056>打开Nginx的配置文件：</li><li class="level-5 toc-link-重新加载配置文件" data-v-86932056>重新加载配置文件</li><li class="level-4 toc-link-通过域名区分虚拟主机" data-v-86932056>通过域名区分虚拟主机</li><li class="level-5 toc-link-什么是域名" data-v-86932056>什么是域名</li><li class="level-5 toc-link-nginx的配置" data-v-86932056>Nginx的配置</li><li class="level-2 toc-link-反向代理" data-v-86932056>反向代理</li><li class="level-3 toc-link-案例" data-v-86932056>案例</li><li class="level-2 toc-link-负载均衡" data-v-86932056>负载均衡</li><li class="level-3 toc-link-负载均衡的配置" data-v-86932056>负载均衡的配置</li><li class="level-4 toc-link-准备工作" data-v-86932056>准备工作</li><li class="level-3 toc-link-负载方式" data-v-86932056>负载方式</li><li class="level-5 toc-link-_6-3-1-轮询" data-v-86932056>6.3.1 轮询</li><li class="level-5 toc-link-_6-3-2-加权轮询" data-v-86932056>6.3.2 加权轮询</li><li class="level-5 toc-link-_6-3-3-ip-hash-负载" data-v-86932056>6.3.3 ip_hash 负载</li><li class="level-3 toc-link-将客户端浏览器的-ip-传递到后台" data-v-86932056>将客户端浏览器的 IP 传递到后台</li><li class="level-3 toc-link-nginx解决前后端跨域-了解" data-v-86932056>nginx解决前后端跨域(了解)</li><li class="level-3 toc-link-nginx搭建文件服务器" data-v-86932056>nginx搭建文件服务器</li><li class="level-2 toc-link-docker-分隔" data-v-86932056>-----------  Docker 分隔   -----------</li><li class="level-2 toc-link-docker-容器引擎" data-v-86932056>Docker 容器引擎</li><li class="level-3 toc-link-nacos-的下载和安装" data-v-86932056>Nacos 的下载和安装</li><li class="level-3 toc-link-docker-概念" data-v-86932056>docker 概念</li><li class="level-4 toc-link-安装docker" data-v-86932056>安装docker</li><li class="level-4 toc-link-docker相关概念" data-v-86932056>docker相关概念</li><li class="level-4 toc-link-配置-docker-镜像加速器" data-v-86932056>配置 Docker 镜像加速器</li><li class="level-2 toc-link-docker-网络模式" data-v-86932056>Docker 网络模式</li><li class="level-3 toc-link-bridge-模式-桥接" data-v-86932056>bridge 模式 - 桥接</li><li class="level-3 toc-link-host-模式-仅主机模式" data-v-86932056>host 模式 - 仅主机模式</li><li class="level-3 toc-link-container-模式" data-v-86932056>container 模式</li><li class="level-4 toc-link-none模式" data-v-86932056>none模式</li><li class="level-2 toc-link-docker-命令" data-v-86932056>Docker 命令</li><li class="level-3 toc-link-进程相关命令" data-v-86932056>进程相关命令</li><li class="level-3 toc-link-镜像相关命令" data-v-86932056>镜像相关命令</li><li class="level-3 toc-link-容器相关命令" data-v-86932056>容器相关命令</li><li class="level-4 toc-link-配置数据卷" data-v-86932056>配置数据卷</li><li class="level-4 toc-link-数据卷小结" data-v-86932056>数据卷小结</li><li class="level-2 toc-link-docker-镜像制作" data-v-86932056>Docker 镜像制作</li><li class="level-3 toc-link-docker-镜像原理" data-v-86932056>Docker 镜像原理</li><li class="level-3 toc-link-普通方式" data-v-86932056>普通方式</li><li class="level-3 toc-link-dockerfile方式" data-v-86932056>dockerfile方式</li><li class="level-2 toc-link-compose-服务编排" data-v-86932056>Compose 服务编排</li><li class="level-3 toc-link-安装-compose" data-v-86932056>安装 Compose</li><li class="level-3 toc-link-卸载-compose" data-v-86932056>卸载 Compose</li><li class="level-3 toc-link-comnpose的使用步骤" data-v-86932056>Comnpose的使用步骤</li><li class="level-2 toc-link-分隔" data-v-86932056>------------   分隔    ------------</li><li class="level-2 toc-link-linux-常用命令" data-v-86932056>Linux 常用命令</li><li class="level-3 toc-link-文件类-功能类-命令" data-v-86932056>文件类 功能类 命令</li><li class="level-3 toc-link-redis-命令" data-v-86932056>redis  命令</li><li class="level-3 toc-link-nginx-命令" data-v-86932056>nginx  命令</li><li class="level-3 toc-link-运行jar包-命令" data-v-86932056>运行jar包 命令</li><li class="level-3 toc-link-docker-命令-2" data-v-86932056>Docker 命令</li><li class="level-2 toc-link-项目-部署" data-v-86932056>项目 部署</li><li class="level-3 toc-link-war包部署" data-v-86932056>war包部署</li><li class="level-3 toc-link-jar包部署" data-v-86932056>jar包部署</li><li class="level-3 toc-link-ngins-进行-项目部署" data-v-86932056>ngins 进行 项目部署</li><li class="level-5 toc-link-nginx的配置-2" data-v-86932056>Nginx的配置</li><li class="level-2 toc-link-linux-安装" data-v-86932056>Linux 安装</li><li class="level-3 toc-link-nginx-安装" data-v-86932056>nginx 安装</li><li class="level-3 toc-link-源码包" data-v-86932056>源码包</li><li class="level-3 toc-link-脚本包" data-v-86932056>脚本包</li><li class="level-3 toc-link-rpm包-二进制包" data-v-86932056>rpm包（二进制包)</li><li class="level-3 toc-link-yum安装" data-v-86932056>yum安装</li><li class="level-3 toc-link-工具-安装" data-v-86932056>工具 安装</li><li class="level-4 toc-link-jdk-的安装" data-v-86932056>jdk 的安装</li><li class="level-4 toc-link-tomcan8-的安装" data-v-86932056>tomcan8 的安装</li><li class="level-4 toc-link-mysql-版本5-6安装" data-v-86932056>Mysql 版本5.6安装</li><li class="level-2 toc-link-docker-应用部署" data-v-86932056>Docker 应用部署</li><li class="level-3 toc-link-_1-mysql-部署" data-v-86932056>1.mysql  部署</li><li class="level-3 toc-link-_2-tomcat-部署" data-v-86932056>2.Tomcat  部署</li><li class="level-3 toc-link-_3-nginx-部署" data-v-86932056>3.Nginx  部署</li><li class="level-3 toc-link-_4-redis-部署" data-v-86932056>4.Redis  部署</li><li class="level-3 toc-link-_5-rabbitmq-消息队列" data-v-86932056>5.RabbitMq 消息队列</li><li class="level-3 toc-link-_6-nacos-注册中心" data-v-86932056>6.Nacos 注册中心</li><li class="level-3 toc-link-_7-minio-对象存储" data-v-86932056>7.Minio 对象存储</li></ul></div> <div class="search-page" data-v-60b9a85e><span class="search-close"><svg aria-hidden="true" width="34.56" height="34.56" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:2.16em;"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></span> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="menu-btn-container" data-v-413dbfb4 data-v-60b9a85e><div class="menu-btn-wrapper" data-v-413dbfb4><div class="menu-btn" data-v-413dbfb4><div class="menu-btn-icon" style="display:;" data-v-413dbfb4><span data-v-413dbfb4></span> <span data-v-413dbfb4></span> <span data-v-413dbfb4></span></div> <div class="menu-text" style="display:none;" data-v-413dbfb4>
        0
      </div> <svg class="menu-svg" data-v-413dbfb4><circle cx="50%" cy="50%" r="48%" class="menu-border" style="stroke-dasharray:0% 314.15926%;" data-v-413dbfb4></circle></svg></div> <div class="menu-btn-child-wrapper" data-v-413dbfb4><a role="button" aria-label="Toggle light" title="Toggle light" class="toggle-mode menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;"><path d="M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"/></svg></a> <div class="menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></div> <div class="menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"/></svg></div> <div class="menu-btn-child menu-toc-btn" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M48 48a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm448 16H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16z"/></svg></div> <div class="menu-btn-child menu-btn-sidebar" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M14 2a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1V3a1 1 0 011-1h12zM2 1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V3a2 2 0 00-2-2H2z"/><path d="M3 4a1 1 0 011-1h2a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V4z"/></svg></div></div></div></div> <div class="footer-wrapper footer" data-v-2f609db5 data-v-60b9a85e><span data-v-2f609db5>
      &copy; <a href="https://lujunandapai.github.io/" target="_blank">是阿派啊! </a> 2000 - 2024
      <br>
      祝我们 - <a href="https://gitee.com/LuisApai" target="_blank">平安喜乐</a> &
      <a href="https://github.com/LuJunandapai" target="_blank">万事顺遂</a>
    </span></div></div><div class="global-ui"></div></div>
    <script src="/Welcome/assets/js/app.516fe79a.js" defer></script><script src="/Welcome/assets/js/8.d7055a2e.js" defer></script><script src="/Welcome/assets/js/1.ed48a7ee.js" defer></script><script src="/Welcome/assets/js/2.9a3f7cc9.js" defer></script><script src="/Welcome/assets/js/50.a03b85bf.js" defer></script>
  </body>
</html>
