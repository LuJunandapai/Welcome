<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Angular 前端框架 | 除非世界颠倒</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/Welcome/img/logo.svg">
    <meta name="description" content="螃蟹不能剥我的壳，笔记本不可能在写我，我不可能落在枫叶上雪花上，而你不可能想我 ...">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/Welcome/assets/css/0.styles.dc2e030a.css" as="style"><link rel="preload" href="/Welcome/assets/js/app.516fe79a.js" as="script"><link rel="preload" href="/Welcome/assets/js/8.d7055a2e.js" as="script"><link rel="preload" href="/Welcome/assets/js/1.ed48a7ee.js" as="script"><link rel="preload" href="/Welcome/assets/js/2.9a3f7cc9.js" as="script"><link rel="preload" href="/Welcome/assets/js/69.08639d21.js" as="script"><link rel="prefetch" href="/Welcome/assets/js/10.4c48ef06.js"><link rel="prefetch" href="/Welcome/assets/js/11.b879bea0.js"><link rel="prefetch" href="/Welcome/assets/js/12.fb12f646.js"><link rel="prefetch" href="/Welcome/assets/js/13.cbffec13.js"><link rel="prefetch" href="/Welcome/assets/js/14.b6f5f3af.js"><link rel="prefetch" href="/Welcome/assets/js/15.a2131606.js"><link rel="prefetch" href="/Welcome/assets/js/16.7c225af7.js"><link rel="prefetch" href="/Welcome/assets/js/17.40d10b01.js"><link rel="prefetch" href="/Welcome/assets/js/18.82c76934.js"><link rel="prefetch" href="/Welcome/assets/js/19.e7b2182d.js"><link rel="prefetch" href="/Welcome/assets/js/20.c46f9d92.js"><link rel="prefetch" href="/Welcome/assets/js/21.ea337a55.js"><link rel="prefetch" href="/Welcome/assets/js/22.547bbcbf.js"><link rel="prefetch" href="/Welcome/assets/js/23.ead5e6a4.js"><link rel="prefetch" href="/Welcome/assets/js/24.9e0e72ad.js"><link rel="prefetch" href="/Welcome/assets/js/25.fa8f4d05.js"><link rel="prefetch" href="/Welcome/assets/js/26.1bf3f67c.js"><link rel="prefetch" href="/Welcome/assets/js/27.ce57d01c.js"><link rel="prefetch" href="/Welcome/assets/js/28.cb29c565.js"><link rel="prefetch" href="/Welcome/assets/js/29.6907ddfb.js"><link rel="prefetch" href="/Welcome/assets/js/30.0be5fc4c.js"><link rel="prefetch" href="/Welcome/assets/js/31.6bde0d5c.js"><link rel="prefetch" href="/Welcome/assets/js/32.34f5889a.js"><link rel="prefetch" href="/Welcome/assets/js/33.2ca0ef80.js"><link rel="prefetch" href="/Welcome/assets/js/34.1717fdcc.js"><link rel="prefetch" href="/Welcome/assets/js/35.61737fc1.js"><link rel="prefetch" href="/Welcome/assets/js/36.7894ed75.js"><link rel="prefetch" href="/Welcome/assets/js/37.d90e4b65.js"><link rel="prefetch" href="/Welcome/assets/js/38.d1659e09.js"><link rel="prefetch" href="/Welcome/assets/js/39.caf6790b.js"><link rel="prefetch" href="/Welcome/assets/js/4.ffe2048e.js"><link rel="prefetch" href="/Welcome/assets/js/40.2504a486.js"><link rel="prefetch" href="/Welcome/assets/js/41.e7130bc9.js"><link rel="prefetch" href="/Welcome/assets/js/42.f7f7482f.js"><link rel="prefetch" href="/Welcome/assets/js/43.ac1c5fa2.js"><link rel="prefetch" href="/Welcome/assets/js/44.ef3652d5.js"><link rel="prefetch" href="/Welcome/assets/js/45.2c55d04e.js"><link rel="prefetch" href="/Welcome/assets/js/46.c4a65d3f.js"><link rel="prefetch" href="/Welcome/assets/js/47.8638023b.js"><link rel="prefetch" href="/Welcome/assets/js/48.72ce0eb1.js"><link rel="prefetch" href="/Welcome/assets/js/49.7cd3e27c.js"><link rel="prefetch" href="/Welcome/assets/js/5.2488397c.js"><link rel="prefetch" href="/Welcome/assets/js/50.a03b85bf.js"><link rel="prefetch" href="/Welcome/assets/js/51.589a3c46.js"><link rel="prefetch" href="/Welcome/assets/js/52.981c99fd.js"><link rel="prefetch" href="/Welcome/assets/js/53.fde74635.js"><link rel="prefetch" href="/Welcome/assets/js/54.2e2de828.js"><link rel="prefetch" href="/Welcome/assets/js/55.852d6024.js"><link rel="prefetch" href="/Welcome/assets/js/56.564b7e6b.js"><link rel="prefetch" href="/Welcome/assets/js/57.d15d395d.js"><link rel="prefetch" href="/Welcome/assets/js/58.ebd73e0e.js"><link rel="prefetch" href="/Welcome/assets/js/59.bea36105.js"><link rel="prefetch" href="/Welcome/assets/js/6.c8f2a0bc.js"><link rel="prefetch" href="/Welcome/assets/js/60.57e264e0.js"><link rel="prefetch" href="/Welcome/assets/js/61.81888b14.js"><link rel="prefetch" href="/Welcome/assets/js/62.d702fe6e.js"><link rel="prefetch" href="/Welcome/assets/js/63.1a728d38.js"><link rel="prefetch" href="/Welcome/assets/js/64.615fdf3a.js"><link rel="prefetch" href="/Welcome/assets/js/65.9bdbf700.js"><link rel="prefetch" href="/Welcome/assets/js/66.f4fbf76c.js"><link rel="prefetch" href="/Welcome/assets/js/67.6a2b7047.js"><link rel="prefetch" href="/Welcome/assets/js/68.4cde8bed.js"><link rel="prefetch" href="/Welcome/assets/js/7.72ca8d8f.js"><link rel="prefetch" href="/Welcome/assets/js/70.7fad46c9.js"><link rel="prefetch" href="/Welcome/assets/js/71.b87426aa.js"><link rel="prefetch" href="/Welcome/assets/js/72.7cbdc58c.js"><link rel="prefetch" href="/Welcome/assets/js/73.44891a19.js"><link rel="prefetch" href="/Welcome/assets/js/74.9fdab749.js"><link rel="prefetch" href="/Welcome/assets/js/75.d1888288.js"><link rel="prefetch" href="/Welcome/assets/js/76.3613c476.js"><link rel="prefetch" href="/Welcome/assets/js/77.c6781ffc.js"><link rel="prefetch" href="/Welcome/assets/js/78.4ce73b88.js"><link rel="prefetch" href="/Welcome/assets/js/79.d12ac054.js"><link rel="prefetch" href="/Welcome/assets/js/80.6738b1b4.js"><link rel="prefetch" href="/Welcome/assets/js/81.4373868b.js"><link rel="prefetch" href="/Welcome/assets/js/82.39b65938.js"><link rel="prefetch" href="/Welcome/assets/js/83.3a50d1b3.js"><link rel="prefetch" href="/Welcome/assets/js/84.bf35700b.js"><link rel="prefetch" href="/Welcome/assets/js/85.f76275c9.js"><link rel="prefetch" href="/Welcome/assets/js/86.485da767.js"><link rel="prefetch" href="/Welcome/assets/js/87.d19016fa.js"><link rel="prefetch" href="/Welcome/assets/js/9.73227006.js">
    <link rel="stylesheet" href="/Welcome/assets/css/0.styles.dc2e030a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="theme-container" class="theme-container post-container no-sidebar" data-v-60b9a85e><header class="navbar invert" data-v-60b9a85e><a href="/Welcome/" class="home-link router-link-active"><span class="site-name"> $ cd /home/ </span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/Welcome/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M489.2 287.9h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6V146.2c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-6-8-4.6-11.7-4.6v-38c8.3-2 17.1-3.4 25.7-3.4 10.9 0 20.9 4.3 31.4 4.3 4.6 0 27.7-1.1 27.7-8v-60c0-2.6-2-4.6-4.6-4.6-5.1 0-15.1 4.3-24 4.3-9.7 0-20.9-4.3-32.6-4.3-8 0-16 1.1-23.7 2.9v-4.9c5.4-2.6 9.1-8.3 9.1-14.3 0-20.7-31.4-20.8-31.4 0 0 6 3.7 11.7 9.1 14.3v111.7c-3.7 0-11.7-1.4-11.7 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32H128v-32c0-2.6-2-4.6-4.6-4.6H96c-2.6 0-4.6 2-4.6 4.6v178.3H54.8v-32c0-2.6-2-4.6-4.6-4.6H22.8c-2.6 0-4.6 2-4.6 4.6V512h182.9v-96c0-72.6 109.7-72.6 109.7 0v96h182.9V292.5c.1-2.6-1.9-4.6-4.5-4.6zm-288.1-4.5c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64zm146.4 0c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64z"/></svg>
  首页
</a></div><div class="nav-item"><a href="/Welcome/tags/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>
  时间轴 🏷️
</a></div><div class="nav-item"><a href="/Welcome/links/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M305.45 462.59c7.391 7.298 6.188 20.097-3 25.004-77.714 41.802-176.726 29.91-242.344-35.709-65.602-65.603-77.51-164.523-35.692-242.331 4.891-9.095 17.69-10.298 25.003-3l116.812 116.813 27.394-27.394c-.688-2.61-1.594-5.001-1.594-7.814a32.004 32.004 0 1132.004 32.005c-2.797 0-5.204-.891-7.798-1.594l-27.41 27.41zm206.526-159.523a16.103 16.103 0 01-16.002 17.003H463.86a15.97 15.97 0 01-15.892-15.002C440.467 175.549 336.453 70.534 207.03 63.533a15.845 15.845 0 01-15.002-15.908V16.027A16.094 16.094 0 01209.03.024C372.255 8.62 503.475 139.841 511.976 303.067zm-96.012-.297a16.21 16.21 0 01-16.112 17.3h-32.207a16.069 16.069 0 01-15.893-14.705c-6.907-77.011-68.118-138.91-144.924-145.224a15.94 15.94 0 01-14.8-15.893v-32.114a16.134 16.134 0 0117.3-16.096c110.123 8.501 198.228 96.607 206.636 206.732z"/></svg>
  链接 🌐
</a></div><div class="nav-item"><a href="/Welcome/docs/aboutMe/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M21 18H6a1 1 0 000 2h15v2H6a3 3 0 01-3-3V4a2 2 0 012-2h16v16zm-5-9V7H8v2h8z"/></svg>
  举杯 ❤
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      搜索
    </a></div></nav></div></header> <div class="sidebar-mask" data-v-60b9a85e></div> <aside class="sidebar" data-v-60b9a85e><div class="personal-info-wrapper" data-v-60b9a85e><div class="mobile-hero-avatar" data-v-60b9a85e><img src="https://cdn.jsdelivr.net/gh/LuJunandapai/ApaiImage@main/KaiYu-PicGo/202405241010613.png" alt="hero" data-v-60b9a85e></div> <p class="mobile-heading" data-v-60b9a85e>
          枫叶和雪花
        </p> <div class="sns-wrapper" data-v-60b9a85e><a href="https://github.com/LuJunandapai" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-59.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg></svg></a><a href="https://www.twitter.com/Lu_isApai" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></svg></a><a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-139.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"/></svg></svg></a><a href="https://www.linkedin.com/in/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 01107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg></svg></a><a href="https://www.zhihu.com/people/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M12.344 17.963l-1.688 1.074-2.131-3.35c-.44 1.402-1.172 2.665-2.139 3.825-.402.483-.82.918-1.301 1.375-.155.147-.775.717-.878.82l-1.414-1.414c.139-.139.787-.735.915-.856.43-.408.795-.79 1.142-1.206 1.266-1.518 2.03-3.21 2.137-5.231H3v-2h4V7h-.868c-.689 1.266-1.558 2.222-2.618 2.857L2.486 8.143c1.395-.838 2.425-2.604 3.038-5.36l1.952.434c-.14.633-.303 1.227-.489 1.783H11.5v2H9v4h2.5v2H9.185l3.159 4.963zm3.838-.07L17.298 17H19V7h-4v10h.736l.446.893zM13 5h8v14h-3l-2.5 2-1-2H13V5z"/></svg></svg></a><a href="mailto:lu_yuelian@163.com" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></svg></a>  <a href="/rss.xml" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg></svg></a></div> <hr data-v-60b9a85e></div> <nav class="nav-links"><div class="nav-item"><a href="/Welcome/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M489.2 287.9h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6V146.2c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-6-8-4.6-11.7-4.6v-38c8.3-2 17.1-3.4 25.7-3.4 10.9 0 20.9 4.3 31.4 4.3 4.6 0 27.7-1.1 27.7-8v-60c0-2.6-2-4.6-4.6-4.6-5.1 0-15.1 4.3-24 4.3-9.7 0-20.9-4.3-32.6-4.3-8 0-16 1.1-23.7 2.9v-4.9c5.4-2.6 9.1-8.3 9.1-14.3 0-20.7-31.4-20.8-31.4 0 0 6 3.7 11.7 9.1 14.3v111.7c-3.7 0-11.7-1.4-11.7 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32H128v-32c0-2.6-2-4.6-4.6-4.6H96c-2.6 0-4.6 2-4.6 4.6v178.3H54.8v-32c0-2.6-2-4.6-4.6-4.6H22.8c-2.6 0-4.6 2-4.6 4.6V512h182.9v-96c0-72.6 109.7-72.6 109.7 0v96h182.9V292.5c.1-2.6-1.9-4.6-4.5-4.6zm-288.1-4.5c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64zm146.4 0c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64z"/></svg>
  首页
</a></div><div class="nav-item"><a href="/Welcome/tags/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>
  时间轴 🏷️
</a></div><div class="nav-item"><a href="/Welcome/links/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M305.45 462.59c7.391 7.298 6.188 20.097-3 25.004-77.714 41.802-176.726 29.91-242.344-35.709-65.602-65.603-77.51-164.523-35.692-242.331 4.891-9.095 17.69-10.298 25.003-3l116.812 116.813 27.394-27.394c-.688-2.61-1.594-5.001-1.594-7.814a32.004 32.004 0 1132.004 32.005c-2.797 0-5.204-.891-7.798-1.594l-27.41 27.41zm206.526-159.523a16.103 16.103 0 01-16.002 17.003H463.86a15.97 15.97 0 01-15.892-15.002C440.467 175.549 336.453 70.534 207.03 63.533a15.845 15.845 0 01-15.002-15.908V16.027A16.094 16.094 0 01209.03.024C372.255 8.62 503.475 139.841 511.976 303.067zm-96.012-.297a16.21 16.21 0 01-16.112 17.3h-32.207a16.069 16.069 0 01-15.893-14.705c-6.907-77.011-68.118-138.91-144.924-145.224a15.94 15.94 0 01-14.8-15.893v-32.114a16.134 16.134 0 0117.3-16.096c110.123 8.501 198.228 96.607 206.636 206.732z"/></svg>
  链接 🌐
</a></div><div class="nav-item"><a href="/Welcome/docs/aboutMe/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M21 18H6a1 1 0 000 2h15v2H6a3 3 0 01-3-3V4a2 2 0 012-2h16v16zm-5-9V7H8v2h8z"/></svg>
  举杯 ❤
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      搜索
    </a></div></nav> <!----> </aside> <div class="content" data-v-60b9a85e><div class="post-header style-img" style="background-image:url(https://files.codelife.cc/wallhaven/full/85/wallhaven-8596q2.jpg);" data-v-2c97064e><div class="header-mask" style="background:rgba(40, 57, 101, .4);" data-v-2c97064e></div> <div class="header-content" data-v-2c97064e><div class="tags" data-v-2c97064e><span class="tag" data-v-2c97064e>
        Web
      </span><span class="tag" data-v-2c97064e>
        前端框架
      </span></div> <h1 class="title" data-v-2c97064e>
      Angular 前端框架
    </h1> <h3 class="subtitle" data-v-2c97064e>
      Angular 基础前端框架学习笔记
    </h3> <div class="icons" data-v-2c97064e><div class="icon" data-v-2c97064e><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-2c97064e><path d="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"/></svg> <span data-v-2c97064e>Lu Da Zhuang</span></div> <div class="icon" data-v-2c97064e><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-2c97064e><path d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"/></svg> <span data-v-2c97064e>2022-11-02</span></div> <div class="icon" data-v-2c97064e><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-2c97064e><path fill="none" d="M0 0h24v24H0z"/><path d="M17.618 5.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 11-1.414-1.414zM12 20a7 7 0 100-14 7 7 0 000 14zM11 8h2v6h-2V8zM8 1h8v2H8V1z"/></svg> <span data-v-2c97064e>66 min</span></div></div></div></div> <main class="page"><!----> <div class="theme-content content__default"><h2 id="angular-基础"><a href="#angular-基础" class="header-anchor">#</a> Angular 基础</h2> <p><a href="https://blog.csdn.net/book_longker/article/details/105421125" target="_blank" rel="noopener noreferrer">(8条消息) angular基础学习_book_longker的博客-CSDN博客_angular学习</a></p> <h3 id="angular-项目的创建"><a href="#angular-项目的创建" class="header-anchor">#</a> Angular 项目的创建</h3> <p>Angular CLI用于简单，快速构建Angular2项目，只要掌握几行命令就能扣减前端架构。依赖于NodeJs和npm。</p> <blockquote><p>安装脚手架</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 全局安装 只需一次</span>
npm insta11 <span class="token operator">-</span>g angular<span class="token operator">-</span>cli
</code></pre></div><blockquote><p>创建项目</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 在项目的存入位置的文件夹里 cmd 进入黑窗口开始创建</span>
ng <span class="token keyword">new</span> 项目名
<span class="token comment">// 选择 1--&gt;y  2--&gt;scss</span>
</code></pre></div><blockquote><p>报错解决</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 创建项目完成后出现: 报错 Installing packages (npm)...npm ERR! code ERESOLVE</span>
<span class="token comment">// npm错误！ |  ERESOLVE无法解析依赖关系树</span>

<span class="token comment">// 在项目文件夹类执行以下命令</span>
npm install xxx <span class="token operator">--</span>legacy<span class="token operator">-</span>peer<span class="token operator">-</span>deps 
</code></pre></div><blockquote><p>运行项目</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 在项目文件夹内 cmd 或者 vscode终端 开启</span>
ng serve <span class="token operator">--</span><span class="token keyword">open</span>
<span class="token comment">// 在 package.json 调试start开启</span>
npm run start
</code></pre></div><blockquote><p>默认的访问地址</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">4200</span><span class="token operator">/</span>
</code></pre></div><blockquote><p>修改启动端口号</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// package.json 添加一条自定义启动命令 指定启动端口</span>
<span class="token comment">// &quot;dev&quot;: &quot;ng serve --port 1020&quot;, 使用dev启动即可</span>

<span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-app&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ng&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ng&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ng serve&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ng build&quot;</span><span class="token punctuation">,</span> 
    <span class="token string">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ng serve --port 1020&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;watch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ng build --watch --configuration development&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ng test&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="angular-目录结构"><a href="#angular-目录结构" class="header-anchor">#</a> Angular 目录结构</h3> <p><a href="https://blog.csdn.net/yuzhiqiang_1993/article/details/71191873?ops_request_misc=%7B%22request%5Fid%22%3A%22166634022416782388094440%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=166634022416782388094440&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-71191873-null-null.142%5Ev59%5Epc_rank_34_2,201%5Ev3%5Econtrol_1&amp;utm_term=Angular%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187" target="_blank" rel="noopener noreferrer">(8条消息) Angular项目目录结构详解_XeonYu的博客-CSDN博客_angular项目结构</a></p> <p><strong>首层目录</strong>：</p> <div class="language-java extra-class"><pre class="language-java"><code>node_modules		第三方依赖包存放目录
e2e  				端到端的测试目录  用来做自动测试的
src   				应用源代码目录  
<span class="token punctuation">.</span>angular<span class="token operator">-</span>cli<span class="token punctuation">.</span>json   <span class="token class-name">Angular</span>命令行工具的配置文件。后期可能会去修改它，引一些其他的第三方的包  比如jquery等
karma<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>js  		karma是单元测试的执行器，karma<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>js是karma的配置文件
<span class="token keyword">package</span><span class="token punctuation">.</span>json   		这是一个标准的npm工具的配置文件，这个文件里面列出了该应用程序所使用的第三方依赖包。
    				实际上我们在新建项目的时候，等了半天就是在下载第三方依赖包。下载完成后会放在node_modules这个目录中，我们可能会修改这个文件。
protractor<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>js  也是一个做自动化测试的配置文件
README<span class="token punctuation">.</span>md           说明文件
tslint<span class="token punctuation">.</span>json       	是tslint的配置文件，用来定义<span class="token class-name">TypeScript</span>代码质量检查的规则，不用管它
</code></pre></div><p><strong>src 目录：</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>app目录			   包含应用的组件和模块，我们要写的代码都在这个目录
assets目录  		   资源目录，存储静态资源的  比如图片
environments目录     环境配置。<span class="token class-name">Angular</span>是支持多环境开发的，我们可以在不同的环境下（开发环境，测试环境，生产环境）共用一套代码，主要用来配置环境的
index<span class="token punctuation">.</span>html  		整个应用的根html，程序启动就是访问这个页面
main<span class="token punctuation">.</span>ts    			整个项目的入口点，<span class="token class-name">Angular</span>通过这个文件来启动项目
polyfills<span class="token punctuation">.</span>ts   		主要是用来导入一些必要库，为了让<span class="token class-name">Angular</span>能正常运行在老版本下
styles<span class="token punctuation">.</span>css   		主要是放一些全局的样式
tsconfig<span class="token punctuation">.</span>app<span class="token punctuation">.</span>json	<span class="token class-name">TypeScript</span>编译器的配置<span class="token punctuation">,</span>添加第三方依赖的时候会修改这个文件
tsconfig<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>json	不用管
test<span class="token punctuation">.</span>ts    			也是自动化测试用的
typings<span class="token punctuation">.</span>d<span class="token punctuation">.</span>ts        不用管
</code></pre></div><h2 id="angular-模块"><a href="#angular-模块" class="header-anchor">#</a> Angular 模块</h2> <p>模块组件的特征在于可以用于执行单个任务的代码块。您可以从代码(类)中导出值。 Angular应用程序被称为模块， 并使用许多模块构建您的应用程序。Angular 的基本构建块是可以从模块导出的组件类。</p> <h3 id="app-模块"><a href="#app-模块" class="header-anchor">#</a> app 模块：</h3> <div class="language-java extra-class"><pre class="language-java"><code>app<span class="token operator">-</span>routing<span class="token punctuation">.</span><span class="token keyword">module</span><span class="token punctuation">.</span>ts  路由文件
app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html     页面模板
app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>scss	   页面样式
app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>ts
app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts	   联动页面模板和样式 js数据的输入
app<span class="token punctuation">.</span><span class="token keyword">module</span><span class="token punctuation">.</span>ts
</code></pre></div><blockquote><p>app.component.ts</p></blockquote> <p>模块组件的特征在于可以用于执行单个任务的代码块。 您可以从代码(类)中导出值。 Angular应用程序被称为模块，并使用许多模块构建您的应用程序。 Angular 的基本构建块是可以从模块导出的组件类。</p> <p>组件是拥有模板的控制器类，主要处理页面上的应用程序和逻辑的视图。 组件可以拥有独立的样式。
注册组件，使用 <em>@Component</em> 注释，可以将应用程序拆分为更小的部分。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-root'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./app.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./app.component.scss'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// @Component最常用的几个选项:</span>
selector：这个 CSS 选择器用于在模板中标记出该指令，并触发该指令的实例化。
template：组件的内联模板
templateUrl：组件模板文件的 URL
styleUrls：组件样式文件
styles：组件内联样式
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// app.component.ts 数据定义写法</span>
<span class="token comment">// 修饰符</span>
<span class="token keyword">public</span> id<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// </span>
<span class="token keyword">private</span> id<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 私有的</span>

<span class="token comment">// 变量名:类型 = 值</span>
msg<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 字符串</span>
id<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 数值</span>

<span class="token comment">// 对象 | 设置为any 正常</span>
<span class="token keyword">public</span> userinfo<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">// 数组</span>
list<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
items<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
userLists<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">28</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">38</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="组件生命周期"><a href="#组件生命周期" class="header-anchor">#</a> 组件生命周期</h3> <p>Angular 会按以下顺序执行钩子方法。你可以用它来执行以下类型的操作。</p> <table><thead><tr><th style="text-align:left;">钩子方法</th> <th style="text-align:left;">用途</th> <th style="text-align:left;">时机</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>ngOnChanges()</code></td> <td style="text-align:left;">当 Angular 设置或重新设置数据绑定的输入属性时响应。 该方法接受当前和上一属性值的 <code>SimpleChanges</code> 对象注意，这发生的非常频繁，所以你在这里执行的任何操作都会显著影响性能。</td> <td style="text-align:left;">在 <code>ngOnInit()</code> 之前以及所绑定的一个或多个输入属性的值发生变化时都会调用。注意，如果你的组件没有输入，或者你使用它时没有提供任何输入，那么框架就不会调用 <code>ngOnChanges()</code>。</td></tr> <tr><td style="text-align:left;"><code>ngOnInit()</code></td> <td style="text-align:left;">在 Angular 第一次显示数据绑定和设置指令/组件的输入属性之后，初始化指令/组件。</td> <td style="text-align:left;">在第一轮 <code>ngOnChanges()</code> 完成之后调用，只调用<strong>一次</strong>。</td></tr> <tr><td style="text-align:left;"><code>ngDoCheck()</code></td> <td style="text-align:left;">检测，并在发生 Angular 无法或不愿意自己检测的变化时作出反应。</td> <td style="text-align:left;">紧跟在每次执行变更检测时的 <code>ngOnChanges()</code> 和 首次执行变更检测时的 <code>ngOnInit()</code> 后调用。</td></tr> <tr><td style="text-align:left;"><code>ngAfterContentInit()</code></td> <td style="text-align:left;">当 Angular 把外部内容投影进组件视图或指令所在的视图之后调用。</td> <td style="text-align:left;">第一次 <code>ngDoCheck()</code> 之后调用，只调用一次。</td></tr> <tr><td style="text-align:left;"><code>ngAfterContentChecked()</code></td> <td style="text-align:left;">每当 Angular 检查完被投影到组件或指令中的内容之后调用</td> <td style="text-align:left;"><code>ngAfterContentInit()</code> 和每次 <code>ngDoCheck()</code> 之后调用</td></tr> <tr><td style="text-align:left;"><code>ngAfterViewInit()</code></td> <td style="text-align:left;">当 Angular 初始化完组件视图及其子视图或包含该指令的视图之后调用</td> <td style="text-align:left;">第一次 <code>ngAfterContentChecked()</code> 之后调用，只调用一次。</td></tr> <tr><td style="text-align:left;"><code>ngAfterViewChecked()</code></td> <td style="text-align:left;">每当 Angular 做完组件视图和子视图或包含该指令的视图的变更检测之后调用。</td> <td style="text-align:left;"><code>ngAfterViewInit()</code> 和每次 <code>ngAfterContentChecked()</code> 之后调用。</td></tr> <tr><td style="text-align:left;"><code>ngOnDestroy()</code></td> <td style="text-align:left;">每当 Angular 每次销毁指令/组件之前调用并清扫。 在这儿反订阅可观察对象和分离事件处理器，以防内存泄漏</td> <td style="text-align:left;">在 Angular 销毁指令或组件之前立即调用。</td></tr></tbody></table> <h3 id="创建模块"><a href="#创建模块" class="header-anchor">#</a> 创建模块</h3> <blockquote><p><strong>ng g c 模块名称 | 命令创建</strong></p></blockquote> <p>ng g c 模块名称  |  将会在app 目录下生成一个模块组件</p> <p>注意: 报错  ng : 无法加载文件 C:\Users\Lujun\Documents\node-v16.15.0-win-x64\ng.ps1，因为在此系统上禁止运行脚本</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token number">1.</span> 首先在win10的搜索框中输入windows <span class="token class-name">PowerShell</span>，并选择以管理员的身份运行
<span class="token number">2.</span> 打开后，输入以下命令 set<span class="token operator">-</span><span class="token class-name">ExecutionPolicy</span> <span class="token class-name">RemoteSigned</span>
<span class="token number">3.</span> 再输入<span class="token class-name">A</span>，更改权限
<span class="token number">4.</span> get<span class="token operator">-</span><span class="token class-name">ExecutionPolicy</span>
<span class="token number">5.</span> 显示<span class="token class-name">RemoteSigned</span>即可
</code></pre></div><p><img src="https://gitee.com/LuisApai/Apai_image_MD/raw/master%5Cimage-20221023110648504.png" alt="image-20221023110648504"></p> <blockquote><p><strong>Angular Files 插件创建</strong></p></blockquote> <p><img src="https://gitee.com/LuisApai/Apai_image_MD/raw/master%5Cimage-20221023110416876.png" alt="image-20221023110416876"></p> <h3 id="组件生命周期-2"><a href="#组件生命周期-2" class="header-anchor">#</a> 组件生命周期</h3> <p>Angular 会按以下顺序执行钩子方法。你可以用它来执行以下类型的操作。</p> <table><thead><tr><th style="text-align:left;">钩子方法</th> <th style="text-align:left;">用途</th> <th style="text-align:left;">时机</th></tr></thead> <tbody><tr><td style="text-align:left;">ngOnChanges()</td> <td style="text-align:left;">当 Angular 设置或重新设置数据绑定的输入属性时响应。 该方法接受当前和上一属性值的 <code>SimpleChanges</code> 对象注意，这发生的非常频繁，所以你在这里执行的任何操作都会显著影响性能。</td> <td style="text-align:left;">在 <code>ngOnInit()</code> 之前以及所绑定的一个或多个输入属性的值发生变化时都会调用。注意，如果你的组件没有输入，或者你使用它时没有提供任何输入，那么框架就不会调用 <code>ngOnChanges()</code>。</td></tr> <tr><td style="text-align:left;">ngOnInit()</td> <td style="text-align:left;">在 Angular 第一次显示数据绑定和设置指令/组件的输入属性之后，初始化指令/组件。</td> <td style="text-align:left;">在第一轮 <code>ngOnChanges()</code> 完成之后调用，只调用<strong>一次</strong>。</td></tr> <tr><td style="text-align:left;">ngDoCheck()</td> <td style="text-align:left;">检测，并在发生 Angular 无法或不愿意自己检测的变化时作出反应。</td> <td style="text-align:left;">紧跟在每次执行变更检测时的 <code>ngOnChanges()</code> 和 首次执行变更检测时的 <code>ngOnInit()</code> 后调用。</td></tr> <tr><td style="text-align:left;">ngAfterContentInit()</td> <td style="text-align:left;">当 Angular 把外部内容投影进组件视图或指令所在的视图之后调用。</td> <td style="text-align:left;">第一次 <code>ngDoCheck()</code> 之后调用，只调用一次。</td></tr> <tr><td style="text-align:left;">ngAfterContentChecked()</td> <td style="text-align:left;">每当 Angular 检查完被投影到组件或指令中的内容之后调用</td> <td style="text-align:left;"><code>ngAfterContentInit()</code> 和每次 <code>ngDoCheck()</code> 之后调用</td></tr> <tr><td style="text-align:left;">ngAfterViewInit()</td> <td style="text-align:left;">当 Angular 初始化完组件视图及其子视图或包含该指令的视图之后调用</td> <td style="text-align:left;">第一次 <code>ngAfterContentChecked()</code> 之后调用，只调用一次。</td></tr> <tr><td style="text-align:left;">ngAfterViewChecked()</td> <td style="text-align:left;">每当 Angular 做完组件视图和子视图或包含该指令的视图的变更检测之后调用。</td> <td style="text-align:left;"><code>ngAfterViewInit()</code> 和每次 <code>ngAfterContentChecked()</code> 之后调用。</td></tr> <tr><td style="text-align:left;">ngOnDestroy()</td> <td style="text-align:left;">每当 Angular 每次销毁指令/组件之前调用并清扫。 在这儿反订阅可观察对象和分离事件处理器，以防内存泄漏</td> <td style="text-align:left;">在 Angular 销毁指令或组件之前立即调用。</td></tr></tbody></table> <h3 id="组件交互"><a href="#组件交互" class="header-anchor">#</a> 组件交互</h3> <h4 id="input-子获取父数据"><a href="#input-子获取父数据" class="header-anchor">#</a> @Input | 子获取父数据</h4> <p>父组件通过<code>@Input</code>给子组件绑定属性设置输入类数据</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 父组件 HTML</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 使用 子组件的名称标签可渲染其视图 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>app<span class="token operator">-</span>my<span class="token operator">-</span>user <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;'tina'&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>app<span class="token operator">-</span>my<span class="token operator">-</span>user<span class="token operator">&gt;</span>

<span class="token comment">// 子组件 js</span>
<span class="token comment">// 引入 Input </span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> ViewChild<span class="token punctuation">,</span> Output<span class="token punctuation">,</span> EventEmitter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token comment">// 定义name变量可能是父组件的数据</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Input</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
name<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取父组件的数据 tina</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="output-子触发父事件传值"><a href="#output-子触发父事件传值" class="header-anchor">#</a> @Output | 子触发父事件传值</h4> <p>父组件给子组件传递一个事件，子组件通过<code>@Output</code>弹射触发事件</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 父组件使用 子组件的名称标签可渲染其视图 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>app<span class="token operator">-</span>my<span class="token operator">-</span><span class="token function">user</span> <span class="token punctuation">(</span>addList<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;addListFun($event)&quot;</span><span class="token operator">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-my-user</span><span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span>div <span class="token operator">*</span>ngFor<span class="token operator">=</span><span class="token string">&quot;let color of list let i=index let odd=odd&quot;</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token punctuation">{</span>odd<span class="token punctuation">}</span><span class="token punctuation">}</span> 
  <span class="token punctuation">{</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span><span class="token punctuation">}</span> 
  <span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
list<span class="token operator">:</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">]</span>
<span class="token function">addListFun</span><span class="token punctuation">(</span><span class="token parameter">strs<span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// strs获取到子组件的值 添加list数组</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token operator">?.</span><span class="token function">push</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 子组件触发按钮 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> ViewChild<span class="token punctuation">,</span> Output<span class="token punctuation">,</span> EventEmitter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token function">button</span> <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;pushList('aaa')&quot;</span><span class="token operator">&gt;</span>子组件按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">// 会触发父组件的addListFun方法并传值</span>
@<span class="token function">Output</span><span class="token punctuation">(</span><span class="token punctuation">)</span> addList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">pushList</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>addList<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'子组件传递的数据'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="viewchild-父获取子数据"><a href="#viewchild-父获取子数据" class="header-anchor">#</a> @ViewChild() | 父获取子数据</h4> <p>通过<code>ViewChild</code>获取子组件实例，获取子组件数据</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 父组件使用 子组件的名称标签可渲染其视图 给予标记<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>app<span class="token operator">-</span>my<span class="token operator">-</span>user #myChild <span class="token operator">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-my-user</span><span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token function">button</span> <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;getView($event)&quot;</span><span class="token operator">&gt;</span>获取<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">// 获取子组件的实例</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> ViewChild<span class="token punctuation">,</span> Output<span class="token punctuation">,</span> EventEmitter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
@<span class="token function">ViewChild</span><span class="token punctuation">(</span><span class="token string">'myChild'</span><span class="token punctuation">)</span> child<span class="token operator">:</span> any<span class="token punctuation">;</span>
<span class="token function">getView</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span>any</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">)</span>
    <span class="token comment">// 通过标记调用子组件的方法</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">.</span><span class="token function">zizujan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子组件的js</span>
<span class="token function">zizujan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'子组件的方法'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="angular-服务"><a href="#angular-服务" class="header-anchor">#</a> Angular 服务</h2> <blockquote><p>Angular中，把从组件内抽离出来的代码叫服务，服务的本质就是函数</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code>官方认为组件不应该直接获取或保存数据， 它们应该聚焦于展示数据，而把数据访问的职责委托给某个服务。
而服务就充当着数据访问，逻辑处理的功能。把组件和服务区分开，以提高模块性和复用性。通过把组件中和视图有关的功能与其他类型的处理分离开，可以让组件类更加精简、高效。
</code></pre></div><h3 id="创建服务"><a href="#创建服务" class="header-anchor">#</a> 创建服务</h3> <p>1.使用命令 | ng g s 服务名 | 创建一个服务，通过**@Injectable()**装饰器标识服务。</p> <p>2.Angular Files 插件创建</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 导入Injectable装饰器</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token comment">// 使用Injectable装饰器声明服务</span>
@<span class="token function">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 作用域设定，'root'表示默认注入，注入到AppModule里 | 也可以是 null</span>
  providedIn<span class="token operator">:</span> <span class="token string">'root'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyHomeserviceService</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">// 定义一个变量</span>
  fuwu<span class="token operator">:</span>string <span class="token operator">=</span> <span class="token string">'这是一个服务里的变量'</span><span class="token punctuation">;</span>

  <span class="token comment">// 定义一个方法</span>
  <span class="token function">getdata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'这是一个服务里的方法'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><h3 id="依赖注入"><a href="#依赖注入" class="header-anchor">#</a> 依赖注入</h3> <p>组件中如何使用服务呢，必须将服务依赖注入系统、组件或者模块，才能够使用服务。我们可以用<strong>注册提供商</strong>和<strong>根注入器</strong>实现**。**</p> <p>该服务本身是 CLI 创建的一个类，并且加上了 <code>@Injectable()</code> 装饰器。默认情况下，该装饰器是用 <code>providedIn</code> 属性进行配置的，它会为该服务创建一个提供商。</p> <p><strong>providedIn</strong>：</p> <p>'root' ：注入到AppModule，提供该服务，所有子组件都可以使用（推荐）</p> <p>null ： 不设定服务作用域（不推荐）</p> <p>组件名：只作用于该组件（懒加载模式）</p> <blockquote><p>app.module.ts 引入注入</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormsModule<span class="token punctuation">,</span> ReactiveFormsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.component'</span><span class="token punctuation">;</span>
<span class="token comment">// 引入服务</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyHomeserviceService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./my-home/my-homeservice.service'</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token operator">:</span> <span class="token punctuation">[</span>		
    AppComponent<span class="token punctuation">,</span>
      MyHomeComponent<span class="token punctuation">,</span>
      MyLoginComponent<span class="token punctuation">,</span>
      MyPipetestPipe<span class="token punctuation">,</span>  <span class="token comment">// 添加管道</span>
      MyUserComponent
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    FormsModule<span class="token punctuation">,</span>
    ReactiveFormsModule<span class="token punctuation">,</span>
    BrowserModule<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 添加服务</span>
    MyHomeserviceService 
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  bootstrap<span class="token operator">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><blockquote><p>组件引入注入</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span> ViewChild<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormControl<span class="token punctuation">,</span> FormGroup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>
<span class="token comment">// 引入服务</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyHomeserviceService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../my-home/my-homeservice.service'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-my-home'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./my-home.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./my-home.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyHomeComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>

  <span class="token comment">// 注入服务</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> homeService<span class="token operator">:</span> MyHomeserviceService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
  fuwu<span class="token operator">:</span>string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token function">fuwuFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 服务的对象 其中只需点变量方法即可调用</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>homeService<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用服务里的变量</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fuwu <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>homeService<span class="token punctuation">.</span>fuwu<span class="token punctuation">;</span>
    <span class="token comment">// 调用服务的方法</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>homeService<span class="token punctuation">.</span><span class="token function">getdata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="angular-指令"><a href="#angular-指令" class="header-anchor">#</a> Angular 指令</h2> <h3 id="差值表达式"><a href="#差值表达式" class="header-anchor">#</a> 差值表达式</h3> <blockquote><p></p></blockquote> <p>可渲染: |  字符串  |  字符串拼接  |  简单的运算  |  三元表达式  |</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// my-home.component.ts 定义变量数据</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyHomeComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">' 字符串数据 '</span><span class="token punctuation">;</span>
    one<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    tow<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 在 HTML 渲染</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>差值表达式指令<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token string">'拼接: '</span> <span class="token operator">+</span> title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>运算<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>one <span class="token operator">+</span> tow<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>三元表达式<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token boolean">true</span> <span class="token operator">?</span> one <span class="token operator">:</span> tow<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>

<span class="token comment">// 结果</span>
差值表达式指令
字符串数据
拼接<span class="token operator">:</span> 字符串数据
运算<span class="token operator">:</span> <span class="token number">3</span>
三元表达式<span class="token operator">:</span> <span class="token number">1</span>
</code></pre></div><h3 id="属性绑定"><a href="#属性绑定" class="header-anchor">#</a> 属性绑定</h3> <blockquote><p>[属性名] = &quot;'值'&quot;  |   [属性名] = &quot;变量名&quot;  |  [ngClass]=&quot;变量名&quot;</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code>// 定义变量数据
box1:string = 'c1';
box3:string = 'box1 box2 box3';
// 渲染
<span class="token comment">&lt;!-- 直接给予属性值 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[class]</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span><span class="token punctuation">'</span>box<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>属性绑定: 赋值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 赋予变量值 会去js里找值 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[class]</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>属性绑定: 变量<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 值为真:class=box2 反之不是 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[class.box2]</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>属性绑定: 判断赋值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 赋予变量值 可设置多个值 box3:string = 'box1 box2 box3';--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[class]</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>box3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>属性绑定: 多属性值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 直接赋值不是变量 为true赋值 反之false不赋值 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[class]</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>{box1:true, box2:true}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>属性绑定: 条件属性值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 数组多个赋值 注意: ''直接赋值 反之box1是变量 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[class]</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>[box1, <span class="token punctuation">'</span>boxstr<span class="token punctuation">'</span>, <span class="token punctuation">'</span>boxint<span class="token punctuation">'</span>]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>属性绑定: 数组属性<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 与上方功能一致 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[ngClass]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ngclas 属性绑定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
// 结果
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div_</span> <span class="token attr-name">_ngcontent-uji-c17</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>属性绑定:赋值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div_</span> <span class="token attr-name">_ngcontent-uji-c17</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>属性绑定:变量<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div_</span> <span class="token attr-name">_ngcontent-uji-c17</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>属性绑定:判断赋值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div_</span> <span class="token attr-name">ngcontent-uji-c17</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box1 box2 box3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>属性绑定:多属性值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div_</span> <span class="token attr-name">_ngcontent-uji-c17</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box1 box2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>属性绑定:条件属性值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div_</span> <span class="token attr-name">ngcontent-uji-c17</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boxint boxstr c1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 属性绑定:数组属性<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div_</span> <span class="token attr-name">ngcontent-wjv-c17</span> <span class="token attr-name">ng-reflect-ng-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ngclas属性绑定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="样式绑定"><a href="#样式绑定" class="header-anchor">#</a> 样式绑定</h3> <blockquote><p>[ngStyle]=&quot;{'color':'red'}&quot;</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">[style.color]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>单一样式绑定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">[style.width.px]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>600<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>单一样式绑定带单位<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">[style]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>color:red;width:900px<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>多样式绑定 字符串<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">[style]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>color<span class="token punctuation">'</span>:<span class="token punctuation">'</span>red<span class="token punctuation">'</span>,<span class="token punctuation">'</span>width<span class="token punctuation">'</span>:<span class="token punctuation">'</span>900px<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>多样式绑定 对象<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">[ngStyle]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>color<span class="token punctuation">'</span>:<span class="token punctuation">'</span>red<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ngstyle 多样式绑定 对象<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">[style]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>color<span class="token punctuation">'</span>: false ? <span class="token punctuation">'</span>red<span class="token punctuation">'</span> : <span class="token punctuation">'</span>black<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ngstyle 三元表达式 样式绑定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="条件判断"><a href="#条件判断" class="header-anchor">#</a> 条件判断</h3> <p>*<strong>ngIf</strong>   是直接影响元素是否被渲染，而非控制元素的显示和隐藏</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
    isMax <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    isMin <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方式一</span>
<span class="token operator">&lt;</span>div <span class="token operator">*</span>ngIf<span class="token operator">=</span><span class="token string">&quot;isMax&quot;</span><span class="token operator">&gt;</span>Max title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span>div <span class="token operator">*</span>ngIf<span class="token operator">=</span><span class="token string">&quot;isMin&quot;</span><span class="token operator">&gt;</span>Min title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 
<span class="token comment">//解析完</span>
<span class="token operator">&lt;</span>ng<span class="token operator">-</span>template <span class="token punctuation">[</span>ngIf<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;isMax&quot;</span><span class="token operator">&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Max title</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">&gt;</span></span>
 
<span class="token comment">// 方式二</span>
<span class="token operator">&lt;</span>ng<span class="token operator">-</span>container <span class="token operator">*</span>ngIf<span class="token operator">=</span><span class="token string">&quot;isMax; else elseTemplate&quot;</span><span class="token operator">&gt;</span>
       isMax为<span class="token boolean">true</span> 渲染
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span>ng<span class="token operator">-</span>template #elseTemplate<span class="token operator">&gt;</span>
    isMax为<span class="token boolean">false</span> 不渲染
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">// 方式三</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
    status <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>ul <span class="token punctuation">[</span>ngSwitch<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;status&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li <span class="token operator">*</span>ngSwitchCase<span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token operator">&gt;</span>已支付<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span>li <span class="token operator">*</span>ngSwitchCase<span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span>订单已经确认<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> 
    <span class="token operator">&lt;</span>li <span class="token operator">*</span>ngSwitchCase<span class="token operator">=</span><span class="token string">&quot;3&quot;</span><span class="token operator">&gt;</span>已发货<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span>li <span class="token operator">*</span>ngSwitchDefault<span class="token operator">&gt;</span>无效<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="循环语句"><a href="#循环语句" class="header-anchor">#</a> 循环语句</h3> <blockquote><p>解析器会把 <code>let color</code>、<code>let i</code> 和 <code>let odd</code> 翻译成命名变量 <code>color</code>、<code>i</code> 和 <code>odd</code></p></blockquote> <ul><li><p>微语法解析器接收of，会将它的首字母大写(Of)，然后加上属性的指令名(ngFor)前缀，它最终生成的名字是 ngFor 的输入属性(colors)</p></li> <li><p>NgFor  指令在列表上循环，每个循环中都会设置和重置它自己的上下文对象上的属性。</p></li> <li><p>这些属性包括 <code>index</code> 和 <code>odd</code> 以及一个特殊的属性名 <code>$implicit</code>(隐式变量)</p></li> <li><p>Angular 将 let-color 设置为此上下文中 $implicit 属性的值， 它是由 NgFor 用当前迭代中的 colors 初始化的</p></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
      colors<span class="token operator">:</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'green'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方式一</span>
<span class="token operator">&lt;</span>div <span class="token operator">*</span>ngFor<span class="token operator">=</span><span class="token string">&quot;let color of colors let i=index let odd=odd&quot;</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token punctuation">{</span>odd<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment">// 遍历的值</span>
  <span class="token punctuation">{</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment">// 下标 0++</span>
  <span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token comment">// 方式二</span>
<span class="token operator">&lt;</span>ng<span class="token operator">-</span>template ngFor <span class="token keyword">let</span><span class="token operator">-</span>color <span class="token punctuation">[</span>ngForOf<span class="token punctuation">]</span><span class="token operator">=</span> <span class="token string">&quot;colors&quot;</span> <span class="token keyword">let</span><span class="token operator">-</span>i<span class="token operator">=</span><span class="token string">&quot; index&quot;</span> <span class="token keyword">let</span><span class="token operator">-</span>odd<span class="token operator">=</span><span class="token string">&quot;odd&quot;</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>odd<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>i<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ng<span class="token operator">-</span>template<span class="token operator">&gt;</span>


<span class="token comment">//解析完</span>
<span class="token operator">&lt;</span>ng<span class="token operator">-</span>template ngFor <span class="token keyword">let</span><span class="token operator">-</span>color <span class="token punctuation">[</span>ngForOf<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;colors&quot;</span> <span class="token keyword">let</span><span class="token operator">-</span>i<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> <span class="token keyword">let</span><span class="token operator">-</span>odd<span class="token operator">=</span><span class="token string">&quot;odd&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>odd<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ng<span class="token operator">-</span>template<span class="token operator">&gt;</span>
</code></pre></div><h3 id="事件绑定"><a href="#事件绑定" class="header-anchor">#</a> 事件绑定</h3> <blockquote><p>(事件)=&quot;方法名称(实参)&quot; |  Angular 的事件绑定语法由等号左侧括号内的目标事件名和右侧引号内的模板语句组成。</p></blockquote> <p>事件对象通过<code>$event</code>传递</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
    <span class="token function">onSave</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'点击了按钮'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">inpchange</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取表单的值</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 设置按钮的点击事件 | $event:事件对象 | 注意传参 在方法必须设置形参</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;inpchange($event)&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token function">button</span> <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;onSave($event)&quot;</span><span class="token operator">&gt;</span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="双向绑定"><a href="#双向绑定" class="header-anchor">#</a> 双向绑定</h3> <ul><li><p>双向绑定是应用中的组件共享数据的一种方式。使用双向绑定绑定来侦听事件并在父组件和子组件之间同步更新值</p></li> <li><p>ngModel指令<strong>只对表单元素有效</strong>，所以在使用之前需要导入<code>FormsModule</code>板块</p></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> FormsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>
 
<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 申明组件内用到的视图</span>
  declarations<span class="token operator">:</span> <span class="token punctuation">[</span>
    AppComponent<span class="token punctuation">,</span>
    HelloComponent<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">//引入模块需要的类</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    BrowserModule<span class="token punctuation">,</span>
    AppRoutingModule<span class="token punctuation">,</span>
    FormsModule
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">//全局服务</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">//根组件</span>
  bootstrap<span class="token operator">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code>export class AppComponent {
  userName='';
}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    输入: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">[(ngModel)]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>你输入了: {{userName}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="表单控件"><a href="#表单控件" class="header-anchor">#</a> 表单控件</h3> <blockquote><p>使用表单控件有三个步骤。</p></blockquote> <ol><li>在你的应用中注册响应式表单模块。该模块声明了一些你要用在响应式表单中的指令。</li> <li>生成一个新的 <code>FormControl</code> 实例，并把它保存在组件中。</li> <li>在模板中注册这个 <code>FormControl</code>。</li></ol> <p><strong>注册响应式表单模块</strong></p> <p>要使用响应式表单控件，就要从 <code>@angular/forms</code> 包中导入 <code>ReactiveFormsModule</code>，并把它添加到你的 NgModule 的 <code>imports</code> 数组中。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// app.module.ts 引入表单控件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ReactiveFormsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>
 
@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 注册表单控件</span>
    ReactiveFormsModule
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><p><strong>要注册一个表单控件</strong></p> <p>就要导入 <code>FormControl</code> 类并创建一个 <code>FormControl</code> 的新实例，将其保存为类的属性。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token comment">// 导入表单控件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormControl <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>
 
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-name-editor'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./name-editor.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./name-editor.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">NameEditorComponent</span> <span class="token punctuation">{</span>

<span class="token comment">// 使用这种模板绑定语法，把该表单控件注册给了模板中名为 name 的输入元素。</span>
<span class="token comment">// 这样，表单控件和 DOM 元素就可以互相通讯了：视图会反映模型的变化，模型也会反映视图中的变化</span>

  <span class="token comment">// 创建表单控件变量 biaodan</span>
  biaodan<span class="token operator">:</span>FormControl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">updatebiaodan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 修改表单控件的值</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>biaodan<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">'updatebiaodan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>
    表单数据 | [formControl]=&quot;表单控件的变量&quot;:
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[formControl]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>biaodan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    表单 变量.Value: {{ biaodan.value }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updatebiaodan()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>修改表单控件的值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="表单控件分组"><a href="#表单控件分组" class="header-anchor">#</a> 表单控件分组</h3> <p>表单中通常会包含几个相互关联的控件。响应式表单提供了两种把多个相关控件分组到同一个输入表单中的方法</p> <p>要将表单组添加到此组件中，请执行以下步骤。</p> <ol><li>创建一个 <code>FormGroup</code> 实例。</li> <li>把这个 <code>FormGroup</code> 模型关联到视图。</li> <li>保存表单数据。</li></ol> <p><strong>创建一个 FormGroup 实例</strong></p> <p>在组件类中创建一个名叫 <code>loginForm</code> 的属性，并设置为 <code>FormGroup</code> 的一个新实例。要初始化这个 <code>FormGroup</code>，请为构造函数提供一个由控件组成的对象，对象中的每个名字都要和表单控件的名字一一对应</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token comment">// 导入表单组</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormGroup<span class="token punctuation">,</span> FormControl <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>
 
@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-profile-editor'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./profile-editor.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./profile-editor.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ProfileEditorComponent</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建表单组</span>
  loginForm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">getform</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取表单的值</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">.</span>value<span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">.</span>value<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
 
<span class="token comment">// 模板渲染</span>
<span class="token operator">&lt;</span>form <span class="token punctuation">[</span>formGroup<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;loginForm&quot;</span><span class="token operator">&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    账号:
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">formControlName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    密码:
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">formControlName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;button (click)=&quot;getform()&quot;&gt;获取表单组数据</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre></div><h3 id="表单验证"><a href="#表单验证" class="header-anchor">#</a> 表单验证</h3> <p>表单元素添加<code>required</code>关键字表示必填，通过绑定<code>ngModel</code>的引用可以拿到到当前组件的信息，通过引用获取到验证的信息</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span>  <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- required:必填项 | #nameInp:获取表单的值来校验 --&gt;</span>
    账号：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">required</span> <span class="token attr-name">#nameInp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ngModel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[(ngModel)]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fromData.name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 校验通过:true 反之:false | 可以再js调用 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{nameInp.valid}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    密码：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">required</span>  <span class="token attr-name">#pasInp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ngModel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[(ngModel)]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fromData.password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{pasInp.valid}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 该参数为表单的对象 里面包含了数据等等信息 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subBtnFUn(nameInp)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
    fromData<span class="token operator">=</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
        password<span class="token operator">:</span><span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">subBtnFUn</span><span class="token punctuation">(</span>obj<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>定义不同状态下表单的样式</p></blockquote> <p>我们还可以通过 <strong>ngModel</strong> 跟踪修改状态与有效性验证，它使用了三个 CSS 类来更新控件，以便反映当前状态。</p> <table><thead><tr><th style="text-align:left;">状态</th> <th style="text-align:left;">为 true 时的类</th> <th style="text-align:left;">为 false 时的类</th></tr></thead> <tbody><tr><td style="text-align:left;">控件已经被访问过</td> <td style="text-align:left;"><code>ng-touched</code></td> <td style="text-align:left;"><code>ng-untouched</code></td></tr> <tr><td style="text-align:left;">控件值已经变化</td> <td style="text-align:left;"><code>ng-dirty</code></td> <td style="text-align:left;"><code>ng-pristine</code></td></tr> <tr><td style="text-align:left;">控件值是有效的</td> <td style="text-align:left;"><code>ng-valid</code></td> <td style="text-align:left;"><code>ng-invalid</code></td></tr></tbody></table> <h3 id="自定义表单验证"><a href="#自定义表单验证" class="header-anchor">#</a> 自定义表单验证</h3> <h3 id="管道"><a href="#管道" class="header-anchor">#</a> 管道</h3> <p>管道的作用就是传输。不同的管道具有不同的作用。(其实就是处理数据)</p> <blockquote><p><strong>注意: 字母小写, 去掉pipe进行使用, 还可传入参数</strong></p></blockquote> <table><thead><tr><th>管道</th> <th>功能</th></tr></thead> <tbody><tr><td>date</td> <td>日期管道，格式化日期</td></tr> <tr><td>json</td> <td>将输入数据对象经过JSON.stringify()方法转换后输出对象的字符串</td></tr> <tr><td>uppercase</td> <td>将文本所有小写字母转换成大写字母</td></tr> <tr><td>lowercase</td> <td>将文本所有大写字母转换成小写字母</td></tr> <tr><td>decimal</td> <td>将数值按照特定的格式显示文本</td></tr> <tr><td>currentcy</td> <td>将数值进行货币格式化处理</td></tr> <tr><td>slicePipe</td> <td>将数组或者字符串裁剪成新子集</td></tr> <tr><td>percent</td> <td>将数值转百分比格式</td></tr></tbody></table> <blockquote><p><strong>pipe 用法</strong></p></blockquote> <ul><li><p> (其中‘|’是管道操作符)</p></li> <li><p>链式管道 </p></li> <li><p>管道流通方向自左向右，逐层执行</p></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 根据指定的格式进行时间的格式化 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{time | date:'yyyy-MM-dd HH:mm:ss'}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 多组管道 先进行全小写 然后再进行全大写 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{str | lowercase | uppercase}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>自定义管道</strong>  |  ng g p 管道名称</p></blockquote> <p>1.使用脚手架命令 | ng g p mypipetest</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Pipe<span class="token punctuation">,</span> PipeTransform <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Pipe</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'mypipetest'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyPipetestPipe</span> <span class="token keyword">implements</span> <span class="token class-name">PipeTransform</span> <span class="token punctuation">{</span>

  <span class="token function">transform</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> args<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
    <span class="token comment">// 管道的值</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 管道的参数</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token string">' 你好 '</span> <span class="token operator">+</span> args<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>2.添加至 app.module.ts</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormsModule<span class="token punctuation">,</span> ReactiveFormsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> AppRoutingModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app-routing.module'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyHomeComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./my-home/my-home.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyLoginComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./my-login/my-login.component'</span><span class="token punctuation">;</span>
<span class="token comment">// 引入管道</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyPipetestPipe <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./pipe/my-pipetest.pipe'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token operator">:</span> <span class="token punctuation">[</span>	
    AppComponent<span class="token punctuation">,</span>
      MyHomeComponent<span class="token punctuation">,</span>
      MyLoginComponent<span class="token punctuation">,</span>
      MyPipetestPipe  <span class="token comment">// 添加管道</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    FormsModule<span class="token punctuation">,</span>
    ReactiveFormsModule<span class="token punctuation">,</span>
    BrowserModule<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  bootstrap<span class="token operator">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

</code></pre></div><p>3.调用即可</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{str | mypipetest:'实参'}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="angular-路由"><a href="#angular-路由" class="header-anchor">#</a> Angular 路由</h2> <blockquote><p>路由就是连接组件的筋络,它也是树形结构的.有了它,就可以在angular中实现路径的导航模式</p></blockquote> <h3 id="路由基本使用"><a href="#路由基本使用" class="header-anchor">#</a> 路由基本使用</h3> <blockquote><p><strong>路由器</strong>是一个调度中心,它是一套规则的列表,能够查询当前URL对应的规则,并呈现出相应的视图.</p></blockquote> <p><strong>路由</strong>是列表里面的一个规则,即路由定义,它有很多功能字段:</p> <ul><li><strong>path</strong>字段,表示该路由中的URL路径部分</li> <li><strong>Component</strong>字段,表示与该路由相关联的组件</li></ul> <p>每个带路由的Angular应用都有一个路由器服务的单例对象,通过路由定义的列表进行配置后使用。</p> <h4 id="app-routing-module-ts"><a href="#app-routing-module-ts" class="header-anchor">#</a> app-routing.module.ts</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RouterModule<span class="token punctuation">,</span> Routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>

<span class="token comment">// 引入组件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyHomeComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./my-home/my-home.component'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> routes<span class="token operator">:</span> Routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// 配置路由</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> MyHomeComponent
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>RouterModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span>routes<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  exports<span class="token operator">:</span> <span class="token punctuation">[</span>RouterModule<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppRoutingModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

</code></pre></div><h4 id="app-module-ts"><a href="#app-module-ts" class="header-anchor">#</a> app.module.ts</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormsModule<span class="token punctuation">,</span> ReactiveFormsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>

<span class="token comment">// 引入路由模块</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RouterModule<span class="token punctuation">,</span> Routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyHomeComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./my-home/my-home.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyLoginComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./my-login/my-login.component'</span><span class="token punctuation">;</span>
<span class="token comment">// 引入管道</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyPipetestPipe <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./pipe/my-pipetest.pipe'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyUserComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./my-user/my-user.component'</span><span class="token punctuation">;</span>

<span class="token comment">// 引入服务</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyHomeserviceService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./my-home/my-homeservice.service'</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token operator">:</span> <span class="token punctuation">[</span>		
    AppComponent<span class="token punctuation">,</span>
      MyHomeComponent<span class="token punctuation">,</span>
      MyLoginComponent<span class="token punctuation">,</span>
      <span class="token comment">// 添加管道</span>
      MyPipetestPipe<span class="token punctuation">,</span> 
      MyUserComponent
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    FormsModule<span class="token punctuation">,</span>
    ReactiveFormsModule<span class="token punctuation">,</span>
    BrowserModule<span class="token punctuation">,</span>
    <span class="token comment">// 注入路由模块</span>
    RouterModule
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 添加服务</span>
    MyHomeserviceService 
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  bootstrap<span class="token operator">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

</code></pre></div><h4 id="app-component-html"><a href="#app-component-html" class="header-anchor">#</a> app.component.html</h4> <div class="language-html extra-class"><pre class="language-html"><code>//路由导航 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">[routerLink]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[<span class="token punctuation">'</span>/home<span class="token punctuation">'</span>]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
 
//组件渲染输出
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-outlet</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-outlet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>工作流程：</p></blockquote> <ul><li>当浏览器地址栏的URL变化时，路径部分<code>/home</code>满足了列表中path为&quot;<strong>home</strong>&quot;的这个路由定义,激活对应<strong>HomeComponent</strong>的实例,显示它的视图</li> <li>当应用程序请求导航到路径<code>/hello</code>时,符合了另外的规则,激活对应视图且展示内容,并将该路径更新到浏览器地址栏和历史</li></ul> <h3 id="路由嵌套"><a href="#路由嵌套" class="header-anchor">#</a> 路由嵌套</h3> <h4 id="app-routing-module-ts-2"><a href="#app-routing-module-ts-2" class="header-anchor">#</a> app-routing.module.ts</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RouterModule<span class="token punctuation">,</span> Routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> MyLoginComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./pages/my-login/my-login.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyHomeComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./pages/my-home/my-home.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MySilingsiComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./pages/my-silingsi/my-silingsi.component'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> MyZujianoneComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./pages/My-zujian/my-zujianone/my-zujianone.component'</span><span class="token punctuation">;</span>

<span class="token comment">// 配置路由前 一定必须先引入组件的html并进行指向</span>
<span class="token keyword">const</span> routes<span class="token operator">:</span> Routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// 默认的路由 首页</span>
  <span class="token punctuation">{</span> 
    path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> 
    component<span class="token operator">:</span> MyLoginComponent 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 正常的路由导航</span>
  <span class="token punctuation">{</span> 
    path<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span> 
    component<span class="token operator">:</span> MyHomeComponent<span class="token punctuation">,</span>
    <span class="token comment">// 子路由</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'zujianone'</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> MyZujianoneComponent
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 通配符 不存在的路由 执行跳转页面</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'**'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> MySilingsiComponent
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>RouterModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span>routes<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  exports<span class="token operator">:</span> <span class="token punctuation">[</span>RouterModule<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppRoutingModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

</code></pre></div><h4 id="父组件-html"><a href="#父组件-html" class="header-anchor">#</a> 父组件 HTML</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 子路由跳转 注意路由的层级嵌套 | 与vue不同 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">[routerLink]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[<span class="token punctuation">'</span>/home/zujianone<span class="token punctuation">'</span>]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>组件 001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 子组件进行渲染标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-outlet</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-outlet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="路由传参"><a href="#路由传参" class="header-anchor">#</a> 路由传参</h3> <h4 id="query-键值对"><a href="#query-键值对" class="header-anchor">#</a> query: 键值对</h4> <blockquote><p>http://localhost:4200/home/zujianone?id=3&amp;name=张三</p></blockquote> <p>在a标签上添加一个参数queryParams，并通过<code>this.routerinfo.snapshot.queryParams</code>获取参数</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 父组件的跳转按钮上 加上queryParams并携带键值对形式的参数 '':字符串 没有'':变量名称</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 子路由跳转 注意路由的层级嵌套 <span class="token operator">|</span> 与vue不同 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a <span class="token punctuation">[</span>routerLink<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;['/home/zujianone']&quot;</span> <span class="token punctuation">[</span>queryParams<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;{id:3, name:name}&quot;</span><span class="token operator">&gt;</span>组件 <span class="token number">001</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 子组件进行渲染标签 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-outlet</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-outlet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 子组件js获取数据</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token comment">// 1.引入 ActivatedRoute</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ActivatedRoute<span class="token punctuation">,</span> Params<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-my-zujianone'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./my-zujianone.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./my-zujianone.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyZujianoneComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  <span class="token comment">// 2.注册 ActivatedRoute</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> routerinfo<span class="token operator">:</span>ActivatedRoute</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 3.通过键的名称获取数据</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>routerinfo<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>queryParams<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>routerinfo<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>queryParams<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  id<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="params-风格"><a href="#params-风格" class="header-anchor">#</a> params: /风格</h4> <blockquote><p>http://localhost:4200/home/zujianone/aa值/张三/张三cczhi</p></blockquote> <p>修改路由配置文件<code>path</code>,路由导航<code>a</code>标签<code>routerLink</code>后面数组的第二个参数为传递的值</p> <p>并且通过<code>subscribe</code>请阅的方式获取<code>name</code>参数</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 正常的路由导航</span>
<span class="token punctuation">{</span> 
 path<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span> 
   component<span class="token operator">:</span> MyHomeComponent<span class="token punctuation">,</span>
     <span class="token comment">// 子路由</span>
     children<span class="token operator">:</span> <span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
             <span class="token comment">// 指定后续参数的键</span>
             path<span class="token operator">:</span> <span class="token string">'zujianone/:aa/:bb/:cc'</span><span class="token punctuation">,</span>
             component<span class="token operator">:</span> MyZujianoneComponent
         <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 在按钮上 路径后即可传值 '':字符串 没有'':变量名称</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 子路由跳转 注意路由的层级嵌套 <span class="token operator">|</span> 与vue不同 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a <span class="token punctuation">[</span>routerLink<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;['/home/zujianone', 'aa值', name, name + 'cczhi']&quot;</span><span class="token operator">&gt;</span>组件 <span class="token number">001</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 子组件进行渲染标签 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-outlet</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-outlet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token comment">// 1.引入 Params</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ActivatedRoute<span class="token punctuation">,</span> Params<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-my-zujianone'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./my-zujianone.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./my-zujianone.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyZujianoneComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> routerinfo<span class="token operator">:</span>ActivatedRoute</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>routerinfo<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>queryParams<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>routerinfo<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>queryParams<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">// 3.根据路由指定的键获取跳转按钮的数据</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>routerinfo<span class="token punctuation">.</span>params<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">params<span class="token operator">:</span>Params</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>aa <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token string">'aa'</span><span class="token punctuation">]</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bb <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token string">'bb'</span><span class="token punctuation">]</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>cc <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token string">'cc'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  id<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  aa<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  bb<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  cc<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="angular-功能"><a href="#angular-功能" class="header-anchor">#</a> Angular 功能</h2> <h3 id="表单数据获取"><a href="#表单数据获取" class="header-anchor">#</a> 表单数据获取</h3> <h4 id="event-事件对象获取"><a href="#event-事件对象获取" class="header-anchor">#</a> $event : 事件对象获取</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;inpchange($event)&quot;</span><span class="token operator">&gt;</span>
    <span class="token function">inpchange</span><span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取表单的值</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="模板引用变量"><a href="#模板引用变量" class="header-anchor">#</a> 模板引用变量</h4> <p>模板变量可以帮助你在模板的另一部分使用这个部分的数据。使用模板变量，你可以执行某些任务，比如响应用户输入或微调应用的表单</p> <p>在模板中，要使用井号 <code>#</code> 来声明一个模板变量。下列模板变量 <code>#userName</code> 语法在 <code>&lt;input&gt;</code> 元素上声明了一个名为 <code>userName</code> 的变量</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>input #userName placeholder<span class="token operator">=</span><span class="token string">&quot;请输入用户名&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token function">button</span> <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;callUserName(userName.value)&quot;</span><span class="token operator">&gt;</span>Call<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
   <span class="token function">callUserName</span><span class="token punctuation">(</span>v<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Angular 根据你所声明的变量的位置给模板变量赋值：</p> <ul><li>如果在组件上声明变量，该变量就会引用该组件实例。</li> <li>如果在标准的 HTML 标记上声明变量，该变量就会引用该元素。</li> <li>如果你在 <code>&lt;ng-template&gt;</code> 元素上声明变量，该变量就会引用一个 <code>TemplateRef</code> 实例来代表此模板。</li></ul> <h2 id="angular-码云"><a href="#angular-码云" class="header-anchor">#</a> Angular 码云</h2> <h3 id="创建组件复制"><a href="#创建组件复制" class="header-anchor">#</a> 创建组件复制</h3> <h4 id="创建组件命令"><a href="#创建组件命令" class="header-anchor">#</a> 创建组件命令</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 路径是以app开始创建</span>
ng g c 路径 <span class="token operator">--</span>module<span class="token operator">=</span>routes<span class="token operator">/</span>admin <span class="token operator">--</span>inline<span class="token operator">-</span>style<span class="token operator">=</span><span class="token boolean">true</span> <span class="token operator">--</span>skip<span class="token operator">-</span>tests<span class="token operator">=</span><span class="token boolean">true</span>
ng g c <span class="token operator">/</span>pages<span class="token operator">/</span>plastic<span class="token operator">/</span>deburring<span class="token operator">/</span>deburring <span class="token operator">--</span>module<span class="token operator">=</span>routes<span class="token operator">/</span>admin <span class="token operator">--</span>inline<span class="token operator">-</span>style<span class="token operator">=</span><span class="token boolean">true</span> <span class="token operator">--</span>skip<span class="token operator">-</span>tests<span class="token operator">=</span><span class="token boolean">true</span>

ng g c <span class="token operator">/</span>pages<span class="token operator">/</span>system<span class="token operator">/</span>dim<span class="token operator">/</span>dim<span class="token operator">-</span>series<span class="token operator">/</span>dim<span class="token operator">-</span>series <span class="token operator">--</span>inline<span class="token operator">-</span>style<span class="token operator">=</span><span class="token boolean">true</span> <span class="token operator">--</span>skip<span class="token operator">-</span>tests<span class="token operator">=</span><span class="token boolean">true</span>
<span class="token comment">// 进入目录下创建</span>
<span class="token constant">PS</span> <span class="token constant">C</span><span class="token operator">:</span>\Users\码云\Documents\Mayun\sanitary<span class="token operator">-</span>web\src\pages\system\dim<span class="token operator">&gt;</span> ng g c dim<span class="token operator">-</span>brand<span class="token operator">/</span>dim<span class="token operator">-</span>brand

<span class="token comment">// 创建服务</span>
ng g s <span class="token operator">/</span>api<span class="token operator">/</span>base<span class="token operator">/</span>woodWorking<span class="token operator">/</span>woodWorking
<span class="token comment">// 进入目录下创建</span>
<span class="token constant">PS</span> <span class="token constant">C</span><span class="token operator">:</span>\Users\码云\Documents\Mayun\sanitary<span class="token operator">-</span>web\src\api\system<span class="token operator">&gt;</span> ng g s <span class="token operator">/</span>dim<span class="token operator">/</span>dimSeries<span class="token operator">/</span>dimSeries  

<span class="token comment">// 提交本地命令 --&gt; 还需提交到云端</span>
git commit <span class="token operator">--</span>no<span class="token operator">-</span>verify <span class="token operator">-</span>m <span class="token string">'提交备注信息'</span>
</code></pre></div><h4 id="组件的引入和注册"><a href="#组件的引入和注册" class="header-anchor">#</a> 组件的引入和注册</h4> <blockquote><p><strong>furniture.module.ts</strong></p></blockquote> <p>路径: src/app/routes/admin/furniture.module.ts</p> <p><img src="https://gitee.com/LuisApai/Apai_image_MD/raw/master%5Cimage-20221029094823899.png" alt="image-20221029094823899"></p> <blockquote><p><strong>furniture-routing.module.ts</strong>  |  配置路由</p></blockquote> <p>路径: src/app/routes/admin/furniture-routing.module.ts</p> <p><img src="https://gitee.com/LuisApai/Apai_image_MD/raw/master%5Cimage-20221029095223110.png" alt="image-20221029095223110"></p> <h4 id="组件的模块-页面"><a href="#组件的模块-页面" class="header-anchor">#</a> 组件的模块_页面</h4> <h5 id="html"><a href="#html" class="header-anchor">#</a> HTML</h5> <blockquote><p>unit-supplier-aging.component.html  |  页面模板</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--顶部搜索栏--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mat-elevation-z6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--顶部搜索框表单 | (ngSubmit)=&quot;onSubmit()&quot; 提交的方法--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex-center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(ngSubmit)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSubmit()<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[formGroup]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--顶部搜索框数据遍历 | formBases:对应js的指定数据--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-padding<span class="token punctuation">&quot;</span></span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let item of formBases<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-dynamic-form</span> <span class="token attr-name">[formBase]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[form]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-dynamic-form</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>operate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">mat-raised-button</span> <span class="token attr-name">[disabled]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!form.valid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changePage()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span>search<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>查询
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-raised-button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onReset()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span>restart_alt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>重置
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--数据渲染部分--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container-table mat-elevation-z6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--数据操作按钮栏--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>space-between<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>operate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-raised-button</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span>add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>
        添加
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-raised-button</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>openChooseWindow()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>material-icons<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> get_app <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>导入表格
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span> --&gt;
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-raised-button</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>exportExcel()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>material-icons<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>material-icons<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> file_upload <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>导出表格
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-raised-button</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>downloadExportExcel()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>material-icons<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>material-icons<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> get_app <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>下载模板
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-column-adjust</span> <span class="token attr-name">[localStorageName]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>localStorageName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[fixedColumns]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixedColumns<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">[displayedColumns]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>displayedColumns<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[showCol]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showCol<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(emitFixed)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeFixed($event)<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">(emitSelectAndDrop)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAndDrop()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-column-adjust</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example-loading-shade<span class="token punctuation">&quot;</span></span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isLoadingResults<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-spinner</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isLoadingResults<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-spinner</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
  <span class="token comment">&lt;!--数据列表--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example-table-container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--数据列表遍历渲染 | 需要将查询的集合数据赋值给变量dataSource --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">[dataSource]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">matSortActive</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>created<span class="token punctuation">&quot;</span></span> <span class="token attr-name">mat-table</span> <span class="token attr-name">matSort</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--列表数据行 | matColumnDef=&quot;字段名&quot; matSort [sticky]=&quot;isSticky['字段名']&quot;--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">matColumnDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">matSort</span> <span class="token attr-name">[sticky]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isSticky[<span class="token punctuation">'</span>number<span class="token punctuation">'</span>]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">mat-header-cell</span> <span class="token attr-name">*matHeaderCellDef</span> <span class="token attr-name">appDynamicColumnWidth</span><span class="token punctuation">&gt;</span></span>序号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">mat-cell</span> <span class="token attr-name">*matCellDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let row; let i = index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          {{ i + 1 }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">mat-footer-cell</span> <span class="token attr-name">*matFooterCellDef</span><span class="token punctuation">&gt;</span></span>合计<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">&gt;</span></span>
        
      <span class="token comment">&lt;!--列表数据行 | matColumnDef=&quot;字段名&quot; matSort [sticky]=&quot;isSticky['字段名']&quot;--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">matColumnDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beginAmount<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[sticky]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isSticky[<span class="token punctuation">'</span>beginAmount<span class="token punctuation">'</span>]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">mat-header-cell</span> <span class="token attr-name">*matHeaderCellDef</span> <span class="token attr-name">appDynamicColumnWidth</span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!--列表该列的列名--&gt;</span>  
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mat-sort-th<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">mat-sort-header</span><span class="token punctuation">&gt;</span></span>期初余额<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--列表该列的数据 | row表示本行.字段即可--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">mat-cell</span> <span class="token attr-name">*matCellDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          {{ row.beginAmount }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--列表该列的数据的合计 | 需在js数据内指定变量sum对象--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">mat-footer-cell</span> <span class="token attr-name">*matFooterCellDef</span><span class="token punctuation">&gt;</span></span>{{ sum.beginAmount }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">&gt;</span></span>
        
	  <span class="token comment">&lt;!--每栏的操作组--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">matColumnDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unitId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[stickyEnd]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isSticky[<span class="token punctuation">'</span>unitId<span class="token punctuation">'</span>]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">mat-header-cell</span> <span class="token attr-name">*matHeaderCellDef</span> <span class="token attr-name">appDynamicColumnWidth</span><span class="token punctuation">&gt;</span></span>操作<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">mat-cell</span> <span class="token attr-name">*matCellDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table-btn-grid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-icon-button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>detail(row)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">matTooltip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>详情<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span>details<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-icon-button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toExamine(row)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">matTooltip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>审核<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span>settings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-icon-button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abandon(row)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">matTooltip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>弃审<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span>compare_arrows<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-icon-button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadSpuTraitImg(row)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">matTooltip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>上传凭证<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span>cloud_upload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-icon-button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>edit(row)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">matTooltip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>修改<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span>edit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">mat-icon-button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>del(row)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">matTooltip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>删除<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">mat-footer-cell</span> <span class="token attr-name">*matFooterCellDef</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mat-row<span class="token punctuation">&quot;</span></span> <span class="token attr-name">*matNoDataRow</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mat-cell<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[colSpan]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>displayedColumns.length + 1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>没有数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">mat-header-row</span> <span class="token attr-name">*matHeaderRowDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>displayedColumns; sticky: true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">mat-row</span> <span class="token attr-name">*matRowDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let row; columns: displayedColumns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">mat-footer-row</span> <span class="token attr-name">*matFooterRowDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>displayedColumns; sticky: true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
  <span class="token comment">&lt;!--底部的翻页按钮栏--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>paginator<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-form-field</span> <span class="token attr-name">appearance</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>outline<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-label</span><span class="token punctuation">&gt;</span></span>跳转到<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-label</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">matInput</span> <span class="token attr-name">[(ngModel)]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(blur)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changePage()<span class="token punctuation">&quot;</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-form-field</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-paginator</span> <span class="token attr-name">[length]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resultsLength<span class="token punctuation">&quot;</span></span> <span class="token attr-name">showFirstLastButtons</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-paginator</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fileInput<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(change)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadFile($event)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/*<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chooseExcel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(change)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>importExcel($event)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/*<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

</code></pre></div><h5 id="component-ts"><a href="#component-ts" class="header-anchor">#</a> component.ts</h5> <blockquote><p>sale-reserve-order.component.ts  |  页面 JS 逻辑</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> ViewChild<span class="token punctuation">,</span> ChangeDetectorRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormGroup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MatDateRangePicker <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/material/datepicker'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MatDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/material/dialog'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MatPaginator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/material/paginator'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MatSort <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/material/sort'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MatTableDataSource <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/material/table'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ActivatedRoute<span class="token punctuation">,</span> Router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> nanoid <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'nanoid'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Authority <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/api/authority'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UnitInfoService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/api/base/unit-info/unit-info.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UnitMeetService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/api/base/unitMeet/unit-meet.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> sortOption<span class="token punctuation">,</span> ColSelectedService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/api/dim/col-selected.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PaymentMethodService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/api/dim/paymentMethod/payment-method.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FileUploadService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/api/system/file-upload/file-upload.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UserInfoService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/api/system/user-info/user-info.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ConfirmDialogComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/components/confirm-dialog/confirm-dialog.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ImageDialogComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/components/image-dialog/image-dialog.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormBase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/lib/class/form-base/form-base'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> autocompleteFilter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/lib/function/autocomplete'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> dateString <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/lib/function/dateFormat'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> downloadFile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/lib/function/download'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> isImage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/lib/function/isImage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> isZero <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/lib/method/isNum'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormBaseService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/lib/service/form-base/form-base.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> SnackBarService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/lib/service/snack-bar/snack-bar.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PermissionsService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/swagger/permissions/permissions.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> environment <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/environments/environment'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UnitMeetOperateComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../unitMeet/unit-meet-operate/unit-meet-operate.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UnitMeetToExamineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../unitMeet/unit-meet-to-examine/unit-meet-to-examine.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> unitMeetSearch<span class="token punctuation">,</span> unitMeetSum <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./unit-supplier-aging'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> merge<span class="token punctuation">,</span> debounceTime<span class="token punctuation">,</span> startWith<span class="token punctuation">,</span> <span class="token keyword">of</span> <span class="token keyword">as</span> observableOf<span class="token punctuation">,</span> switchMap<span class="token punctuation">,</span> map<span class="token punctuation">,</span> catchError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> paginatorSetup<span class="token punctuation">,</span> Response <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../../../api/data'</span><span class="token punctuation">;</span>
<span class="token comment">// 引入Service请求路径文件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UnitSupplierAgingService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/api/base/unitSupplierAging/unit-supplier-aging.service'</span><span class="token punctuation">;</span>
<span class="token comment">// 需引入定义变量的文件 Service</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token comment">// 储存渲染列表的变量对象</span>
  displayedUnitSupplierAgingColumns<span class="token punctuation">,</span>
  <span class="token comment">// 储存显示表格列的数据的变量对象</span>
  disColSelect<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/api/base/unitSupplierAging/unit-supplier-aging'</span><span class="token punctuation">;</span>


@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-unit-supplier-aging'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./unit-supplier-aging.component.html'</span><span class="token punctuation">,</span>
  <span class="token comment">// 指定项目的样式文件</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'../../../../css/table.scss'</span><span class="token punctuation">,</span> <span class="token string">'../../../../css/layout.scss'</span><span class="token punctuation">,</span> <span class="token string">'../../../../css/table-for-gj.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  styles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">UnitSupplierAgingComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  <span class="token comment">// 定义组件的名称</span>
  localStorageName<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'unitSupplierAging'</span><span class="token punctuation">;</span>
  <span class="token comment">// 指定html里的数据渲染的列表的字段 | 需引入定义变量的文件 | 需修改</span>
  displayedColumns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>colSelectedService<span class="token punctuation">.</span><span class="token function">getDateSort</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>localStorageName<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token operator">...</span>displayedUnitSupplierAgingColumns<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 指定页面表格右上角显示表格列的数据的变量对象 | 需引入定义变量的文件 | 需修改</span>
  showCol<span class="token operator">:</span> sortOption<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>colSelectedService<span class="token punctuation">.</span><span class="token function">getDateSort</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>localStorageName<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token operator">...</span>disColSelect<span class="token punctuation">]</span><span class="token punctuation">;</span>
  fixedColumns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>colSelectedService<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>localStorageName<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>colSelectedService<span class="token punctuation">.</span>fixedCol<span class="token punctuation">]</span><span class="token punctuation">;</span>
  isSticky<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> boolean <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> formBases<span class="token operator">:</span> FormBase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">[] = unitMeetSearch;
  @ViewChild(MatDateRangePicker) campaignTwoPicker!: MatDateRangePicker</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">;
  @ViewChild(MatSort) sort!: MatSort;
  form!: FormGroup;
  row: any;
  dataSource = new MatTableDataSource</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>unitMeetSum</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">([]);
  url = environment.url;
  // 详细权限
  // authority: Authority = this.permissionsService.getAuthority().authority;
  // 当前页数
  page = 0;
  // 总数
  resultsLength = 0;
  isLoadingResults = true;
  @ViewChild(MatPaginator) paginator!: MatPaginator;
  // 定义储存每列合计 的变量对象
  sum = </span><span class="token punctuation">{</span>
    beginAmount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    endAmount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    thirtyDaysAmount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    thirtyToSixtyDaysAmount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    sixtyToHundredTwentyDaysAmount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    hundredTwentyDaysAmount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token plain-text">;
  minId = nanoid();
  minId2 = nanoid();
  minId3 = nanoid();
  remark = '备注';

  constructor(
    private fbs: FormBaseService,
    private unitMeetService: UnitMeetService,
    private permissionsService: PermissionsService,
    private unitInfoService: UnitInfoService,
    private paymentMethodService: PaymentMethodService,
    private changeDetectorRef: ChangeDetectorRef,
    private userInfoService: UserInfoService,
    private snackBarService: SnackBarService,
    private fileUploadService: FileUploadService,
    private matDialog: MatDialog,
    private colSelectedService: ColSelectedService,
    private activatedRoute: ActivatedRoute,
    private router: Router,
    // 注入Service文件
    private unitSupplierAgingService: UnitSupplierAgingService,
  ) </span><span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  ngOnInit(): void </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>form <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fbs<span class="token punctuation">.</span><span class="token function">toFormGroup</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// this.form.controls['start'].valueChanges.subscribe((start) =&gt; {</span>
    <span class="token comment">//   if (this.form.value.end !== '') {</span>
    <span class="token comment">//     var startValue = new Date(dateString(start));</span>
    <span class="token comment">//     var endValue = new Date(dateString(this.form.value.end));</span>
    <span class="token comment">//     if (startValue &gt; endValue) {</span>
    <span class="token comment">//       this.snackBarService.open('开始日期比结束日期晚，请重新选择');</span>
    <span class="token comment">//     }</span>
    <span class="token comment">//   }</span>
    <span class="token comment">// });</span>
    <span class="token comment">// this.form.controls['end'].valueChanges.subscribe((end) =&gt; {</span>
    <span class="token comment">//   if (this.form.value.start !== '') {</span>
    <span class="token comment">//     var startValue = new Date(dateString(this.form.value.start));</span>
    <span class="token comment">//     var endValue = new Date(dateString(end));</span>
    <span class="token comment">//     if (startValue &gt; endValue) {</span>
    <span class="token comment">//       this.snackBarService.open('开始日期比结束日期晚，请重新选择');</span>
    <span class="token comment">//     }</span>
    <span class="token comment">//   }</span>
    <span class="token comment">// });</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeFixed</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>fixedColumns<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  ngAfterViewInit(): void </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageSize <span class="token operator">=</span> paginatorSetup<span class="token punctuation">.</span>pageSize<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageSizeOptions <span class="token operator">=</span> paginatorSetup<span class="token punctuation">.</span>pageSizeOptions<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>changeDetectorRef<span class="token punctuation">.</span><span class="token function">detectChanges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// this.init();</span>
    <span class="token comment">// 侦听实现点击tab刷新页面</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>activatedRoute<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>router<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/admin/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span>sort <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sort<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  changeFixed(fixedColumns: string[]) </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isSticky <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> iterator <span class="token keyword">of</span> fixedColumns<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>isSticky<span class="token punctuation">[</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  selectAndDrop() </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>displayedColumns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>colSelectedService<span class="token punctuation">.</span><span class="token function">getDateSort</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>localStorageName<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token operator">...</span>displayedUnitSupplierAgingColumns<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  init() </span><span class="token punctuation">{</span>
    <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>page<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token function">debounceTime</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">startWith</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">switchMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isLoadingResults <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> unitName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>unitId <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            unitName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>unitId<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">let</span> paymentMethodName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>paymentMethod <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            paymentMethodName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>paymentMethod<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">let</span> userName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>createUser <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            userName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>createUser<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">let</span> auditName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>auditUser <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            auditName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>auditUser<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 发送请求 获取列表的数据</span>
          <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>unitSupplierAgingService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            page<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
            limit<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageSize<span class="token punctuation">,</span>
            <span class="token comment">// createUser: this.form.value.createUser.value !== undefined ? this.form.value.createUser.value : '',</span>
            <span class="token comment">// userName: userName,</span>
            <span class="token comment">// auditUser: this.form.value.auditUser.value !== undefined ? this.form.value.auditUser.value : '',</span>
            <span class="token comment">// auditName: auditName,</span>
            unitId<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>unitId<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>unitId<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            unitName<span class="token operator">:</span> unitName<span class="token punctuation">,</span>
            paymentMethod<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            createUser<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            auditUser<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isLoadingResults <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>resultsLength <span class="token operator">=</span> res<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>summary <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>sum<span class="token punctuation">.</span>beginAmount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 获取到列表每列的合计 赋值给sum变量的对象</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> res<span class="token punctuation">.</span>summary<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">catchError</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isLoadingResults <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token function">observableOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 将获取的列表数据赋值给 列表的变量对象 在数据文件里</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> option <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">'请选择'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取供应商下拉框</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>unitInfoService<span class="token punctuation">.</span><span class="token function">listUnitInfoChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> Response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> returnOption <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          label<span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
          value<span class="token operator">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>option<span class="token punctuation">,</span> <span class="token operator">...</span>returnOption<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// 搜索框的点击事件 会进行对应的搜索项推荐</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>optionsOb <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>controls<span class="token punctuation">[</span><span class="token string">'unitId'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>valueChanges<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token function">startWith</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'string'</span> <span class="token operator">?</span> value <span class="token operator">:</span> value<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>name <span class="token operator">?</span> <span class="token function">autocompleteFilter</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token operator">:</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获取结款方式下拉框</span>
    <span class="token comment">// this.paymentMethodService.getChoice().subscribe((res: Response) =&gt; {</span>
    <span class="token comment">//   let returnOption = res.data.map((item: any) =&gt; {</span>
    <span class="token comment">//     return {</span>
    <span class="token comment">//       label: item.name,</span>
    <span class="token comment">//       value: item.code,</span>
    <span class="token comment">//     };</span>
    <span class="token comment">//   });</span>
    <span class="token comment">//   let arr = [...option, ...returnOption];</span>
    <span class="token comment">//   this.formBases[1].optionsOb = this.form.controls['paymentMethod'].valueChanges.pipe(</span>
    <span class="token comment">//     startWith(''),</span>
    <span class="token comment">//     map((value) =&gt; (typeof value === 'string' ? value : value.name)),</span>
    <span class="token comment">//     map((name) =&gt; (name ? autocompleteFilter(name, arr) : arr.slice()))</span>
    <span class="token comment">//   );</span>
    <span class="token comment">// });</span>

    <span class="token comment">//获取用户</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>userInfoService<span class="token punctuation">.</span><span class="token function">listUserInfoChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> Response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> returnOption <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          label<span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
          value<span class="token operator">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// let arr = [...option, ...returnOption];</span>
      <span class="token comment">// this.formBases[2].optionsOb = this.form.controls['createUser'].valueChanges.pipe(</span>
      <span class="token comment">//   startWith(''),</span>
      <span class="token comment">//   map((value) =&gt; (typeof value === 'string' ? value : value.name)),</span>
      <span class="token comment">//   map((name) =&gt; (name ? autocompleteFilter(name, arr) : arr.slice()))</span>
      <span class="token comment">// );</span>
      <span class="token comment">// this.formBases[3].optionsOb = this.form.controls['auditUser'].valueChanges.pipe(</span>
      <span class="token comment">//   startWith(''),</span>
      <span class="token comment">//   map((value) =&gt; (typeof value === 'string' ? value : value.name)),</span>
      <span class="token comment">//   map((name) =&gt; (name ? autocompleteFilter(name, arr) : arr.slice()))</span>
      <span class="token comment">// );</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  add() </span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>UnitMeetOperateComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// width: '1800px',</span>
      maxHeight<span class="token operator">:</span> <span class="token string">'90vh'</span><span class="token punctuation">,</span>
      disableClose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      hasBackdrop<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      id<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId<span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        operate<span class="token operator">:</span> <span class="token string">'add'</span><span class="token punctuation">,</span>
        minId<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dialogRef<span class="token punctuation">.</span><span class="token function">afterClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  edit(row: any) </span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>UnitMeetOperateComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// width: '1800px',</span>
      maxHeight<span class="token operator">:</span> <span class="token string">'90vh'</span><span class="token punctuation">,</span>
      disableClose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      hasBackdrop<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      id<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId2<span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> row<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        saleOrderNumber<span class="token operator">:</span> row<span class="token punctuation">.</span>saleOrderNumber<span class="token punctuation">,</span>
        companyId<span class="token operator">:</span> row<span class="token punctuation">.</span>companyId<span class="token punctuation">,</span>
        operate<span class="token operator">:</span> <span class="token string">'edit'</span><span class="token punctuation">,</span>
        minId<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId2<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dialogRef<span class="token punctuation">.</span><span class="token function">afterClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  detail(row: any) </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>matDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>UnitMeetOperateComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// width: '1800px',</span>
      maxHeight<span class="token operator">:</span> <span class="token string">'90vh'</span><span class="token punctuation">,</span>
      disableClose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      hasBackdrop<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      id<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId3<span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> row<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        saleOrderNumber<span class="token operator">:</span> row<span class="token punctuation">.</span>saleOrderNumber<span class="token punctuation">,</span>
        operate<span class="token operator">:</span> <span class="token string">'detail'</span><span class="token punctuation">,</span>
        minId<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId3<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  del(row: any) </span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>ConfirmDialogComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      width<span class="token operator">:</span> <span class="token string">'500px'</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        isTure<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">确定删除</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>row<span class="token punctuation">.</span>unitName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dialogRef<span class="token punctuation">.</span><span class="token function">afterClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>unitSupplierAgingService<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> Response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">openSuccess</span><span class="token punctuation">(</span><span class="token string">'删除成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  toExamine(row: any) </span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>UnitMeetToExamineComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      width<span class="token operator">:</span> <span class="token string">'400px'</span><span class="token punctuation">,</span>
      maxHeight<span class="token operator">:</span> <span class="token string">'100vh'</span><span class="token punctuation">,</span>
      disableClose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> row<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        operate<span class="token operator">:</span> <span class="token string">'toExamine'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dialogRef<span class="token punctuation">.</span><span class="token function">afterClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  abandon(row: any) </span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>ConfirmDialogComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      width<span class="token operator">:</span> <span class="token string">'500px'</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        isTure<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">请确认是否弃审？</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dialogRef<span class="token punctuation">.</span><span class="token function">afterClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>unitSupplierAgingService<span class="token punctuation">.</span><span class="token function">unitMeetAbandon</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  exportExcel() </span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> unitName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>unitId <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      unitName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>unitId<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>unitSupplierAgingService
      <span class="token punctuation">.</span><span class="token function">exportExcel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        page<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
        limit<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageSize<span class="token punctuation">,</span>
        unitId<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>unitId<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>unitId<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        unitName<span class="token operator">:</span> unitName<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'application/vnd.ms-excel'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token string">'供应商账龄'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.xls'</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  downloadExportExcel() </span><span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'http://120.26.251.116/static/excel/furniture/供应商付款导入模板.xlsx'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  openChooseWindow() </span><span class="token punctuation">{</span>
    <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'chooseExcel'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  importExcel(event: any) </span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> file <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>unitSupplierAgingService<span class="token punctuation">.</span><span class="token function">importExcel</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">openSuccess</span><span class="token punctuation">(</span><span class="token string">'导入成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  changePage() </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageIndex <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span><span class="token function">_changePageSize</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  /**
   * 提交查询
   */
  onSubmit() </span><span class="token punctuation">{</span>
    <span class="token function">isZero</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageIndex<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span><span class="token function">_changePageSize</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span>pageSize<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>paginator<span class="token punctuation">.</span><span class="token function">firstPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  onReset() </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      createUser<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      auditUser<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      paymentMethod<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      unitId<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      start<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      end<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      auditStart<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      auditEnd<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  openImage(src: string) </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>matDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>ImageDialogComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      width<span class="token operator">:</span> <span class="token string">'400px'</span><span class="token punctuation">,</span>
      height<span class="token operator">:</span> <span class="token string">'400px'</span><span class="token punctuation">,</span>
      disableClose<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        image<span class="token operator">:</span> src<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  uploadSpuTraitImg(row: any) </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>row <span class="token operator">=</span> row<span class="token punctuation">;</span>
    <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'fileInput'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">

  uploadFile(event: any) </span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> file <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isImage</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'上传图片格式不对'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>size <span class="token operator">&gt;</span> <span class="token number">50</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'上传图片太大，请重新上传'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fileUploadService<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>row<span class="token punctuation">.</span>picture <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>unitSupplierAgingService<span class="token punctuation">.</span><span class="token function">updateUnitMeet</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>row<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>row<span class="token punctuation">.</span>picture <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">openSuccess</span><span class="token punctuation">(</span><span class="token string">'上传凭证成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">
}

</span></code></pre></div><h5 id="组件名称-ts"><a href="#组件名称-ts" class="header-anchor">#</a> 组件名称.ts</h5> <blockquote><p>unit-supplier-aging.ts   |  数据文件一 |  跟Service的数据文件差不多</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Autocomplete<span class="token punctuation">,</span> InputField<span class="token punctuation">,</span> OneDateField<span class="token punctuation">,</span> SelectField <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/lib/class/form-base/form-base'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> dateString <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../../../lib/function/dateFormat'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> moment <span class="token keyword">from</span> <span class="token string">'moment'</span><span class="token punctuation">;</span>

<span class="token comment">// 搜索框的变量对象 | 只需在此修改可同步到html页面里</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> unitMeetSearch <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">Autocomplete</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'unitId'</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token string">'供应商'</span><span class="token punctuation">,</span>
    optionsOb<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// new Autocomplete({</span>
  <span class="token comment">//   name: 'paymentMethod',</span>
  <span class="token comment">//   label: '付款方式',</span>
  <span class="token comment">//   optionsOb: undefined,</span>
  <span class="token comment">//   value: 0,</span>
  <span class="token comment">// }),</span>
  <span class="token comment">// new Autocomplete({</span>
  <span class="token comment">//   name: 'createUser',</span>
  <span class="token comment">//   label: '创建人',</span>
  <span class="token comment">//   optionsOb: undefined,</span>
  <span class="token comment">//   value: 0,</span>
  <span class="token comment">// }),</span>
  <span class="token comment">// new Autocomplete({</span>
  <span class="token comment">//   name: 'auditUser',</span>
  <span class="token comment">//   label: '审核人',</span>
  <span class="token comment">//   optionsOb: undefined,</span>
  <span class="token comment">//   value: 0,</span>
  <span class="token comment">// }),</span>
  <span class="token comment">// new OneDateField({</span>
  <span class="token comment">//   name: 'start',</span>
  <span class="token comment">//   label: '付款开始日期',</span>
  <span class="token comment">//   readonly: true,</span>
  <span class="token comment">// }),</span>
  <span class="token comment">// new OneDateField({</span>
  <span class="token comment">//   name: 'end',</span>
  <span class="token comment">//   label: '付款结束日期',</span>
  <span class="token comment">//   readonly: true,</span>
  <span class="token comment">// }),</span>
  <span class="token comment">// new OneDateField({</span>
  <span class="token comment">//   name: 'auditStart',</span>
  <span class="token comment">//   label: '审核开始日期',</span>
  <span class="token comment">//   readonly: true,</span>
  <span class="token comment">// }),</span>
  <span class="token comment">// new OneDateField({</span>
  <span class="token comment">//   name: 'auditEnd',</span>
  <span class="token comment">//   label: '审核结束日期',</span>
  <span class="token comment">//   readonly: true,</span>
  <span class="token comment">// }),</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">unitMeetSum</span> <span class="token punctuation">{</span>
  amount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="组件的模块-service"><a href="#组件的模块-service" class="header-anchor">#</a> 组件的模块_Service</h4> <h5 id="service-ts"><a href="#service-ts" class="header-anchor">#</a> service.ts</h5> <blockquote><p>unit-supplier-aging.service.ts  |  储存请求路径 后续直接调用</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>HttpService<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../../lib/service/http/http.service&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> unitMeetRequestList <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../unitMeet/unit-meet'</span><span class="token punctuation">;</span>

@<span class="token function">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  providedIn<span class="token operator">:</span> <span class="token string">'root'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">UnitSupplierAgingService</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> http<span class="token operator">:</span> HttpService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// table数据</span>
  <span class="token function">list</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> unitMeetRequestList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/admin/gateWay/stockInOrder/listStockInOrderForm'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 添加方法</span>
  <span class="token function">saveUnitMeet</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/admin/gateWay/unitMeet/saveUnitMeet'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 修改方法</span>
  <span class="token function">updateUnitMeet</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/admin/gateWay/unitMeet/updateUnitMeet'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 根据id 获取company数据回显</span>
  <span class="token function">getByIdUnitMeet</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/admin/gateWay/unitMeet/getByIdUnitMeet/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 根据id 删除</span>
  <span class="token keyword">delete</span><span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/admin/gateWay/unitMeet/delete/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 导出Excel</span>
  <span class="token function">exportExcel</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">downloadPost</span><span class="token punctuation">(</span>
      <span class="token string">'/admin/gateWay/stockInOrder/exportExcelForm'</span><span class="token punctuation">,</span>
      data
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 导入Excel</span>
  <span class="token function">importExcel</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token operator">:</span> File</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">uploadPost</span><span class="token punctuation">(</span>
      <span class="token string">'/admin/gateWay/unitMeet/importExcel'</span><span class="token punctuation">,</span>
      formData
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">unitMeetAudit</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/admin/gateWay/unitMeet/unitMeetAudit'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">unitMeetAbandon</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/admin/gateWay/unitMeet/unitMeetAbandon'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>组件名称.ts</p> <blockquote><p>unit-supplier-aging.ts   |  数据文件二 |  跟组件页面的数据文件差不多</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Dialog<span class="token punctuation">,</span> List <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../data'</span><span class="token punctuation">;</span>

<span class="token comment">// 发送请求时的参数对象变量</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">unitSupplierAgingRequestList</span> <span class="token keyword">extends</span> <span class="token class-name">List</span> <span class="token punctuation">{</span>
  unitId<span class="token operator">:</span> number<span class="token punctuation">;</span>
  unitName<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 列表渲染时的数据对象变量 | 注意定义的字段必须在html创建列 | 表格的顺序跟html标签无关 跟变量内部字段有关</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> displayedUnitSupplierAgingColumns <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'number'</span><span class="token punctuation">,</span>
  <span class="token string">'unitName'</span><span class="token punctuation">,</span>
  <span class="token string">'beginAmount'</span><span class="token punctuation">,</span>
  <span class="token string">'endAmount'</span><span class="token punctuation">,</span>
  <span class="token string">'thirtyDaysAmount'</span><span class="token punctuation">,</span>
  <span class="token string">'thirtyToSixtyDaysAmount'</span><span class="token punctuation">,</span>
  <span class="token string">'sixtyToHundredTwentyDaysAmount'</span><span class="token punctuation">,</span>
  <span class="token string">'hundredTwentyDaysAmount'</span><span class="token punctuation">,</span>
  <span class="token comment">// 操作列需要 ID 进行对应的增删改</span>
  <span class="token comment">// 'unitId',</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 列表右上角的 列的固定和显示</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> disColSelect <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token string">'序号'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token string">'供应商'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'unitName'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token string">'期初余额'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'beginAmount'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token string">'期末余额'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'endAmount'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token string">'30天内余额'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'thirtyDaysAmount'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token string">'30-60天内余额'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'thirtyToSixtyDaysAmount'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token string">'60-120天内余额'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'sixtyToHundredTwentyDaysAmount'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token string">'120天以上余额'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'hundredTwentyDaysAmount'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">unitMeetDialog</span> <span class="token keyword">extends</span> <span class="token class-name">Dialog</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> number<span class="token punctuation">;</span>
  orderNumber<span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="前端组件"><a href="#前端组件" class="header-anchor">#</a> 前端组件</h2> <h3 id="判断value类型"><a href="#判断value类型" class="header-anchor">#</a> 判断value类型</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> paymentMethodName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>paymentMethod <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    paymentMethodName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>paymentMethod<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="时间格式化"><a href="#时间格式化" class="header-anchor">#</a> 时间格式化</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">dateString</span><span class="token punctuation">(</span>unitBillingVo<span class="token punctuation">.</span>busiDate<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>busiDate<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;YYYY-MM&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="赋值和取值"><a href="#赋值和取值" class="header-anchor">#</a> 赋值和取值</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 获取表单对象</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token comment">// 获取表单对象指定字段</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>字段名称<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token comment">// 获取列表集合</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>dataTable<span class="token punctuation">.</span>data<span class="token punctuation">;</span>

<span class="token comment">// 调取页面自选单号赋值 </span>
<span class="token comment">// 定义变量</span>
formOther<span class="token operator">:</span> FormGroup <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>formBuilder<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dayOrderNumber<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 赋值</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>formOther<span class="token punctuation">.</span><span class="token function">patchValue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dayOrderNumber<span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>monthOrderNumber<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 给对象赋值</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span><span class="token function">patchValue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dimCloth<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>dimClothName<span class="token punctuation">,</span> value<span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>dimCloth <span class="token punctuation">}</span><span class="token punctuation">,</span>
    dimCloth2<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>dimClothName2<span class="token punctuation">,</span> value<span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>dimCloth2 <span class="token punctuation">}</span><span class="token punctuation">,</span>
    workshopId<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>workshopName<span class="token punctuation">,</span> value<span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>workshopId <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="父传子值"><a href="#父传子值" class="header-anchor">#</a> 父传子值</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 父组件 点击修改触发调用子组件 并传值 data</span>
<span class="token function">edit</span><span class="token punctuation">(</span><span class="token parameter">row<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>UnitBillingEditComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// width: '1800px',</span>
        maxHeight<span class="token operator">:</span> <span class="token string">'90vh'</span><span class="token punctuation">,</span>
        disableClose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        hasBackdrop<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        id<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId4<span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">{</span>
            id<span class="token operator">:</span> row<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
            orderNumber<span class="token operator">:</span> row<span class="token punctuation">.</span>orderNumber<span class="token punctuation">,</span>
            operate<span class="token operator">:</span> <span class="token string">'edit'</span><span class="token punctuation">,</span>
            minId<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId4<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用完成刷新页面</span>
    dialogRef<span class="token punctuation">.</span><span class="token function">afterClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子组件调用获取值</span>
<span class="token function">onSubmitClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> unitBillingVo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token comment">// 子组件获取父组件传递的值 ID</span>
    unitBillingVo<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataDialog<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
    unitBillingVo<span class="token punctuation">.</span>busiUser <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>busiUser<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    unitBillingVo<span class="token punctuation">.</span>amount <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sum<span class="token punctuation">.</span>totalAmount<span class="token punctuation">;</span>
    unitBillingVo<span class="token punctuation">.</span>busiDate <span class="token operator">=</span> <span class="token function">dateString</span><span class="token punctuation">(</span>unitBillingVo<span class="token punctuation">.</span>busiDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    unitBillingVo<span class="token punctuation">.</span>unitBillingDetailVoList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataTable<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token comment">// console.log(unitBillingVo);</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>unitBillingService<span class="token punctuation">.</span><span class="token function">updateUnitBilling</span><span class="token punctuation">(</span>unitBillingVo<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> Response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">openSuccess</span><span class="token punctuation">(</span><span class="token string">'修改成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>dialogRef<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ischeck <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ischeck <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="表单的样式及属性"><a href="#表单的样式及属性" class="header-anchor">#</a> 表单的样式及属性</h3> <blockquote><p>样式</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 文本框</span>
<span class="token keyword">new</span> <span class="token class-name">InputField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'orderNumber'</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token string">'单号'</span><span class="token punctuation">,</span>
    readonly<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token comment">// 日期框 年月日 | 格式化: dateString(unitBillingVo.busiDate);</span>
<span class="token keyword">new</span> <span class="token class-name">OneDateField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'busiDate'</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token string">'入库日期'</span><span class="token punctuation">,</span>
    readonly<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token function">dateString</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><blockquote><p>属性</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code>options<span class="token operator">:</span> <span class="token punctuation">{</span>
    startView<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">'month'</span> <span class="token operator">|</span> <span class="token string">'year'</span> <span class="token operator">|</span> <span class="token string">'multi-year'</span><span class="token punctuation">;</span>
    oneDateType<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    multiple<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
    <span class="token comment">// 表单的提升信息</span>
    label<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    value<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">|</span> Moment <span class="token operator">|</span> number<span class="token punctuation">;</span>
    <span class="token comment">// 表单的字段名称 | 必填 可根据字段获取其值</span>
    name<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    required<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
    order<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
    controlType<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    placeholder<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    type<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    <span class="token comment">// true:置灰</span>
    disabled<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
    <span class="token comment">// true:只读</span>
    readonly<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
    updateOn<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">'blur'</span> <span class="token operator">|</span> <span class="token string">'change'</span> <span class="token operator">|</span> <span class="token string">'submit'</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// valueChanges blus失去焦距</span>
    options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> string<span class="token punctuation">;</span> value<span class="token operator">:</span> string <span class="token operator">|</span> number <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	optionsOb<span class="token operator">?</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token punctuation">{</span> label<span class="token operator">:</span> string<span class="token punctuation">;</span> value<span class="token operator">:</span> string <span class="token operator">|</span> number <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
	optionsObLabel<span class="token operator">?</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 第一个表单 置灰</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">// 第一个表单 只读</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>readonly <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="输入联想可选择框"><a href="#输入联想可选择框" class="header-anchor">#</a> 输入联想可选择框</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 下拉选择框</span>
<span class="token keyword">new</span> <span class="token class-name">Autocomplete</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'busiUser'</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token string">'经手人'</span><span class="token punctuation">,</span>
    optionsOb<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 初始数据</span>
<span class="token keyword">let</span> option <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">'请选择'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 调用接口获取数据</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>userInfoService<span class="token punctuation">.</span><span class="token function">listUserInfoChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> Response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> returnOption <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            label<span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            value<span class="token operator">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>option<span class="token punctuation">,</span> <span class="token operator">...</span>returnOption<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>optionsOb <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>controls<span class="token punctuation">[</span><span class="token string">'busiUser'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>valueChanges<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token function">startWith</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'string'</span> <span class="token operator">?</span> value <span class="token operator">:</span> value<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>name <span class="token operator">?</span> <span class="token function">autocompleteFilter</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token operator">:</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 回显数据 将从后端获取的数据对于赋值 进行初始化回显</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span><span class="token function">patchValue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    busiUser<span class="token operator">:</span><span class="token punctuation">{</span>
        value<span class="token operator">:</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>busiUser<span class="token punctuation">,</span>
        label<span class="token operator">:</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>busiName<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="下拉多选框"><a href="#下拉多选框" class="header-anchor">#</a> 下拉多选框</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 下拉多选框 无法用户直接输入 所以传递到后台的ID字符串 如: 1,2,3</span>
<span class="token keyword">new</span> <span class="token class-name">SelectField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'dimSeries'</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token string">'系列'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    multiple<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 初始化数据</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>dimSeriesService<span class="token punctuation">.</span><span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> Response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// @ts-ignore</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'全选'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> dimSeriesArr<span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// @ts-ignore</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// @ts-ignore</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>code<span class="token punctuation">;</span>
        <span class="token comment">// @ts-ignore</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>label <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
        dimSeriesArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">checkAll</span><span class="token punctuation">(</span><span class="token string">'dimSeries'</span><span class="token punctuation">,</span> dimSeriesArr<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 查询判断 导出表格</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>dimSeries <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>dimSeries <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>dimSeries<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 获取数值</span>
dimSeriesStr<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>value<span class="token punctuation">.</span>dimSeries<span class="token punctuation">,</span>
    
<span class="token comment">// 重置按钮</span>
<span class="token function">onReset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      spuClass<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      dimModel<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 重置下拉多选框</span>
      dimSeries<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 字段</span>
<span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;系列查询字段&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> dimSeriesStr<span class="token punctuation">;</span>
<span class="token comment">// in 多数据条件</span>
<span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">&quot;entity.dimSeriesStr != null and entity.dimSeriesStr != ''&quot;</span><span class="token operator">&gt;</span>
    and a<span class="token punctuation">.</span>dim_series in <span class="token punctuation">(</span>$<span class="token punctuation">{</span>entity<span class="token punctuation">.</span>dimSeriesStr<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
</code></pre></div><h4 id="下拉单选框"><a href="#下拉单选框" class="header-anchor">#</a> 下拉单选框</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">SelectField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'workshopId'</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token string">'生产车间'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">let</span> option <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">'请选择'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//获取生产车间</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>workshopService<span class="token punctuation">.</span><span class="token function">listWorkshopChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> Response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// this.formBases[2].options = res.data.map((item: any) =&gt; {</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>formBases<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>optionsOb <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            label<span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            value<span class="token operator">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="页面跳转选择框"><a href="#页面跳转选择框" class="header-anchor">#</a> 页面跳转选择框</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token operator">&lt;</span>form <span class="token punctuation">[</span>formGroup<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;formOther&quot;</span><span class="token operator">&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-form-field</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>full-width<span class="token punctuation">&quot;</span></span> <span class="token attr-name">appearance</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>outline<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">生产派工单计划单号</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        &lt;input matInput type=&quot;text&quot; formControlName=&quot;dayOrderNumber&quot; [readonly]=&quot;disabled&quot; /&gt;
        &lt;button matSuffix mat-icon-button aria-label=&quot;Clear&quot; (click)=&quot;dayPlan()&quot; [disabled]=&quot;disabled&quot;&gt;
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">search</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-form-field</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">dayPlan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>
    <span class="token comment">// 点击弹出框</span>
    <span class="token keyword">const</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>DayPlanChoiceComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// width: '100%',</span>
        maxHeight<span class="token operator">:</span> <span class="token string">'95vh'</span><span class="token punctuation">,</span>
        disableClose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        hasBackdrop<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        id<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId2<span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">{</span>
            operate<span class="token operator">:</span> <span class="token string">'add'</span><span class="token punctuation">,</span>
            minId<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minId2<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 回调函数 获取选择的数据进行赋值</span>
    dialogRef<span class="token punctuation">.</span><span class="token function">afterClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>formOther<span class="token punctuation">.</span><span class="token function">patchValue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                dayOrderNumber<span class="token operator">:</span> result<span class="token punctuation">.</span>dayOrderNumber<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>dayOrderNumber <span class="token operator">=</span> result<span class="token punctuation">.</span>dayOrderNumber<span class="token punctuation">;</span>
            <span class="token comment">// 可调用其他方法 如:将获取的id去后端查询数据</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dapPlanList</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>dayOrderNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment">// 将获取的id去后端查询数据</span>
<span class="token keyword">private</span> <span class="token function">dapPlanList</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dayPlanService<span class="token punctuation">.</span><span class="token function">listDayPlanDetailByDayOrderNumber</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> Response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dataTable<span class="token punctuation">.</span>data <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataTable<span class="token punctuation">.</span>data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="年月选择框"><a href="#年月选择框" class="header-anchor">#</a> 年月选择框</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-form-field</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-padding<span class="token punctuation">&quot;</span></span> <span class="token attr-name">appearance</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>outline<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">开始年月</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;input matInput [matDatepicker]=&quot;dp1&quot; [formControl]=&quot;startDate&quot; readonly /&gt;
    &lt;mat-datepicker-toggle matSuffix [for]=&quot;dp1&quot;&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-datepicker-toggle</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;mat-datepicker #dp1 startView=&quot;multi-year&quot; (monthSelected)=&quot;chosenStartMonth($event, dp1)&quot;&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-datepicker</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-form-field</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token constant">MAT_MOMENT_DATE_ADAPTER_OPTIONS</span><span class="token punctuation">,</span>
  MomentDateAdapter<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/material-moment-adapter'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  DateAdapter<span class="token punctuation">,</span>
  <span class="token constant">MAT_DATE_FORMATS</span><span class="token punctuation">,</span>
  <span class="token constant">MAT_DATE_LOCALE</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/material/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">MY_FORMATS</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../../../lib/class/configuration/configuration'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-produce-taking'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./produce-taking.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'../../../../css/table.scss'</span><span class="token punctuation">,</span> <span class="token string">'../../../../css/layout.scss'</span><span class="token punctuation">,</span> <span class="token string">'../../../../css/table-for-gj.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  styles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      provide<span class="token operator">:</span> DateAdapter<span class="token punctuation">,</span>
      useClass<span class="token operator">:</span> MomentDateAdapter<span class="token punctuation">,</span>
      deps<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">MAT_DATE_LOCALE</span><span class="token punctuation">,</span> <span class="token constant">MAT_MOMENT_DATE_ADAPTER_OPTIONS</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token punctuation">{</span> provide<span class="token operator">:</span> <span class="token constant">MAT_DATE_FORMATS</span><span class="token punctuation">,</span> useValue<span class="token operator">:</span> <span class="token constant">MY_FORMATS</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

startDate<span class="token operator">:</span> any<span class="token punctuation">;</span>

<span class="token function">chosenStartMonth</span><span class="token punctuation">(</span>normalizedMonthAndYear<span class="token operator">:</span> Moment<span class="token punctuation">,</span> datepicker<span class="token operator">:</span> MatDatepicker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Moment</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">) </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>startDate<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">month</span><span class="token punctuation">(</span>normalizedMonthAndYear<span class="token punctuation">.</span><span class="token function">month</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>startDate<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span>normalizedMonthAndYear<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>startDate<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>startDate<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    datepicker<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
</span></code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 指定年月选择框: 当前年的指定月 0--&gt;1月</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>startDate<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 指定当前时间的  年月</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>startDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">1</span>月
<span class="token keyword">this</span><span class="token punctuation">.</span>endDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 现在月份
</code></pre></div><h3 id="列表的输入框"><a href="#列表的输入框" class="header-anchor">#</a> 列表的输入框</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token operator">&lt;</span>input
    matInput
    <span class="token punctuation">[</span><span class="token punctuation">(</span>ngModel<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;row.unitPrice&quot;</span> <span class="token comment">// 该行的该字段的数据</span>
    type<span class="token operator">=</span><span class="token string">&quot;quantity&quot;</span>
    min<span class="token operator">=</span><span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">[</span>disabled<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;disabled&quot;</span>
    <span class="token punctuation">(</span>ngModelChange<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;calculateUnitPrice(row)&quot;</span> <span class="token comment">// 每次改变数据即触发方法 传入该行的数据为参数</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="列表的选择框"><a href="#列表的选择框" class="header-anchor">#</a> 列表的选择框</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">matColumnDef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warehouseId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;th mat-header-cell *matHeaderCellDef appDynamicColumnWidth&gt;入库仓库</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;td mat-cell *matCellDef=&quot;let row&quot;&gt;
        &lt;mat-select [(ngModel)]=&quot;row.warehouseId&quot; [disabled]=&quot;disabled (ngModelChange)=&quot;queryRegion(row)&quot;&gt;
            &lt;mat-option [value]=&quot;item.value&quot; *ngFor=&quot;let item of warehouseOption&quot;&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>label <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-select</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;td mat-footer-cell *matFooterCellDef&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code>optionMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
warehouseOption<span class="token operator">:</span> Option<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
regionOption<span class="token operator">:</span> Option<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">queryRegion</span><span class="token punctuation">(</span><span class="token parameter">row<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> regionOption<span class="token operator">:</span> Option<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> option <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">'请选择'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>regionInfoService<span class="token punctuation">.</span><span class="token function">getRegionListByWarehouseId</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>warehouseId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> Response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> returnOption <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                label<span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                value<span class="token operator">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        regionOption <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>option<span class="token punctuation">,</span> <span class="token operator">...</span>returnOption<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>optionMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>spuId<span class="token punctuation">,</span> regionOption<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="文件上传"><a href="#文件上传" class="header-anchor">#</a> 文件上传</h3> <h4 id="前端"><a href="#前端" class="header-anchor">#</a> 前端</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span> <span class="token attr-name">matTooltip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>上传图片<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fileUpload(<span class="token punctuation">'</span>img<span class="token punctuation">'</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>image<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span> <span class="token attr-name">matTooltip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>上传附件<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fileUpload(<span class="token punctuation">'</span>file<span class="token punctuation">'</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>upload_file<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">multiple</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multiple<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imgInput<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(change)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadImg($event)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/*<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">multiple</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multiple<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fileInput<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(change)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadFile($event)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/*<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">fileUpload</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> type <span class="token operator">===</span> <span class="token string">'img'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'imgInput'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> type <span class="token operator">===</span> <span class="token string">'file'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'fileInput'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">uploadImg</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> file <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;仅限上传九张图片&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> file<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isImage</span><span class="token punctuation">(</span>file<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'上传图片格式不对'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'上传图片太大，请重新上传'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fileUploadService<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>file<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>imgUrl<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> file<span class="token operator">:</span> res<span class="token punctuation">.</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>render2<span class="token punctuation">.</span><span class="token function">selectRootElement</span><span class="token punctuation">(</span><span class="token string">&quot;#imgInput&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">openSuccess</span><span class="token punctuation">(</span><span class="token string">&quot;上传图片成功&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>showImgList <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token function">uploadFile</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> file <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;仅限上传三份附件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> file<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isText</span><span class="token punctuation">(</span>file<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'上传附件格式不对'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// if (file[i].size &gt; 5 * 1024 * 1024) {</span>
        <span class="token comment">//   this.snackBarService.open('上传附件太大，请重新上传');</span>
        <span class="token comment">//   return;</span>
        <span class="token comment">// }</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fileUploadService<span class="token punctuation">.</span><span class="token function">uploadEnclosure</span><span class="token punctuation">(</span>file<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>fileUrl<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    file<span class="token operator">:</span> res<span class="token punctuation">.</span>data
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>regFile<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    file<span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(.*\/)*([^.]+).*</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">,</span><span class="token string">&quot;$2&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.'</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.+\.</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>render2<span class="token punctuation">.</span><span class="token function">selectRootElement</span><span class="token punctuation">(</span><span class="token string">&quot;#fileInput&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">openSuccess</span><span class="token punctuation">(</span><span class="token string">&quot;上传附件成功&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>showFileList <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">upload</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token operator">:</span> File<span class="token punctuation">,</span> folder<span class="token operator">:</span> UploadFolder</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">uploadPost</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/admin/gateWay/fileUpload?folder=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>UploadFolder<span class="token punctuation">[</span>folder<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        formData
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">uploadEnclosure</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token operator">:</span> File<span class="token punctuation">,</span> folder<span class="token operator">:</span> UploadFolder</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">uploadPost</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/admin/gateWay/fileUpload/uploadEnclosure?folder=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>UploadFolder<span class="token punctuation">[</span>folder<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        formData
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="后端"><a href="#后端" class="header-anchor">#</a> 后端</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>my<span class="token punctuation">.</span>pin<span class="token punctuation">.</span>controller<span class="token punctuation">.</span>admin<span class="token punctuation">.</span>system</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>my<span class="token punctuation">.</span>pin<span class="token punctuation">.</span>exception<span class="token punctuation">.</span></span><span class="token class-name">WsException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>my<span class="token punctuation">.</span>pin<span class="token punctuation">.</span>result<span class="token punctuation">.</span></span><span class="token class-name">R</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>my<span class="token punctuation">.</span>pin<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">FileUtils</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Api</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @Author czy
 * @Date 2021/8/5
 * @Description: 文件上传
 *
 **/</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;gateWay/fileUpload&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@CrossOrigin</span>
<span class="token annotation punctuation">@Api</span><span class="token punctuation">(</span>tags<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;文件上传控制器&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileUploadController</span> <span class="token punctuation">{</span>


    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> defaultValue <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> folder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">WsException</span><span class="token punctuation">(</span><span class="token string">&quot;请添加附件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">String</span> newFileName <span class="token operator">=</span> <span class="token class-name">FileUtils</span><span class="token punctuation">.</span><span class="token function">createNewFileName</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            path <span class="token operator">=</span> <span class="token class-name">FileUtils</span><span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">FileInputStream</span><span class="token punctuation">)</span> file<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> folder<span class="token punctuation">,</span> newFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;上传成功&quot;</span><span class="token punctuation">,</span><span class="token class-name">FileUtils</span><span class="token punctuation">.</span>SERVER_PREFIX <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">WsException</span><span class="token punctuation">(</span><span class="token string">&quot;上传失败,上传文件大小不能超过50MB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;uploadEnclosure&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">uploadEnclosure</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> defaultValue <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> folder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">WsException</span><span class="token punctuation">(</span><span class="token string">&quot;请添加附件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">String</span> fileName <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            path <span class="token operator">=</span> <span class="token class-name">FileUtils</span><span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">FileInputStream</span><span class="token punctuation">)</span> file<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> folder<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;上传成功&quot;</span><span class="token punctuation">,</span><span class="token class-name">FileUtils</span><span class="token punctuation">.</span>SERVER_PREFIX <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">WsException</span><span class="token punctuation">(</span><span class="token string">&quot;上传失败,上传文件大小不能超过50MB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>

</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>my<span class="token punctuation">.</span>pin<span class="token punctuation">.</span>util</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>core<span class="token punctuation">.</span>date<span class="token punctuation">.</span></span><span class="token class-name">DateUtil</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>core<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileUtil</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>core<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">IdUtil</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">YamlPropertiesFactoryBean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">ClassPathResource</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>channels<span class="token punctuation">.</span></span><span class="token class-name">FileChannel</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @Author yzh
 * @Date 2020/10/1
 * @Description: 文件工具
 **/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileUtils</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * 文件上传的保存路径
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> UPLOAD_PATH <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.dir&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> <span class="token string">&quot;upload&quot;</span> <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 文件本地位置
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> FILE_LOCATION <span class="token operator">=</span> <span class="token string">&quot;file:&quot;</span> <span class="token operator">+</span> UPLOAD_PATH<span class="token punctuation">;</span>


    <span class="token comment">/**
     * 文件访问前缀
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> SERVER_PREFIX <span class="token operator">=</span> <span class="token string">&quot;/tmp/&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 文件访问前缀
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> FILE_SERVER_PREFIX <span class="token operator">=</span> SERVER_PREFIX <span class="token operator">+</span> <span class="token string">&quot;**&quot;</span><span class="token punctuation">;</span>



    <span class="token comment">/**
     * 读取yml里的属性值
     */</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token class-name">YamlPropertiesFactoryBean</span> yamlMapFactoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">YamlPropertiesFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 可以加载多个yml文件</span>
        yamlMapFactoryBean<span class="token punctuation">.</span><span class="token function">setResources</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ClassPathResource</span><span class="token punctuation">(</span><span class="token string">&quot;application.yml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> yamlMapFactoryBean<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取yml里的路径参数，如果配置了，就读取配置了的，如果没有配置，那么就使用默认的</span>
        UPLOAD_PATH <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;filepath&quot;</span><span class="token punctuation">,</span> UPLOAD_PATH<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 根据文件老名字得到新名字
     *
     * @param oldName
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">createNewFileName</span><span class="token punctuation">(</span><span class="token class-name">String</span> oldName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> suffix <span class="token operator">=</span> <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">extName</span><span class="token punctuation">(</span>oldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">IdUtil</span><span class="token punctuation">.</span><span class="token function">fastSimpleUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span> suffix<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 保存文件,返回图片所在目录和图片自己
     *
     * @return 如2020-02-12/54255afd988f47648cd8a6675ae8c55c.jpg
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">FileInputStream</span> fis<span class="token punctuation">,</span> <span class="token class-name">String</span> folder<span class="token punctuation">,</span> <span class="token class-name">String</span> fileName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileOutputStream</span> fos<span class="token punctuation">;</span>
        <span class="token comment">// 创建通道</span>
        <span class="token class-name">FileChannel</span> inChannel<span class="token punctuation">;</span>
        <span class="token class-name">FileChannel</span> outChannel<span class="token punctuation">;</span>
        <span class="token comment">// 要返回的路径</span>
        <span class="token class-name">String</span> selfPath <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">// 图片公用的存储位置</span>
        <span class="token class-name">String</span> publicPath<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            selfPath <span class="token operator">=</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> folder <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> <span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">today</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> fileName<span class="token punctuation">;</span>
            publicPath <span class="token operator">=</span> UPLOAD_PATH <span class="token operator">+</span> selfPath<span class="token punctuation">;</span>
            <span class="token comment">//如不存在则创建目录及文件</span>
            <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">touch</span><span class="token punctuation">(</span>publicPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
            fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>publicPath<span class="token punctuation">)</span><span class="token punctuation">;</span>

            inChannel <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">getChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            outChannel <span class="token operator">=</span> fos<span class="token punctuation">.</span><span class="token function">getChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//通道间传输</span>
            inChannel<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> inChannel<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> outChannel<span class="token punctuation">)</span><span class="token punctuation">;</span>
            inChannel<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            outChannel<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> selfPath<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="getwey-远程调用"><a href="#getwey-远程调用" class="header-anchor">#</a> Getwey 远程调用</h2> <h3 id="post-请求"><a href="#post-请求" class="header-anchor">#</a> POST 请求</h3> <h4 id="键值对-传参"><a href="#键值对-传参" class="header-anchor">#</a> 键值对_传参</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 前端请求</span>
<span class="token function">deleteDayPlan</span><span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>`<span class="token operator">/</span>admin<span class="token operator">/</span>gateWay<span class="token operator">/</span>dayPlan<span class="token operator">/</span>delete<span class="token operator">/</span>$<span class="token punctuation">{</span>id<span class="token punctuation">}</span>`<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;getInformationTypeById/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getInformationTypeById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> informationTypeClient<span class="token punctuation">.</span><span class="token function">getInformationTypeById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Client 接口 注意多个键值对参数使用注解一一对应</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;admin/system/userInfo/getByNameUserInfo&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token class-name">UserInfo</span> <span class="token function">getByNameUserInfo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 表现层 注意类上面的嵌套请求路径 </span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;getByNameUserInfo&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">UserInfo</span> <span class="token function">getByNameUserInfo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> userInfoService<span class="token punctuation">.</span><span class="token function">getByNameUserInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="json-传参"><a href="#json-传参" class="header-anchor">#</a> JSON_传参</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token function">updateWeekPlan</span><span class="token punctuation">(</span>data<span class="token operator">:</span> any<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/admin/gateWay/weekPlan/update'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 网关表现层</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">SpuUnitPriceVo</span> spuUnitPriceVo<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> spuUnitPriceClient<span class="token punctuation">.</span><span class="token function">saveSpuUnitPrice</span><span class="token punctuation">(</span>spuUnitPriceVo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Client 接口 前端请求参数为json格式的对象</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;admin/furniture/spuUnitPrice/saveSpuUnitPrice&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token class-name">R</span> <span class="token function">saveSpuUnitPrice</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">SpuUnitPriceVo</span> spuUnitPriceVo<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 表现层 注意类上面的嵌套请求路径</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;saveSpuUnitPrice&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">saveSpuUnitPrice</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">SpuUnitPriceVo</span> spuUnitPriceVo<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> spuUnitPriceService<span class="token punctuation">.</span><span class="token function">saveSpuUnitPrice</span><span class="token punctuation">(</span>spuUnitPriceVo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="表格-导出"><a href="#表格-导出" class="header-anchor">#</a> 表格_导出</h4> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token operator">&lt;</span>button mat<span class="token operator">-</span>raised<span class="token operator">-</span>button color<span class="token operator">=</span><span class="token string">&quot;accent&quot;</span> <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;exportExcel()&quot;</span><span class="token operator">&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mat-icon</span>
        <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>material-icons<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>material-icons<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> file_upload </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mat-icon</span>
        <span class="token punctuation">&gt;</span></span>
    导出表格
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token function">exportExcelWeekPlanDetail</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span>any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">downloadPost</span><span class="token punctuation">(</span><span class="token string">'/admin/gateWay/weekPlan/exportExcelWeekPlanDetail'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;exportExcel&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">exportExcel</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UnitTakingVo</span> unitTakingVo<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">UserInfoVo</span> user<span class="token operator">=</span> <span class="token class-name">RedisUtils</span><span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    unitTakingVo<span class="token punctuation">.</span><span class="token function">setCompanyId</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getCompanyId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UnitTakingVo</span><span class="token punctuation">&gt;</span></span> unitTakingVos <span class="token operator">=</span> unitTakingClient<span class="token punctuation">.</span><span class="token function">listUnitTaking</span><span class="token punctuation">(</span>unitTakingVo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> fileName <span class="token operator">=</span> <span class="token string">&quot;供应商结存表&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">EasyPoiExcelUtils</span><span class="token punctuation">.</span><span class="token function">exportExcel</span><span class="token punctuation">(</span>unitTakingVos<span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> <span class="token string">&quot;sheet1&quot;</span><span class="token punctuation">,</span> <span class="token class-name">UnitTakingVo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">&quot;供应商结存信息-&quot;</span><span class="token operator">+</span> <span class="token class-name">DateUtils</span><span class="token punctuation">.</span><span class="token function">farmtDateMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">&quot;.xls&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="表格-导入"><a href="#表格-导入" class="header-anchor">#</a> 表格_导入</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span>button mat<span class="token operator">-</span>raised<span class="token operator">-</span>button color<span class="token operator">=</span><span class="token string">'accent'</span> <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">'openChooseWindow()'</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>mat<span class="token operator">-</span>icon<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'material-icons'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'material-icons'</span><span class="token operator">&gt;</span> file_upload <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>mat<span class="token operator">-</span>icon<span class="token operator">&gt;</span>
    导入表格
<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;chooseExcel&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hide&quot;</span> <span class="token punctuation">(</span>change<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;importExcel($event)&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;&quot;</span> accept<span class="token operator">=</span><span class="token string">&quot;/*&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token function">openChooseWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'chooseExcel'</span><span class="token punctuation">)</span> as <span class="token class-name">HTMLElement</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">importExcel</span><span class="token punctuation">(</span>event<span class="token operator">:</span> any<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    let file <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>weekPlanService<span class="token punctuation">.</span><span class="token function">importExcel</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token operator">:</span> any<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">==</span><span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token function">openSuccess</span><span class="token punctuation">(</span><span class="token string">'导入成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>snackBarService<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">uploadRepeat</span><span class="token punctuation">(</span><span class="token string">'chooseExcel'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>    

<span class="token comment">// 导入Excel</span>
<span class="token function">importExcel</span><span class="token punctuation">(</span>file<span class="token operator">:</span> <span class="token class-name">File</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">uploadPost</span><span class="token punctuation">(</span>
        <span class="token string">'/admin/gateWay/dayPlan/importExcel'</span><span class="token punctuation">,</span>
        formData
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 网关表现出调用Client接口</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;importExcel&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">importExcel</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;请添加附件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dimClothClient<span class="token punctuation">.</span><span class="token function">importExcel</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Client 接口 前端请求参数为文件的流数据</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;admin/system/dimCloth/importExcel&quot;</span> <span class="token punctuation">,</span> consumes <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span>MULTIPART_FORM_DATA_VALUE<span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token class-name">R</span> <span class="token function">importExcel</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestPart</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 表现层 注意类上面的嵌套请求路径</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;importExcel&quot;</span> <span class="token punctuation">,</span> consumes <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span>MULTIPART_FORM_DATA_VALUE<span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">importExcel</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestPart</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;请添加附件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dimClothService<span class="token punctuation">.</span><span class="token function">importExcel</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="get-请求"><a href="#get-请求" class="header-anchor">#</a> GET 请求</h3> <h4 id="风格传参"><a href="#风格传参" class="header-anchor">#</a> 风格传参</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 前端请求</span>
<span class="token function">deleteDayPlan</span><span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>`<span class="token operator">/</span>admin<span class="token operator">/</span>gateWay<span class="token operator">/</span>dayPlan<span class="token operator">/</span>delete<span class="token operator">/</span>$<span class="token punctuation">{</span>id<span class="token punctuation">}</span>`<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 网关表现层 | 可使用@PathVariable注解</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/delete/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> dimSeriesClient<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Client 接口  | 可使用@PathVariable注解</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;admin/system/dimSeries/delete/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token class-name">R</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 服务表现层  | 可使用@PathVariable注解</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/delete/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> dimSeriesService<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="pager"><!----> <a href="/Welcome/post/2022/08/28/linux-%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/" class="previous">
    上一篇<br> <span>
      Linux 系统工具
    </span></a></div> <!----></main> <ul class="catalog" style="top:0px !important;" data-v-86932056><li class="level-2 toc-link-angular-基础" data-v-86932056>Angular 基础</li><li class="level-3 toc-link-angular-项目的创建" data-v-86932056>Angular 项目的创建</li><li class="level-3 toc-link-angular-目录结构" data-v-86932056>Angular 目录结构</li><li class="level-2 toc-link-angular-模块" data-v-86932056>Angular 模块</li><li class="level-3 toc-link-app-模块" data-v-86932056>app 模块：</li><li class="level-3 toc-link-组件生命周期" data-v-86932056>组件生命周期</li><li class="level-3 toc-link-创建模块" data-v-86932056>创建模块</li><li class="level-3 toc-link-组件生命周期-2" data-v-86932056>组件生命周期</li><li class="level-3 toc-link-组件交互" data-v-86932056>组件交互</li><li class="level-4 toc-link-input-子获取父数据" data-v-86932056>@Input | 子获取父数据</li><li class="level-4 toc-link-output-子触发父事件传值" data-v-86932056>@Output | 子触发父事件传值</li><li class="level-4 toc-link-viewchild-父获取子数据" data-v-86932056>@ViewChild() | 父获取子数据</li><li class="level-2 toc-link-angular-服务" data-v-86932056>Angular 服务</li><li class="level-3 toc-link-创建服务" data-v-86932056>创建服务</li><li class="level-3 toc-link-依赖注入" data-v-86932056>依赖注入</li><li class="level-2 toc-link-angular-指令" data-v-86932056>Angular 指令</li><li class="level-3 toc-link-差值表达式" data-v-86932056>差值表达式</li><li class="level-3 toc-link-属性绑定" data-v-86932056>属性绑定</li><li class="level-3 toc-link-样式绑定" data-v-86932056>样式绑定</li><li class="level-3 toc-link-条件判断" data-v-86932056>条件判断</li><li class="level-3 toc-link-循环语句" data-v-86932056>循环语句</li><li class="level-3 toc-link-事件绑定" data-v-86932056>事件绑定</li><li class="level-3 toc-link-双向绑定" data-v-86932056>双向绑定</li><li class="level-3 toc-link-表单控件" data-v-86932056>表单控件</li><li class="level-3 toc-link-表单控件分组" data-v-86932056>表单控件分组</li><li class="level-3 toc-link-表单验证" data-v-86932056>表单验证</li><li class="level-3 toc-link-自定义表单验证" data-v-86932056>自定义表单验证</li><li class="level-3 toc-link-管道" data-v-86932056>管道</li><li class="level-2 toc-link-angular-路由" data-v-86932056>Angular 路由</li><li class="level-3 toc-link-路由基本使用" data-v-86932056>路由基本使用</li><li class="level-4 toc-link-app-routing-module-ts" data-v-86932056>app-routing.module.ts</li><li class="level-4 toc-link-app-module-ts" data-v-86932056>app.module.ts</li><li class="level-4 toc-link-app-component-html" data-v-86932056>app.component.html</li><li class="level-3 toc-link-路由嵌套" data-v-86932056>路由嵌套</li><li class="level-4 toc-link-app-routing-module-ts-2" data-v-86932056>app-routing.module.ts</li><li class="level-4 toc-link-父组件-html" data-v-86932056>父组件 HTML</li><li class="level-3 toc-link-路由传参" data-v-86932056>路由传参</li><li class="level-4 toc-link-query-键值对" data-v-86932056>query: 键值对</li><li class="level-4 toc-link-params-风格" data-v-86932056>params: /风格</li><li class="level-2 toc-link-angular-功能" data-v-86932056>Angular 功能</li><li class="level-3 toc-link-表单数据获取" data-v-86932056>表单数据获取</li><li class="level-4 toc-link-event-事件对象获取" data-v-86932056>$event : 事件对象获取</li><li class="level-4 toc-link-模板引用变量" data-v-86932056>模板引用变量</li><li class="level-2 toc-link-angular-码云" data-v-86932056>Angular 码云</li><li class="level-3 toc-link-创建组件复制" data-v-86932056>创建组件复制</li><li class="level-4 toc-link-创建组件命令" data-v-86932056>创建组件命令</li><li class="level-4 toc-link-组件的引入和注册" data-v-86932056>组件的引入和注册</li><li class="level-4 toc-link-组件的模块-页面" data-v-86932056>组件的模块_页面</li><li class="level-5 toc-link-html" data-v-86932056>HTML</li><li class="level-5 toc-link-component-ts" data-v-86932056>component.ts</li><li class="level-5 toc-link-组件名称-ts" data-v-86932056>组件名称.ts</li><li class="level-4 toc-link-组件的模块-service" data-v-86932056>组件的模块_Service</li><li class="level-5 toc-link-service-ts" data-v-86932056>service.ts</li><li class="level-2 toc-link-前端组件" data-v-86932056>前端组件</li><li class="level-3 toc-link-判断value类型" data-v-86932056>判断value类型</li><li class="level-3 toc-link-时间格式化" data-v-86932056>时间格式化</li><li class="level-3 toc-link-赋值和取值" data-v-86932056>赋值和取值</li><li class="level-3 toc-link-父传子值" data-v-86932056>父传子值</li><li class="level-3 toc-link-表单的样式及属性" data-v-86932056>表单的样式及属性</li><li class="level-4 toc-link-输入联想可选择框" data-v-86932056>输入联想可选择框</li><li class="level-4 toc-link-下拉多选框" data-v-86932056>下拉多选框</li><li class="level-4 toc-link-下拉单选框" data-v-86932056>下拉单选框</li><li class="level-4 toc-link-页面跳转选择框" data-v-86932056>页面跳转选择框</li><li class="level-4 toc-link-年月选择框" data-v-86932056>年月选择框</li><li class="level-3 toc-link-列表的输入框" data-v-86932056>列表的输入框</li><li class="level-3 toc-link-列表的选择框" data-v-86932056>列表的选择框</li><li class="level-3 toc-link-文件上传" data-v-86932056>文件上传</li><li class="level-4 toc-link-前端" data-v-86932056>前端</li><li class="level-4 toc-link-后端" data-v-86932056>后端</li><li class="level-2 toc-link-getwey-远程调用" data-v-86932056>Getwey 远程调用</li><li class="level-3 toc-link-post-请求" data-v-86932056>POST 请求</li><li class="level-4 toc-link-键值对-传参" data-v-86932056>键值对_传参</li><li class="level-4 toc-link-json-传参" data-v-86932056>JSON_传参</li><li class="level-4 toc-link-表格-导出" data-v-86932056>表格_导出</li><li class="level-4 toc-link-表格-导入" data-v-86932056>表格_导入</li><li class="level-3 toc-link-get-请求" data-v-86932056>GET 请求</li><li class="level-4 toc-link-风格传参" data-v-86932056>风格传参</li></ul></div> <div class="search-page" data-v-60b9a85e><span class="search-close"><svg aria-hidden="true" width="34.56" height="34.56" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:2.16em;"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></span> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="menu-btn-container" data-v-413dbfb4 data-v-60b9a85e><div class="menu-btn-wrapper" data-v-413dbfb4><div class="menu-btn" data-v-413dbfb4><div class="menu-btn-icon" style="display:;" data-v-413dbfb4><span data-v-413dbfb4></span> <span data-v-413dbfb4></span> <span data-v-413dbfb4></span></div> <div class="menu-text" style="display:none;" data-v-413dbfb4>
        0
      </div> <svg class="menu-svg" data-v-413dbfb4><circle cx="50%" cy="50%" r="48%" class="menu-border" style="stroke-dasharray:0% 314.15926%;" data-v-413dbfb4></circle></svg></div> <div class="menu-btn-child-wrapper" data-v-413dbfb4><a role="button" aria-label="Toggle light" title="Toggle light" class="toggle-mode menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;"><path d="M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"/></svg></a> <div class="menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></div> <div class="menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"/></svg></div> <div class="menu-btn-child menu-toc-btn" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M48 48a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm448 16H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16z"/></svg></div> <div class="menu-btn-child menu-btn-sidebar" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M14 2a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1V3a1 1 0 011-1h12zM2 1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V3a2 2 0 00-2-2H2z"/><path d="M3 4a1 1 0 011-1h2a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V4z"/></svg></div></div></div></div> <div class="footer-wrapper footer" data-v-2f609db5 data-v-60b9a85e><span data-v-2f609db5>
      &copy; <a href="https://lujunandapai.github.io/" target="_blank">是阿派啊! </a> 2000 - 2024
      <br>
      祝我们 - <a href="https://gitee.com/LuisApai" target="_blank">平安喜乐</a> &
      <a href="https://github.com/LuJunandapai" target="_blank">万事顺遂</a>
    </span></div></div><div class="global-ui"></div></div>
    <script src="/Welcome/assets/js/app.516fe79a.js" defer></script><script src="/Welcome/assets/js/8.d7055a2e.js" defer></script><script src="/Welcome/assets/js/1.ed48a7ee.js" defer></script><script src="/Welcome/assets/js/2.9a3f7cc9.js" defer></script><script src="/Welcome/assets/js/69.08639d21.js" defer></script>
  </body>
</html>
