(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{556:function(s,a,t){"use strict";t.r(a);var r=t(65),e=Object(r.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-linux虚拟机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-linux虚拟机"}},[s._v("#")]),s._v(" 1.Linux虚拟机")]),s._v(" "),t("h3",{attrs:{id:"vmware-workstation-pro"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vmware-workstation-pro"}},[s._v("#")]),s._v(" VMware Workstation Pro")]),s._v(" "),t("blockquote",[t("p",[s._v("傻瓜式安装")])]),s._v(" "),t("p",[s._v("**创建: **")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220621101900625.png",alt:"image-20220621101900625"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220621101916102.png",alt:"image-20220621101916102"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220621101935396.png",alt:"image-20220621101935396"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220621102008124.png",alt:"image-20220621102008124"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/PGZV7JG5MX$0D7XE0%5DGOWIU.jpg",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220718200051937.png",alt:"image-20220718200051937"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/Z0LD80%7BPG%7BH$XP7YXG3Q%5D%5BE.jpg",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/2%5BSVFLG%7DVO49%7DSRC@I_4%5BA1.jpg",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220718200122676.png",alt:"image-20220718200122676"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/8(4L7YK)HCR9VAROEF%25WK7C.jpg",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/LTW%5B6A$LD$RR%7D@IAPLNOUV.jpg",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220718200146012.png",alt:"image-20220718200146012"}})]),s._v(" "),t("h2",{attrs:{id:"_2-xshell-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-xshell-7"}},[s._v("#")]),s._v(" 2.Xshell 7")]),s._v(" "),t("ul",[t("li",[s._v("连接Linux系统的可视化工具 | 傻瓜式安装")])]),s._v(" "),t("h2",{attrs:{id:"_3-xftp-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-xftp-7"}},[s._v("#")]),s._v(" 3.Xftp 7")]),s._v(" "),t("ul",[t("li",[s._v("连接Linux系统的可视化文件传输工具 | 傻瓜式安装")])]),s._v(" "),t("h2",{attrs:{id:"_4-docker-应用部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-docker-应用部署"}},[s._v("#")]),s._v(" 4.Docker 应用部署")]),s._v(" "),t("h3",{attrs:{id:"_1-mysql-部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-mysql-部署"}},[s._v("#")]),s._v(" 1.mysql  部署")]),s._v(" "),t("p",[s._v("1、搜索mysql镜像")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker search mysql")]),s._v("\n")])])]),t("p",[s._v("2、拉取mysql镜像")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker pull mysql:5.6")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker pull mysql:8.0.25")]),s._v("\n")])])]),t("p",[s._v("3、创建目录  在/root目录下创建mysql目录用于存储mysql数据信息")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mkdir mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cd mysql")]),s._v("\n")])])]),t("p",[s._v("4、创建容器，设置端口映射和目录映射")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("此段为一句话 注意最后面为 版本号 未镜像则会先下载镜像\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3307")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3307")]),s._v(" 被 容器的数据库"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("端口映射 外部可通过宿主机"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3307")]),s._v("端口访问\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e MYSQL_ROOT_PASSWORD"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  在创建容器进行写入配置\n注意"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" mysql "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".25")]),s._v(" 连接外部需开启远程访问 对照下方解决方法\n")])])]),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("docker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 3307:3306 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name=c_mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("restart=always "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("logs:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e MYSQL_ROOT_PASSWORD=root mysql:8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("25\n\ndocker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 3307:3306 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name=Apai_mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("restart=always "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Apai_File"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Apai_File"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("logs:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Apai_File"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e MYSQL_ROOT_PASSWORD=root mysql:8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("25\n\ndocker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 3307:3306 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name=Apai_mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("restart=always "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e MYSQL_ROOT_PASSWORD=root mysql:8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("25\n")])])]),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3307")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("  将容器的 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" 端口映射到宿主机的 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3307")]),s._v("端口\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d 将宿主机当前mysql目录里面的 conf目录挂载到容器的 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d目录下，在mysql5的版本中，mysql容器启动默认加载 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnf配置文件，这个文件没有什么内容，只是文件的末尾有"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("句\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("includedir "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("和"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("includedir "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("，表示这两个目录里面的文件都可以作为参数文件，mysql会读取这两个目录里面的"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnf结尾的文件，而"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("目录里面虽然有以"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnf 末尾结尾的文件，但是都没内容，所以我们把这个目录conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d和宿主机的"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf做一个映射，那么在宿主机的该目录下放一些"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnf文件会同步到"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d就可以作为mysql的参数文件了，一旦做了映射，那么etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d目录就为空了。另外 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("目录的下有mysql的参数文件 mysqld"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnf，这个文件配置了mysql启动时的进程id，datadir数据目录等\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、容器的mysql启动后，日志文件保存在"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql目录里 \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("、容器的mysql启动后，数据库文件保存在"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql目录里 会同步到宿主机目录\n")])])]),t("p",[s._v("当然我们也可以不用挂载")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker run -id -p 3307:3306 --name=c_mysql -e MYSQL_ROOT_PASSWORD=root mysql:5.6")]),s._v("\n")])])]),t("p",[t("strong",[s._v("navicat连接; ip地址 端口为 3307")])]),s._v(" "),t("p",[t("strong",[s._v("安装mysql8版本")])]),s._v(" "),t("p",[s._v("如果是8.0.25的数据库，navicat连接报错1251-Client does not support")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 创建容器 未挂载\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker run -id -p 1001:3306  --name=c_mysql --restart=always -e MYSQL_ROOT_PASSWORD=root mysql:8.0.25")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 进入容器\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker exec -it Apai_mysql /bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 在容器内 登录数据库\nroot@053f48be0dc7:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -uroot -proot")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 设置远程客户端（如navicat）连接的密码，不是mysql服务器的登录密码\nmysql> ALTER USER "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" IDENTIFIED WITH mysql_native_password BY "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lj102528@'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("使用外部机器连接容器中的mysql")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("记一次mysql启动报错。查看日志报错为：\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Can")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t open and lock privilege tables: Table storage engine for '")]),s._v("user'\n方案：将datadir路径下的文件清空，然后执行如下命令：\nmysqld "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("initialize "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("basedir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("datadir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql\n然后重启：service mysql start \n")])])]),t("h3",{attrs:{id:"_2-tomcat-部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-tomcat-部署"}},[s._v("#")]),s._v(" 2.Tomcat  部署")]),s._v(" "),t("p",[s._v("1、搜索tomcat镜像")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker search tomcat")]),s._v("\n")])])]),t("p",[s._v("2、拉取tomcat镜像")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker pull tomcat:8")]),s._v("\n")])])]),t("p",[s._v("3、创建容器，设置端口映射、目录映射")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在/root目录下创建tomcat目录用于存储tomcat数据信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir tomcat")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd tomcat")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost tomcat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker run -id --name=c_tomcat -p 8080:8080 -v $PWD:/usr/local/tomcat/webapps tomcat:8")]),s._v("\n")])])]),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("参数说明：\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("：将容器的"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("端口映射到主机的"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("端口  \n    （第一个"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("是宿主机端口用来和tomcat做映射的，第二个"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("是容器启动tomcat端口"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("，第二个端口是tomcat容器默认启动的端口）\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v $PWD"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tomcat"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("webapps：将主机中当前目录挂载到容器的webapps \n")])])]),t("p",[s._v("4、使用外部机器访问tomcat")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在宿主机目录/root/tomcat下创建test目录。并在test目录下创建index.html。那么test目录会同步到c_tomcat容器的 /usr/local/tomcat/webapps里面")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@localhost")]),s._v(" tomcat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# mkdir test\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@localhost")]),s._v(" tomcat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# cd test"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@localhost")]),s._v(" test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# vim index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html #在index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html里面编写 "),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("h1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("hello tomcat"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("h1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("p",[s._v("浏览器测试访问：")]),s._v(" "),t("p",[s._v("http://192.168.128.130:8080/test/index.html")]),s._v(" "),t("h3",{attrs:{id:"_3-nginx-部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-nginx-部署"}},[s._v("#")]),s._v(" 3.Nginx  部署")]),s._v(" "),t("p",[s._v("1、搜索nginx镜像")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker search nginx")]),s._v("\n")])])]),t("p",[s._v("2、拉取nginx镜像")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker pull nginx")]),s._v("\n")])])]),t("p",[s._v("3、创建目录")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mkdir nginx")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cd nginx")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mkdir conf")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cd conf")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#vim nginx.conf")]),s._v("\n")])])]),t("p",[s._v("4、编写nginx.conf配置文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("user  nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nworker_processes  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nerror_log  /var/log/nginx/error.log warn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\npid        /var/run/nginx.pid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nevents "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    worker_connections  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nhttp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    include       /etc/nginx/mime.types"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    default_type  application/octet-stream"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    log_format  main  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$remote_addr - $remote_user [$time_local] \"$request\" '")]),s._v("\n                      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$status $body_bytes_sent \"$http_referer\" '")]),s._v("\n                      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'"$http_user_agent" "$http_x_forwarded_for"\'')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    access_log  /var/log/nginx/access.log  main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    sendfile        on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    keepalive_timeout  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    include /etc/nginx/conf.d/*.conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("说明：\n第四步其实可以省略，默认创建一个nginx容器，会在"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("目录下生成一个叫nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf的配置文件，nginx容器启动会去加载该文件，该文件的内容和第四步配置文件的内容相同。这个文件的末尾有include "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*.conf;\n这句话，也就说在conf.d目录下并且以conf结尾的文件都会被加载，而这个目录下只有一个配置文件就是default.conf，default.conf文件的内容配置了一个server节点，以及默认访问nginx的目录和首页（/html/index.html）\n")])])])]),t("p",[s._v("5、创建nginx容器、端口映射、目录挂载")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker run -id --name=c_nginx \\")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 80:80 \\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf \\  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#不挂载这个配置文件也是可以的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("logs:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx \\                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#nginx容器默认的日志文件保存到/var/log/nginx目录下")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("share"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html \\             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#nginx默认会去访问/usr/share/nginx/html下的index.html")]),s._v("\nnginx\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" nginx的配置文件也可以进行 挂载 否则使用vim在容器进行修改\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d\n\ndocker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name=c_nginx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 80:80 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("logs:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("share"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html nginx\n\ndocker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name=c_nginx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 81:80 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 8004:8004 nginx\n")])])]),t("blockquote",[t("p",[s._v("如果你不想挂载，所有的都可以不挂载，如果所有的都不挂载，默认情况，当创建nginx容器时，在/etc/nginx/目录下有nginx.conf这个文件，这个文件是nginx的配置文件，nginx容器启动的时候会去读这个配置文件")])]),s._v(" "),t("p",[s._v("6、在宿主机的/root/nginx/html目录下新建 index.html，让其同步到/usr/share/nginx/html目录下")]),s._v(" "),t("p",[s._v("测试访问：http://192.168.128.130/")]),s._v(" "),t("h3",{attrs:{id:"_4-redis-部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-redis-部署"}},[s._v("#")]),s._v(" 4.Redis  部署")]),s._v(" "),t("p",[s._v("1、搜索redis镜像")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker search redis")]),s._v("\n")])])]),t("p",[s._v("2、拉取redis镜像")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker pull redis:5.0")]),s._v("\n")])])]),t("p",[s._v("3、创建容器，设置端口映射")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker run -id --name=Apai_redis -p 6379:6379 --restart=always --restart=always redis:5.0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#docker run -id --name=c_redis2 -p 6380:6380 -v /root/redis/conf/redis.conf:/usr/local/bin/myredis.conf redis:5.0 /bin/bash -c "redis-server /usr/local/bin/myredis.conf"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##把宿主机的redis.conf的port 改成port 6380")]),s._v("\n\ndocker run -id --name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Apai_redis -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(":6379 --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -v /Apai_File/redis/conf/redis.conf:/usr/local/bin/myredis.conf redis:5.0 /bin/bash -c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redis-server /usr/local/bin/myredis.conf"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##把宿主机的redis.conf的port 改成port 6380")]),s._v("\ndocker run -id --name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Apai_redis -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6380")]),s._v(":6379 --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always redis:5.0 /bin/bash -c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redis-server /usr/local/bin/myredis.conf"')]),s._v("\n")])])]),t("p",[s._v("4、使用外部机器连接redis")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#./redis-cli.exe -h 192.168.149.135 -p 6379")]),s._v("\n")])])]),t("h3",{attrs:{id:"_5-rabbitmq-消息队列"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-rabbitmq-消息队列"}},[s._v("#")]),s._v(" 5.RabbitMq 消息队列")]),s._v(" "),t("p",[t("strong",[s._v("注意:")])]),s._v(" "),t("p",[s._v("在java配置连接 消息队列  设置虚拟主机为:")]),s._v(" "),t("p",[s._v("1.拉去rabbitMq镜像")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("docker pull rabbitmq:management\n")])])]),t("p",[s._v("2.创建rabbitmq相关挂载目录")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /root/local/rabbitmq/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("data,conf,log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("3.创建完成之后要对所创建文件授权权限，都设置成777 否则在启动容器的时候容易失败")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" -R "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /root/local/rabbitmq\n")])])]),t("p",[s._v("4.镜像创建和启动容器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("docker run --privileged"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5672")]),s._v(":5672 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15672")]),s._v(":15672 --name rabbitmq -v /root/local/rabbitmq/data:/var/lib/rabbitmq -v /root/local/rabbitmq/conf:/etc/rabbitmq -v /root/local/rabbitmq/log:/var/log/rabbitmq --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always --hostname"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rabbitmqhost -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_VHOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("my_vhost -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_PASS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin rabbitmq\n    \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解析    ")]),s._v("\n端口映射 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5672")]),s._v(":5672 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15672")]),s._v(":15672\n容器名称 --name rabbitmq \n设置用户密码及镜像名 -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_PASS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin rabbitmq\n")])])]),t("p",[s._v("5.进入容器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it rabbitmq "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])])]),t("p",[s._v("6.开启web管理端")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("rabbitmq-plugins "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" rabbitmq_management\n")])])]),t("p",[s._v("附加:")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".首先进入容器 docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it rabbitmq /bin/bash\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".创建用户 rabbitmqctl add_user admin1 admin1\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".给用户授权角色 rabbitmqctl set_user_tags admin1 administrator\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".给用户添加权限 rabbitmqctl set_permissions -p / admin1 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v("\n")])])]),t("p",[s._v("页面访问: http://192.168.174.133:15672")]),s._v(" "),t("h3",{attrs:{id:"_6-nacos-注册中心"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-nacos-注册中心"}},[s._v("#")]),s._v(" 6.Nacos 注册中心")]),s._v(" "),t("p",[s._v("https://blog.csdn.net/u013305864/article/details/125611099")]),s._v(" "),t("p",[s._v("编写docker-compose.yml文件   启动该文件 命令： docker-compose up")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nacos/nacos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("latest\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nacos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" PREFER_HOST_MODE=hostname\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" MODE=standalone   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#单机模式启动")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./8848/logs/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/home/nacos/logs   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#前面是宿主机名  后面是容器目录名")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./8848/init.d/custom.properties"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/home/nacos/init.d/custom.properties\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8848:8848"')]),s._v("\n\n")])])]),t("p",[s._v("nacos 的默认服务端口是 "),t("strong",[s._v("8848")]),s._v(" ，启动完成之后通过浏览器访问 nacos：http://127.0.0.1:8848/nacos 。")]),s._v(" "),t("p",[t("strong",[s._v("第一种")]),s._v("（不推荐，因为不能连接数据库，进行持久化）")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#搜索可以使用的镜像")]),s._v("\ndocker search nacos\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拉取镜像")]),s._v("\ndocker pull nacos/nacos-server\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行nacos  挂载  --restart=always -> 表示docker容器开机自启")]),s._v("\ndocker  run --name nacos -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v(":8848 --privileged"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JVM_XMS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256m -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JVM_XMX")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256m -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MODE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("standalone -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PREFER_HOST_MODE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("hostname -v /data/nacos/logs:/home/nacos/logs -v /data/nacos/conf:/home/nacos/conf nacos/nacos-server\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不挂载 --restart=always -> 表示docker容器开机自启")]),s._v("\ndocker run --name Apai_nacos -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v(":8848 --privileged"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JVM_XMS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256m -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JVM_XMX")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256m -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MODE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("standalone -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PREFER_HOST_MODE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("hostname nacos/nacos-server\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--restart=always 开机启动")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#检查是否启动")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#访问地址 默认账号密码是nacos/nacos")]),s._v("\nhttp://ip:8848/nacos\nhttp://175.178.126.61:8848/nacos\n")])])]),t("p",[s._v("第二种（强烈推荐用这种方式，因为可以持久化数据到数据库中，就算nacos容器出现了问题，数据也不受影响）\n创建数据库脚本\nhttps://github.com/alibaba/nacos/blob/master/config/src/main/resources/META-INF/nacos-db.sql")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#推荐使用这种方式，可以连接自己的数据库")]),s._v("\ndocker run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v(":8848 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9848")]),s._v(":9848 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--name nacos "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--env "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MODE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("standalone "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--env "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SPRING_DATASOURCE_PLATFORM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--env "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_HOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.12 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--env "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_PORT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--env "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_DB_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nacos "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--env "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--env "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("wisesoft "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nnacos/nacos-server:latest\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#访问地址 默认账号密码是nacos/nacos")]),s._v("\nhttp://ip:8848/nacos\n")])])]),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// -------- 补充 -----------")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 拉取指定版本的nacos https://blog.csdn.net/weixin_41798072/article/details/125945878")]),s._v("\ndocker pull nacos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nacos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 不挂载 --restart=always -> 表示docker容器开机自启")]),s._v("\ndocker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Apai_nacos")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("privileged"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e JVM_XMS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e JVM_XMX"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e MODE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("standalone "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e PREFER_HOST_MODE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("hostname nacos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nacos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\n")])])]),t("h3",{attrs:{id:"_7-minio-对象存储"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-minio-对象存储"}},[s._v("#")]),s._v(" 7.Minio 对象存储")]),s._v(" "),t("p",[t("strong",[s._v("拉取 minio 镜像")])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// minio 文件对象存储 类似阿里云oss")]),s._v("\ndocker pull minio"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("minio \n")])])]),t("p",[t("strong",[s._v("创建 minio 容器")])]),s._v(" "),t("ul",[t("li",[s._v('--console-address ":9000" 表示minio的 前端页面的端口')]),s._v(" "),t("li",[s._v('--address ":9090" 表示minio的文件上传API 的端口 | 在yml 需配置 9090')])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("docker run -id --name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("minio -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v(":9090 -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_PROMETHEUS_AUTH_TYPE=public"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_USER=minioadmin"')]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_PASSWORD=minioadmin"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /mnt/minio/data:/data -v /mnt/minio/config:/root/.minio minio/minio server /data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--console-address "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":9000"')]),s._v(" --address "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":9090"')]),s._v("\n")])])]),t("blockquote",[t("p",[s._v('--console-address ":9000" --address ":9090"  docker使用静态的固定端口，以避免启动时使用随机端口')])]),s._v(" "),t("p",[s._v("浏览器访问：192.168.128.128:9000")]),s._v(" "),t("p",[s._v("java上传:  9090")]),s._v(" "),t("h2",{attrs:{id:"_5-rabbitmq-直装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-rabbitmq-直装"}},[s._v("#")]),s._v(" 5.Rabbitmq 直装")]),s._v(" "),t("blockquote",[t("p",[s._v("rabbitmq 默认端口: 5672   内置web页面默认端口: 15672")])]),s._v(" "),t("p",[s._v("说明：请使用资料里提供的CentOS-7-x86_64-DVD-1810.iso 安装虚拟机.")]),s._v(" "),t("h3",{attrs:{id:"_1-安装依赖环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装依赖环境"}},[s._v("#")]),s._v(" 1. 安装依赖环境")]),s._v(" "),t("p",[s._v("在线安装依赖环境：")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" build-essential openssl openssl-devel unixODBC unixODBC-devel "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" gcc gcc-c++ kernel-devel m4 ncurses-devel tk tc xz\n")])])]),t("h3",{attrs:{id:"_2-安装erlang"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装erlang"}},[s._v("#")]),s._v(" 2. 安装Erlang")]),s._v(" "),t("p",[s._v("根据课前提供的资料，上传如下三个rpm文件")]),s._v(" "),t("p",[s._v("erlang-18.3-1.el7.centos.x86_64.rpm\nsocat-1.7.3.2-5.el7.lux.x86_64.rpm\nrabbitmq-server-3.6.5-1.noarch.rpm")]),s._v(" "),t("p",[s._v("1、安装erlang-18.3-1.el7.centos.x86_64.rpm")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh erlang-18.3-1.el7.centos.x86_64.rpm\n")])])]),t("blockquote",[t("p",[t("strong",[s._v("出错才进行一下配置")])]),s._v(" "),t("p",[s._v("如果不是采用CentOS-7-x86_64-DVD-1810.iso安装的系统，则有可能出现如下错误")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/1565526174751.png",alt:"1565526174751"}})]),s._v(" "),t("p",[s._v("说明gblic 版本太低。我们可以查看当前机器的gblic 版本")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("strings /lib64/libc.so.6 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" GLIBC  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#有的机器当前最高版本2.12，需要2.15.所以需要升级glibc")]),s._v("\n")])])]),t("p",[s._v("首先使用yum更新安装依赖")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" -y\n")])])]),t("p",[s._v("然后使用wget命令下载要安装的rpm包")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-utils-2.17-55.el6.x86_64.rpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-static-2.17-55.el6.x86_64.rpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-2.17-55.el6.x86_64.rpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-common-2.17-55.el6.x86_64.rpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-devel-2.17-55.el6.x86_64.rpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-headers-2.17-55.el6.x86_64.rpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/nscd-2.17-55.el6.x86_64.rpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])]),t("p",[s._v("安装rpm包")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh *-2.17-55.el6.x86_64.rpm --force --nodeps\n")])])]),t("p",[s._v("安装完毕后再查看glibc版本")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("strings /lib64/libc.so.6 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" GLIBC  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#发现glibc版本已经到2.17了")]),s._v("\n")])])]),t("h3",{attrs:{id:"_3-安装rabbitmq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装rabbitmq"}},[s._v("#")]),s._v(" 3. 安装RabbitMQ")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#rpm -ivh socat-1.7.3.2-1.1.el7.x86_64.rpm --nodeps")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#rpm -ivh rabbitmq-server-3.6.5-1.noarch.rpm")]),s._v("\n")])])]),t("h3",{attrs:{id:"_4-开启管理界面及配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-开启管理界面及配置"}},[s._v("#")]),s._v(" 4. 开启管理界面及配置")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启管理界面")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#rabbitmq-plugins enable rabbitmq_management")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改默认配置信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@localhost ~]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#vim /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.5/ebin/rabbit.app ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 比如修改密码、配置等等，例如：loopback_users 中的 <<"guest">>,只保留guest')]),s._v("\n\n")])])]),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20210315112551706.png",alt:"image-20210315112551706"}})]),s._v(" "),t("h3",{attrs:{id:"_5-rabbitmq-server服务启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-rabbitmq-server服务启动"}},[s._v("#")]),s._v(" 5. rabbitmq-server服务启动")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#service rabbitmq-server start # 启动服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#service rabbitmq-server stop # 停止服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#service rabbitmq-server restart # 重启服务")]),s._v("\n")])])]),t("h3",{attrs:{id:"_6-配置虚拟主机及用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-配置虚拟主机及用户"}},[s._v("#")]),s._v(" 6. 配置虚拟主机及用户")]),s._v(" "),t("h3",{attrs:{id:"_6-1-用户角色"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-用户角色"}},[s._v("#")]),s._v(" 6.1. 用户角色")]),s._v(" "),t("p",[s._v("RabbitMQ在安装好后，可以访问http://ip地址:15672；其自带了guest/guest的用户名和密码；如果需要创建自定义用户；那么也可以登录管理界面后，如下操作：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/1565098043833.png",alt:"1565098043833"}})]),s._v(" "),t("p",[s._v("当然我们也可以添加一个其他的用户，点击admin，在右侧点击users")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220117191320550.png",alt:"image-20220117191320550"}})]),s._v(" "),t("blockquote",[t("p",[s._v("角色说明：")]),s._v(" "),t("p",[s._v("1、超级管理员(administrator)：可登陆管理控制台，可查看所有的信息，并且可以对用户，策略(policy)进行操作。\n2、监控者(monitoring):可登陆管理控制台，同时可以查看rabbitmq节点的相关信息(进程数，内存使用情况，磁盘使用情况等)\n3、策略制定者(policymaker):可登陆管理控制台, 同时可以对policy进行管理。但无法查看节点的相关信息(上图红框标识的部分)。\n4、普通管理者(management):仅可登陆管理控制台，无法看到节点信息，也无法对策略进行管理。\n5、其他:无法登陆管理控制台，通常就是普通的生产者和消费者。")])]),s._v(" "),t("h3",{attrs:{id:"_6-2-virtual-hosts配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-virtual-hosts配置"}},[s._v("#")]),s._v(" 6.2. Virtual Hosts配置")]),s._v(" "),t("p",[s._v("像mysql拥有数据库的概念并且可以指定用户对库和表等操作的权限。RabbitMQ也有类似的权限管理；在RabbitMQ中可以虚拟消息服务器Virtual Host，每个Virtual Hosts相当于一个相对独立的RabbitMQ服务器，每个VirtualHost之间是相互隔离的。exchange、queue、message不能互通。 相当于mysql的db。Virtual Name一般以/开头。")]),s._v(" "),t("h4",{attrs:{id:"_6-2-1-创建virtual-hosts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-1-创建virtual-hosts"}},[s._v("#")]),s._v(" 6.2.1. 创建Virtual Hosts")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220117191703283.png",alt:"image-20220117191703283"}})]),s._v(" "),t("h4",{attrs:{id:"_6-2-2-设置virtual-hosts权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-2-设置virtual-hosts权限"}},[s._v("#")]),s._v(" 6.2.2. 设置Virtual Hosts权限")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220117191749626.png",alt:"image-20220117191749626"}})]),s._v(" "),t("h4",{attrs:{id:"_6-2-3-用户绑定virtualhost"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-3-用户绑定virtualhost"}},[s._v("#")]),s._v(" 6.2.3 用户绑定virtualhost")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220117191959072.png",alt:"image-20220117191959072"}})]),s._v(" "),t("h3",{attrs:{id:"_7-添加rabbitmq配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-添加rabbitmq配置文件"}},[s._v("#")]),s._v(" 7. 添加rabbitMQ配置文件")]),s._v(" "),t("p",[s._v("在管理界面的overview里面，下面有如下配置，找不到队列的配置文件")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://apaiimages.oss-cn-guangzhou.aliyuncs.com/MD/image-20220117192125072.png",alt:"image-20220117192125072"}})]),s._v(" "),t("p",[s._v("复制rabbitmq的配置文件到/etc/rabbitmq里面里面，操作如下")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cd /usr/share/doc/rabbitmq-server-3.6.5/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cp rabbitmq.config.example /etc/rabbitmq/rabbitmq.config")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#service rabbitmq-server restart")]),s._v("\n")])])]),t("h2",{attrs:{id:"_6-docker-desktop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-docker-desktop"}},[s._v("#")]),s._v(" 6. Docker Desktop")]),s._v(" "),t("blockquote",[t("p",[s._v("Win系统内置Linux系统 且可视化 Docker 容器")])]),s._v(" "),t("ul",[t("li",[s._v("Docker Desktop  "),t("a",{attrs:{href:"https://docs.docker.com/desktop/install/windows-install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方下载地址")]),s._v(" "),t("a",{attrs:{href:"https://www.aliyundrive.com/s/WsXjXH7WbZG",target:"_blank",rel:"noopener noreferrer"}},[s._v("Apai 网盘地址")])]),s._v(" "),t("li",[s._v("安装参考"),t("a",{attrs:{href:"https://blog.csdn.net/m0_73795841/article/details/127441288",target:"_blank",rel:"noopener noreferrer"}},[s._v("地址")])]),s._v(" "),t("li",[s._v("启动报错 wsl_update_x64.msi "),t("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载地址")])])]),s._v(" "),t("h3",{attrs:{id:"docker-desktop-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-desktop-安装"}},[s._v("#")]),s._v(" Docker Desktop  安装")]),s._v(" "),t("p",[s._v("1.安装"),t("a",{attrs:{href:"https://so.csdn.net/so/search?q=docker&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker")]),s._v(" desktop for windows需要Hype-v的支持")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("以管理员运行一下脚本即可")])]),s._v(" "),t("li",[t("p",[s._v("脚本名称：  Docker Desktop .cmd")])]),s._v(" "),t("li",[t("p",[s._v("可能会循环几遍 ，停止循环，最后输入y，安装完毕，重启电脑")])])]),s._v(" "),t("div",{staticClass:"language-cmd extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('pushd "%~dp0"\ndir /b %SystemRoot%\\servicing\\Packages\\*Hyper-V*.mum >hyper-v.txt\nfor /f %%i in (\'findstr /i . hyper-v.txt 2^>nul\') do dism /online /norestart /add-package:"%SystemRoot%\\servicing\\Packages\\%%i"\ndel hyper-v.txt\nDism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL\n')])])]),t("p",[s._v("2.查看是否脚本运行成功")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("win 搜索")]),s._v(" 打开或关闭windows功能")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/LuJunandapai/ApaiImage@main/MaYun-PicGo/image-20230520142654644.png",alt:"image-20230520142654644"}})]),s._v(" "),t("p",[s._v("3.Docker Desktop for Windows 下载:")]),s._v(" "),t("ul",[t("li",[s._v("正常安装即可")])]),s._v(" "),t("p",[s._v("4.如遇到报错 wsl_update_x64.msi "),t("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载地址")]),s._v(" 下载运行即可")]),s._v(" "),t("p",[s._v("5.cmd黑窗口:  可直接输入docker 相关的命令即可")]),s._v(" "),t("h3",{attrs:{id:"创建容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建容器"}},[s._v("#")]),s._v(" 创建容器")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 拉取镜像")]),s._v("\ndocker pull redis"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v("\ndocker pull nacos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nacos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\ndocker pull mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.6")]),s._v("\n   \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建容器")]),s._v("\ndocker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Apai_nacos")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("privileged"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e JVM_XMS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e JVM_XMX"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("m "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e MODE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("standalone "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e PREFER_HOST_MODE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("hostname nacos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nacos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\n    \ndocker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Apai_redis")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always redis"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v("\n    \ndocker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3307")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Apai_mysql")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e MYSQL_ROOT_PASSWORD"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.6")]),s._v("\n")])])]),t("h2",{attrs:{id:"_7-linux命令行提示-fish"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-linux命令行提示-fish"}},[s._v("#")]),s._v(" 7.Linux命令行提示-Fish")]),s._v(" "),t("blockquote",[t("p",[s._v("fish是一个用户友好的命令行"),t("a",{attrs:{href:"http://baike.baidu.com/view/542.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("外壳程序")]),s._v("全称Friendly Interactive Shell可用于如 "),t("a",{attrs:{href:"http://baike.baidu.com/view/1634.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux")]),s._v(" 这样的 Unix 类"),t("a",{attrs:{href:"http://baike.baidu.com/view/880.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("操作系统")]),s._v("中")])]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("在开始输入命令的时候，fish 会自动补齐命令。\n如果推荐的命令不是你想要的，按下键盘的 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Tab")]),s._v(" 键可以浏览更多选择。\n如果正好是你想要的，按下键盘的向右键补齐命令，然后按下 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enter")]),s._v(" 执行。\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 参考: https://blog.csdn.net/anyhowanywhere/article/details/125282679")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 参考: https://blog.csdn.net/oiken/article/details/71081959")]),s._v("\n")])])]),t("h3",{attrs:{id:"fish-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fish-安装"}},[s._v("#")]),s._v(" Fish 安装")]),s._v(" "),t("p",[s._v("1.用下面的命令更新仓库：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum repolist\nyum update\n")])])]),t("p",[s._v("2.然后用下面的命令安装 fish：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum install fish\n")])])]),t("p",[s._v("3.改为默认shell")]),s._v(" "),t("div",{staticClass:"language-crystal extra-class"},[t("pre",{pre:!0,attrs:{class:"language-crystal"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行这条命令查看路径")]),s._v("\nwhich fish\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我的路径如下")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fish\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置默认shell")]),s._v("\nchsh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fish\n")])])]),t("p",[s._v("4.重启终端打开即可")]),s._v(" "),t("h3",{attrs:{id:"fish-使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fish-使用"}},[s._v("#")]),s._v(" Fish 使用")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如何使用 Fish Shell ？")]),s._v("\n一旦你成功安装了 fish shell 。只需在你的终端上输入 fish ，它将自动从默认的 bash shell 切换到 fish shell\nfish 用起来可能没你想象的那么直观。记住，fish 是一个 shell，所以在使用命令之前你得先登录进去。在你的终端里，运行命令 fish 然后你就会看到自己已经打开了一个新的 shell\n在开始输入命令的时候，fish 会自动补齐命令。\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 如果推荐的命令不是你想要的，按下键盘的 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Tab")]),s._v(" 键可以浏览更多选择。\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 如果正好是你想要的，按下键盘的向右键补齐命令，然后按下 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enter")]),s._v(" 执行。\n在用完 fish 后，输入 exit 来退出 shell\nhistory 可以查看历史命令，history "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("grep command可以搜索历史命令\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);