"use strict";(self["webpackChunkaftersaleweb"]=self["webpackChunkaftersaleweb"]||[]).push([[345],{7242:function(e,t,l){l.d(t,{J3:function(){return n},Wf:function(){return u},_0:function(){return i},cL:function(){return d},e_:function(){return m},oz:function(){return r},pm:function(){return s},xe:function(){return o}});var a=l(3745);function o(){return(0,a.Z)({url:"/api/role/getRolePullDown",method:"get"})}function i(e){return(0,a.Z)({url:"/api/resourceInfo/getResourceInfoPullDown",method:"get",params:e})}function r(){return(0,a.Z)({url:"/api/userAdmin/getUserAdminPullDown",method:"get"})}function s(e){return(0,a.Z)({url:"/api/userAdmin/listUserAdminSelected",method:"post",data:e})}function n(){return(0,a.Z)({url:"/api/series/getSeriesPullDown",method:"get"})}function u(){return(0,a.Z)({url:"/api/function/getFunctionPullDown",method:"get"})}function d(){return(0,a.Z)({url:"/api/spuInfo/getSpuInfoPullDown",method:"get"})}function m(e){return(0,a.Z)({url:"/api/dict/getDictPullDown",method:"get",params:e})}},3745:function(e,t,l){l(560);var a=l(1076),o=l(7178),i=l(6666),r=l(1120),s=l(2388);const n=a.Z.create({baseURL:{NODE_ENV:"production",BASE_URL:"/",VUE_APP_BACKEND_API_URL:"http://121.43.50.177:9010",VUE_APP_BACKEND_WEB_URL:"http://121.43.50.177:9004/#"}.VUE_APP_BASE_API,timeout:5e3}),u=(0,s.mS)(),d="zh-CN"===u?"提示":"Prompt";n.interceptors.request.use((e=>{const t=e.url.toLowerCase();return t.includes("clientele")||(e.headers.token=window.localStorage.getItem("token")),e.headers.language=u,e}),(e=>(console.log("Request Error:",e),Promise.reject(e)))),n.interceptors.response.use((e=>200===e.status&&200===e.data.status?e:2002===e.data.status||502===e.data.status?((0,o.z8)({message:e.data.msg,type:"warning"}),r.Z.push("/login"),Promise.reject(new Error(e.data.msg))):void(0,i.bM)({title:d,message:e.data.msg,type:"error"})),(e=>{let t=e.response.data;t.path,t.status,t.message;return(0,i.bM)({title:d,message:t.message,type:"info"}),Promise.reject(e)})),t.Z=n},1925:function(e,t,l){l.d(t,{EH:function(){return o},bS:function(){return s},dJ:function(){return r},ow:function(){return i}});var a=l(3745);function o(e){return(0,a.Z)({url:"/api/spuInfo/listSpuInfo",method:"post",data:e})}function i(e){return(0,a.Z)({url:"/api/spuInfo/saveSpuInfo",method:"post",data:e})}function r(e){return(0,a.Z)({url:"/api/spuInfo/updateSpuInfo",method:"post",data:e})}function s(e){return(0,a.Z)({url:"/api/spuInfo/deleteSpuInfoById",method:"get",params:e})}},3885:function(e,t,l){function a(e){let t=JSON.parse(window.localStorage.getItem("account"));return!!t.symbolList.includes(e)}function o(){let e="afterSpu.select",t="afterSpu.selectAndRegion",l="afterSpu.selectAndUser",a=JSON.parse(window.localStorage.getItem("account"));return a.symbolList.includes(l)?3:a.symbolList.includes(t)?2:a.symbolList.includes(e)?1:void 0}l.d(t,{a:function(){return a},j:function(){return o}})},2388:function(e,t,l){function a(e){if(e){let e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():elem.msRequestFullscreen&&elem.msRequestFullscreen()}else document.exitFullscreen&&document.exitFullscreen()}function o(){let e=navigator.language,t=window.localStorage.getItem("navigatorLanguage");return t&&(e=t),"zh-CN"==e?"zh-CN":"en-US"}function i(){let e=window.localStorage.getItem("themeSwitch");return"true"==e}l.d(t,{mS:function(){return o},mq:function(){return a},sq:function(){return i}})},232:function(e,t,l){l.r(t),l.d(t,{default:function(){return F}});var a=l(9003);const o={class:"moduleBoxView"},i={class:"moduleFrom"},r={class:"moduletTable",ref:"tableDiv"},s={class:"modulePagination"};function n(e,t,l,n,u,d){const m=(0,a.up)("el-input"),p=(0,a.up)("el-form-item"),c=(0,a.up)("el-option"),h=(0,a.up)("el-select"),f=(0,a.up)("el-button"),w=(0,a.up)("el-form"),g=(0,a.up)("el-table-column"),b=(0,a.up)("el-avatar"),S=(0,a.up)("el-switch"),V=(0,a.up)("el-table"),$=(0,a.up)("el-pagination"),W=(0,a.up)("spu-operate");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",i,[(0,a.Wm)(w,{inline:!0,model:e.fromData,class:"demo-form-inline","label-width":80,"label-position":"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{label:e.$t("SpuView.spuNameQuery")},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:e.fromData.spuName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fromData.spuName=t),placeholder:e.$t("SpuView.spuNameQueryPlaceholder")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(p,{label:e.$t("SpuView.series")},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{filterable:"",modelValue:e.fromData.series,"onUpdate:modelValue":t[1]||(t[1]=t=>e.fromData.series=t),placeholder:e.$t("SpuView.seriesPlaceholder")},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.selectData.seriesList,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(p,{label:e.$t("SpuView.function")},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{filterable:"",modelValue:e.fromData.function,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fromData.function=t),placeholder:e.$t("SpuView.functionPlaceholder")},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.selectData.functionList,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(p,{label:e.$t("SpuView.createUser")},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{filterable:"",modelValue:e.fromData.createUser,"onUpdate:modelValue":t[3]||(t[3]=t=>e.fromData.createUser=t),placeholder:e.$t("SpuView.createUserPlaceholder")},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.selectData.userList,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{type:"primary",onClick:t[4]||(t[4]=e=>d.listData()),icon:"Search"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.search")),1)])),_:1}),(0,a.Wm)(f,{type:"info",onClick:t[5]||(t[5]=e=>d.reset()),icon:"Loading"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.reset")),1)])),_:1}),(0,a.wy)((0,a.Wm)(f,{type:"success",onClick:t[6]||(t[6]=e=>d.add())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.add")),1)])),_:1},512),[[a.F8,d.isButton("spu.add")]])])),_:1})])),_:1},8,["model"])]),(0,a._)("div",r,[(0,a.Wm)(V,{data:e.tableData,height:e.tabHeight,stripe:"",border:"",fit:"","highlight-current-row":"","empty-text":e.$t("common.table.noData"),style:{width:"100%","margin-bottom":"5px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{fixed:"",type:"index",label:e.$t("common.table.number"),width:"90"},null,8,["label"]),(0,a.Wm)(g,{prop:"spuCode",label:e.$t("SpuView.spuCode"),width:"180","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{prop:"spuName",label:e.$t("SpuView.spuName"),width:"150","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{prop:"nameEn",label:e.$t("SpuView.nameEn"),width:"150","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{prop:"spuImg",label:e.$t("SpuView.spuImg"),width:"100"},{default:(0,a.w5)((({row:e})=>[(0,a.Wm)(b,{shape:"square",size:40,src:d.getUrl(e.spuImg)},null,8,["src"])])),_:1},8,["label"]),(0,a.Wm)(g,{prop:"seriesName",label:e.$t("SpuView.series"),width:"150","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{prop:"functionName",label:e.$t("SpuView.function"),width:"120","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{prop:"specs",label:e.$t("SpuView.specs"),width:"180","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{prop:"remarks",label:e.$t("SpuView.remarks"),width:"250","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{prop:"remarksEn",label:e.$t("SpuView.remarksEn"),width:"350","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{prop:"createUserNmae",label:e.$t("SpuView.createUser"),width:"180","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{prop:"createTime",label:e.$t("SpuView.createTime"),width:"180","show-overflow-tooltip":""},null,8,["label"]),(0,a.Wm)(g,{fixed:"right",prop:"enable",label:e.$t("SpuView.enable"),width:"90","show-overflow-tooltip":""},{default:(0,a.w5)((({row:e,column:t,$index:l})=>[(0,a.Wm)(S,{modelValue:e.enable,"onUpdate:modelValue":t=>e.enable=t,onChange:t=>d.handleSwitchChange(e),"active-value":1,"inactive-value":0},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1},8,["label"]),(0,a.Wm)(g,{fixed:"right",label:e.$t("common.table.operation"),width:"250"},{default:(0,a.w5)((t=>[(0,a.Wm)(f,{type:"primary",size:"small",onClick:e=>d.goOperate(t.$index,t.row,"detail")},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.detail")),1)])),_:2},1032,["onClick"]),(0,a.wy)((0,a.Wm)(f,{type:"warning",size:"small",onClick:e=>d.goOperate(t.$index,t.row,"edit")},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.edit")),1)])),_:2},1032,["onClick"]),[[a.F8,d.isButton("spu.update")]]),(0,a.wy)((0,a.Wm)(f,{type:"danger",size:"small",onClick:e=>d.deleteRow(t.$index,t.row)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.delete")),1)])),_:2},1032,["onClick"]),[[a.F8,d.isButton("spu.delete")]])])),_:1},8,["label"])])),_:1},8,["data","height","empty-text"])],512),(0,a._)("div",s,[(0,a.Wm)($,{background:"","current-page":e.pageNum,"onUpdate:currentPage":t[7]||(t[7]=t=>e.pageNum=t),"page-size":e.pageSize,"onUpdate:pageSize":t[8]||(t[8]=t=>e.pageSize=t),"page-sizes":[10,30,50,75,100],small:!1,layout:"prev, pager, next, sizes, jumper, total",total:e.total,onSizeChange:d.handleSizeChange,onCurrentChange:d.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),(0,a.Wm)(W,{ref:"operate",onOperateClick:d.listData},null,8,["onOperateClick"])])}l(560);var u=l(3885),d=l(7242),m=l(4775),p=l(6666),c=l(1925);const h=e=>((0,a.dD)("data-v-0af20a32"),e=e(),(0,a.Cn)(),e),f={id:"style-operate"},w=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple"},null,-1))),g=["src"],b=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple-light"},null,-1))),S=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple-light"},null,-1))),V=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple"},null,-1))),$=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple-light"},null,-1))),W=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple"},null,-1))),_=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple-light"},null,-1))),y=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple-dark"},null,-1))),v=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple-dark"},null,-1))),D=h((()=>(0,a._)("div",{class:"grid-content ep-bg-purple-dark"},null,-1))),k={class:"dialog-footer"};function U(e,t,l,o,i,r){const s=(0,a.up)("Plus"),n=(0,a.up)("el-icon"),u=(0,a.up)("el-upload"),d=(0,a.up)("el-col"),m=(0,a.up)("el-input"),p=(0,a.up)("el-form-item"),c=(0,a.up)("el-row"),h=(0,a.up)("el-option"),U=(0,a.up)("el-select"),C=(0,a.up)("el-form"),N=(0,a.up)("el-button"),P=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",f,[(0,a.Wm)(P,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":t[10]||(t[10]=t=>e.dialogFormVisible=t),"before-close":r.beforeClose,title:e.titleName,width:"1000",draggable:""},{footer:(0,a.w5)((()=>[(0,a._)("span",k,[(0,a.Wm)(N,{onClick:t[8]||(t[8]=e=>r.closeButton())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.cancel")),1)])),_:1}),(0,a.wy)((0,a.Wm)(N,{type:"primary",onClick:t[9]||(t[9]=e=>r.submitButton())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.confirm")),1)])),_:1},512),[[a.F8,"detail"!=e.type]])])])),default:(0,a.w5)((()=>[(0,a.Wm)(C,{model:e.form,rules:e.rules,ref:"ruleForm","label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{span:4},{default:(0,a.w5)((()=>[w,(0,a.Wm)(u,{class:"avatar-uploader",action:"/api/uploadFile/uploadFile",data:e.fileData,headers:e.headers,"show-file-list":!1,"on-success":r.handleAvatarSuccess,"before-upload":r.beforeAvatarUpload},{default:(0,a.w5)((()=>[e.form.urlStr?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.form.urlStr,class:"avatar"},null,8,g)):((0,a.wg)(),(0,a.j4)(n,{key:1,class:"avatar-uploader-icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(s)])),_:1}))])),_:1},8,["data","headers","on-success","before-upload"])])),_:1}),(0,a.Wm)(d,{span:20},{default:(0,a.w5)((()=>[b,(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{span:12},{default:(0,a.w5)((()=>[S,"add"!=e.type?((0,a.wg)(),(0,a.j4)(p,{key:0,label:e.$t("SpuView.spuCode"),"label-width":e.formLabelWidth},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{readonly:!0,modelValue:e.form.spuCode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.spuCode=t),placeholder:e.$t("SpuView.spuCodePlaceholder"),autocomplete:"off"},null,8,["modelValue","placeholder"])])),_:1},8,["label","label-width"])):(0,a.kq)("",!0)])),_:1})])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{span:12},{default:(0,a.w5)((()=>[V,(0,a.Wm)(p,{label:e.$t("SpuView.spuName"),prop:"spuName","label-width":e.formLabelWidth},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{readonly:e.isReadonly,modelValue:e.form.spuName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.spuName=t),placeholder:e.$t("SpuView.spuNamePlaceholder"),autocomplete:"off"},null,8,["readonly","modelValue","placeholder"])])),_:1},8,["label","label-width"])])),_:1}),(0,a.Wm)(d,{span:12},{default:(0,a.w5)((()=>[$,(0,a.Wm)(p,{label:e.$t("SpuView.nameEn"),prop:"nameEn","label-width":e.formLabelWidth},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{readonly:e.isReadonly,modelValue:e.form.nameEn,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.nameEn=t),placeholder:e.$t("SpuView.nameEnPlaceholder"),autocomplete:"off"},null,8,["readonly","modelValue","placeholder"])])),_:1},8,["label","label-width"])])),_:1})])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{span:12},{default:(0,a.w5)((()=>[W,(0,a.Wm)(p,{label:e.$t("SpuView.function"),prop:"function","label-width":e.formLabelWidth},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{filterable:"",modelValue:e.form.function,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.function=t),placeholder:e.$t("SpuView.functionPlaceholder")},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.selectData.functionList,(e=>((0,a.wg)(),(0,a.j4)(h,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label","label-width"])])),_:1}),(0,a.Wm)(d,{span:12},{default:(0,a.w5)((()=>[_,(0,a.Wm)(p,{label:e.$t("SpuView.series"),prop:"series","label-width":e.formLabelWidth},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{filterable:"",modelValue:e.form.series,"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.series=t),placeholder:e.$t("SpuView.seriesPlaceholder")},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.selectData.seriesList,(e=>((0,a.wg)(),(0,a.j4)(h,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label","label-width"])])),_:1})])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{span:24},{default:(0,a.w5)((()=>[y,(0,a.Wm)(p,{label:e.$t("SpuView.specs"),"label-width":e.formLabelWidth},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{readonly:e.isReadonly,modelValue:e.form.specs,"onUpdate:modelValue":t[5]||(t[5]=t=>e.form.specs=t),placeholder:e.$t("SpuView.specsPlaceholder"),style:{width:"100%"},autocomplete:"off"},null,8,["readonly","modelValue","placeholder"])])),_:1},8,["label","label-width"])])),_:1})])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{span:24},{default:(0,a.w5)((()=>[v,(0,a.Wm)(p,{label:e.$t("SpuView.remarks"),"label-width":e.formLabelWidth},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{type:"textarea",modelValue:e.form.remarks,"onUpdate:modelValue":t[6]||(t[6]=t=>e.form.remarks=t),placeholder:e.$t("SpuView.remarksPlaceholder"),readonly:e.isReadonly,autocomplete:"off"},null,8,["modelValue","placeholder","readonly"])])),_:1},8,["label","label-width"])])),_:1}),(0,a.Wm)(d,{span:24},{default:(0,a.w5)((()=>[D,(0,a.Wm)(p,{label:e.$t("SpuView.remarksEn"),"label-width":e.formLabelWidth},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{type:"textarea",modelValue:e.form.remarksEn,"onUpdate:modelValue":t[7]||(t[7]=t=>e.form.remarksEn=t),placeholder:e.$t("SpuView.remarksEnPlaceholder"),readonly:e.isReadonly,autocomplete:"off"},null,8,["modelValue","placeholder","readonly"])])),_:1},8,["label","label-width"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","before-close","title"])])}var C={name:"style-operate",data:function(){return{dialogFormVisible:!1,rowData:{},form:{},rules:{spuName:[{required:!0,message:this.$t("SpuView.spuNamePlaceholder"),trigger:"blur"}],nameEn:[{required:!0,message:this.$t("SpuView.nameEnPlaceholder"),trigger:"blur"}],function:[{required:!0,message:this.$t("SpuView.functionPlaceholder"),trigger:"change"}],series:[{required:!0,message:this.$t("SpuView.seriesPlaceholder"),trigger:"change"}]},type:"",titleName:this.$t("common.dialog.defaultTitle"),isReadonly:!1,formLabelWidth:"120px",selectData:{},headers:{},fileData:{folder:"userPhotoUrl"}}},watch:{type(e,t){""!=e&&("add"==e&&(this.titleName=this.$t("common.dialog.addTitle")),"edit"==e&&(this.titleName=this.$t("common.dialog.editTitle")),"detail"==e&&(this.titleName=this.$t("common.dialog.detailTitle")))}},created(){this.headers={token:localStorage.getItem("token")}},mounted(){this.getPullDownData()},methods:{getPullDownData(){(0,d.Wf)().then((e=>{200==e.data.status&&(this.selectData.functionList=e.data.data)})).catch((e=>{})),(0,d.J3)().then((e=>{200==e.data.status&&(this.selectData.seriesList=e.data.data)})).catch((e=>{}))},beforeClose(e){this.closeButton(),e()},closeButton(){this.dialogFormVisible=!1,this.isReadonly=!1,this.form={},this.rowData={},this.$refs.ruleForm.resetFields()},submitButton(){this.$refs.ruleForm.validate((e=>{if(!e)return!1;"add"==this.type?(0,c.ow)(this.form).then((e=>{200==e.data.status&&(this.dialogFormVisible=!1,(0,p.bM)({title:this.$t("common.message.successTitle"),message:e.data.msg,type:"success"}),this.$emit("operateClick"))})).catch((e=>{})):"edit"==this.type&&(0,c.dJ)(this.form).then((e=>{200==e.data.status&&(this.dialogFormVisible=!1,(0,p.bM)({title:this.$t("common.message.successTitle"),message:e.data.msg,type:"success"}),this.$emit("operateClick"))})).catch((e=>{})),this.closeButton()}))},handleAvatarSuccess(e,t){200==e.status?(this.form.spuImg=e.data,this.form.urlStr="http://121.43.50.177:9010"+e.data):this.$message.error(this.$t("common.message.networkError"))},beforeAvatarUpload(e){const t="image/jpeg"===e.type||"image/png"===e.type,l=e.size/1024/1024<2;return t||(0,p.bM)({title:this.$t("common.message.tipsTitle"),message:this.$t("common.message.uploadError"),type:"info"}),l||(0,p.bM)({title:this.$t("common.message.tipsTitle"),message:this.$t("common.message.uploadSizeError"),type:"info"}),t&&l}}},N=l(89);const P=(0,N.Z)(C,[["render",U],["__scopeId","data-v-0af20a32"]]);var z=P,E={name:"styleVeiw",components:{spuOperate:z},data:function(){return{tabHeight:0,selectData:{},fromData:{},tableData:[],total:0,pages:0,pageNum:1,pageSize:30}},mounted(){this.getSelectData(),this.listData(),this.refreshTableHeight()},methods:{refreshTableHeight(){const e=new ResizeObserver((e=>{for(const t of e)t.target===this.$refs.tableDiv&&(this.tabHeight=this.$refs.tableDiv.offsetHeight-20)}));e.observe(this.$refs.tableDiv)},isButton(e){return(0,u.a)(e)},getUrl(e){return"http://121.43.50.177:9010"+e},addurl(e){if(!e)return[];let t=[];return t.push(this.getUrl(e)),t},getSelectData(){(0,d.oz)().then((e=>{200==e.data.status&&(this.selectData.userList=e.data.data)})).catch((e=>{})),(0,d.J3)().then((e=>{200==e.data.status&&(this.selectData.seriesList=e.data.data)})).catch((e=>{})),(0,d.Wf)().then((e=>{200==e.data.status&&(this.selectData.functionList=e.data.data)})).catch((e=>{}))},listData(){const e=m.kN.service({lock:!0,text:this.$t("common.loadingText"),background:"rgba(0, 0, 0, 0.7)"});this.fromData.pageSize=this.pageSize,this.fromData.pageNum=this.pageNum,(0,c.EH)(this.fromData).then((e=>{this.tableData=e.data.data.list,this.total=e.data.data.total,this.pages=e.data.data.pages,this.pageNum=e.data.data.pageNum,this.pageSize=e.data.data.pageSize})).catch((e=>{console.log(e,"erro")})).finally((()=>{e.close()}))},handleSizeChange(e){console.log(`每页 ${e} 条`),this.pageNum=1,this.pageSize=e,this.listData()},handleCurrentChange(e){console.log(`当前页: ${e}`),this.pageNum=e,this.listData()},reset(){this.fromData={},this.listData()},add(){this.$refs.operate.dialogFormVisible=!0,this.$refs.operate.type="add"},goOperate(e,t,l){t.urlStr=this.getUrl(t.spuImg),this.$refs.operate.dialogFormVisible=!0,this.$refs.operate.type=l,"detail"==l?(this.$refs.operate.isReadonly=!0,this.$refs.operate.form=JSON.parse(JSON.stringify(t))):"edit"==l&&(this.$refs.operate.rowData=t,this.$refs.operate.form=JSON.parse(JSON.stringify(t)))},handleSwitchChange(e){(0,c.dJ)(e).then((e=>{200==e.data.status&&(0,p.bM)({title:this.$t("common.message.successTitle"),message:e.data.msg,type:"success"})})).catch((e=>{}))},deleteRow(e,t){this.$confirm(this.$t("common.dialog.deleteTips"),this.$t("common.dialog.deleteTitle"),{confirmButtonText:this.$t("common.button.confirm"),cancelButtonText:this.$t("common.button.cancel"),type:"warning"}).then((()=>{(0,c.bS)({id:t.id}).then((t=>{200==t.data.status&&(this.tableData.splice(e,1),(0,p.bM)({title:this.$t("common.message.successTitle"),message:t.data.msg,type:"success"}))})).catch((e=>{}))}))}}};const L=(0,N.Z)(E,[["render",n],["__scopeId","data-v-55c553bf"]]);var F=L}}]);
//# sourceMappingURL=345.c4a4c40b.js.map