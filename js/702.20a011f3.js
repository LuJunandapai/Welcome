"use strict";(self["webpackChunkaftersaleweb"]=self["webpackChunkaftersaleweb"]||[]).push([[702],{7242:function(e,t,n){n.d(t,{J3:function(){return u},Wf:function(){return s},_0:function(){return l},cL:function(){return c},e_:function(){return d},oz:function(){return r},pm:function(){return i},xe:function(){return o}});var a=n(3745);function o(){return(0,a.Z)({url:"/api/role/getRolePullDown",method:"get"})}function l(e){return(0,a.Z)({url:"/api/resourceInfo/getResourceInfoPullDown",method:"get",params:e})}function r(){return(0,a.Z)({url:"/api/userAdmin/getUserAdminPullDown",method:"get"})}function i(e){return(0,a.Z)({url:"/api/userAdmin/listUserAdminSelected",method:"post",data:e})}function u(){return(0,a.Z)({url:"/api/series/getSeriesPullDown",method:"get"})}function s(){return(0,a.Z)({url:"/api/function/getFunctionPullDown",method:"get"})}function c(){return(0,a.Z)({url:"/api/spuInfo/getSpuInfoPullDown",method:"get"})}function d(e){return(0,a.Z)({url:"/api/dict/getDictPullDown",method:"get",params:e})}},7568:function(e,t,n){n.d(t,{CL:function(){return h},HR:function(){return s},LV:function(){return i},MA:function(){return m},Nw:function(){return f},V4:function(){return u},Zl:function(){return l},_q:function(){return d},gV:function(){return r},ox:function(){return o},pB:function(){return c},sA:function(){return g},zz:function(){return p}});var a=n(3745);function o(){return(0,a.Z)({url:"/api/clientele/listProblemClientele",method:"get"})}function l(){return(0,a.Z)({url:"/api/clientele/getFunctionClientele",method:"get"})}function r(e){return(0,a.Z)({url:"/api/clientele/getSpuByFunctionClientele",method:"get",params:e})}function i(e){return(0,a.Z)({url:"/api/clientele/getDictPullDownClientele",method:"get",params:e})}function u(){return(0,a.Z)({url:"/api/clientele/getRegionPullDown",method:"get"})}function s(e){return(0,a.Z)({url:"/api/clientele/saveAfterClientele",method:"post",data:e})}function c(e){return(0,a.Z)({url:"/api/clientele/listAfterFlowBySelcetUrlClientele",method:"post",data:e})}function d(e){return(0,a.Z)({url:"/api/clientele/saveAfterFlowClientele",method:"post",data:e})}function p(e){return(0,a.Z)({url:"/api/clientele/finishAfterClientele",method:"post",data:e})}function m(){return(0,a.Z)({url:"/api/clientele/listMessagePushClientele",method:"get"})}function f(e){return(0,a.Z)({url:"/api/clientele/saveAffairClientele",method:"post",data:e})}function h(e){return(0,a.Z)({url:"/api/clientele/getAffairDetailByIdClientele",method:"get",params:e})}function g(e){return(0,a.Z)({url:"/api/clientele/signForClientele",method:"post",data:e})}},3745:function(e,t,n){n(560);var a=n(1076),o=n(7178),l=n(6666),r=n(1120),i=n(2388);const u=a.Z.create({baseURL:{NODE_ENV:"production",BASE_URL:"/",VUE_APP_BACKEND_API_URL:"http://121.43.50.177:9010",VUE_APP_BACKEND_WEB_URL:"http://121.43.50.177:9004/#"}.VUE_APP_BASE_API,timeout:5e3}),s=(0,i.mS)(),c="zh-CN"===s?"提示":"Prompt";u.interceptors.request.use((e=>{const t=e.url.toLowerCase();return t.includes("clientele")||(e.headers.token=window.localStorage.getItem("token")),e.headers.language=s,e}),(e=>(console.log("Request Error:",e),Promise.reject(e)))),u.interceptors.response.use((e=>200===e.status&&200===e.data.status?e:2002===e.data.status||502===e.data.status?((0,o.z8)({message:e.data.msg,type:"warning"}),r.Z.push("/login"),Promise.reject(new Error(e.data.msg))):void(0,l.bM)({title:c,message:e.data.msg,type:"error"})),(e=>{let t=e.response.data;t.path,t.status,t.message;return(0,l.bM)({title:c,message:t.message,type:"info"}),Promise.reject(e)})),t.Z=u},1925:function(e,t,n){n.d(t,{EH:function(){return o},bS:function(){return i},dJ:function(){return r},ow:function(){return l}});var a=n(3745);function o(e){return(0,a.Z)({url:"/api/spuInfo/listSpuInfo",method:"post",data:e})}function l(e){return(0,a.Z)({url:"/api/spuInfo/saveSpuInfo",method:"post",data:e})}function r(e){return(0,a.Z)({url:"/api/spuInfo/updateSpuInfo",method:"post",data:e})}function i(e){return(0,a.Z)({url:"/api/spuInfo/deleteSpuInfoById",method:"get",params:e})}},8350:function(e,t,n){function a(e){const t=new Date(e),n=t.getUTCFullYear(),a=t.getUTCMonth()+1,o=t.getUTCDate(),l=t.getUTCHours()+8,r=t.getUTCMinutes(),u=t.getUTCSeconds(),s=`${n}-${i(a)}-${i(o)} ${i(l)}:${i(r)}:${i(u)}`;return s}function o(e){const t=new Date(e),n=t.getUTCFullYear(),a=t.getUTCMonth()+1,o=t.getUTCDate(),l=`${n}-${i(a)}-${i(o)}`;return l}function l(e){const t=new Date(e),n=t.getUTCFullYear(),a=t.getUTCMonth()+1,o=`${n}-${i(a)}`;return o}function r(e){const t=new Date(e),n=Number(t.getUTCFullYear());return n+""}function i(e){return e.toString().padStart(2,"0")}function u(e){var t=new Date(e),n=t.getDay(),a=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],o=a[n];return o}function s(e){var t=new Date(e),n=t.getDay(),a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=a[n];return o}function c(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),o(n)}n.d(t,{Gz:function(){return s},QS:function(){return l},d$:function(){return c},ho:function(){return o},ne:function(){return u},om:function(){return a},zH:function(){return r}})},3885:function(e,t,n){function a(e){let t=JSON.parse(window.localStorage.getItem("account"));return!!t.symbolList.includes(e)}function o(){let e="afterSpu.select",t="afterSpu.selectAndRegion",n="afterSpu.selectAndUser",a=JSON.parse(window.localStorage.getItem("account"));return a.symbolList.includes(n)?3:a.symbolList.includes(t)?2:a.symbolList.includes(e)?1:void 0}n.d(t,{a:function(){return a},j:function(){return o}})},2388:function(e,t,n){function a(e){if(e){let e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():elem.msRequestFullscreen&&elem.msRequestFullscreen()}else document.exitFullscreen&&document.exitFullscreen()}function o(){let e=navigator.language,t=window.localStorage.getItem("navigatorLanguage");return t&&(e=t),"zh-CN"==e?"zh-CN":"en-US"}function l(){let e=window.localStorage.getItem("themeSwitch");return"true"==e}n.d(t,{mS:function(){return o},mq:function(){return a},sq:function(){return l}})},717:function(e,t,n){n.d(t,{Z:function(){return f}});var a=n(9003);const o={id:"style-operate"},l={class:"demo-pagination-block"},r={class:"dialog-footer"};function i(e,t,n,i,u,s){const c=(0,a.up)("el-input"),d=(0,a.up)("el-form-item"),p=(0,a.up)("el-option"),m=(0,a.up)("el-select"),f=(0,a.up)("el-button"),h=(0,a.up)("el-form"),g=(0,a.up)("el-table-column"),w=(0,a.up)("el-avatar"),b=(0,a.up)("el-table"),D=(0,a.up)("el-pagination"),S=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(S,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":t[10]||(t[10]=t=>e.dialogFormVisible=t),"before-close":s.beforeClose,title:e.titleName,width:"1200",draggable:""},{footer:(0,a.w5)((()=>[(0,a._)("span",r,[(0,a.Wm)(f,{onClick:t[8]||(t[8]=e=>s.closeButton())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.cancel")),1)])),_:1}),(0,a.Wm)(f,{type:"primary",onClick:t[9]||(t[9]=e=>s.submitButton())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.confirm")),1)])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(h,{inline:!0,model:e.fromData,class:"demo-form-inline","label-width":100,"label-position":"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"编码/名称: "},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:e.fromData.spuName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fromData.spuName=t),placeholder:"请输入编码/名称"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{label:"系列: "},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{filterable:"",modelValue:e.fromData.series,"onUpdate:modelValue":t[1]||(t[1]=t=>e.fromData.series=t),placeholder:"请选择系列..."},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.selectData.seriesList,(e=>((0,a.wg)(),(0,a.j4)(p,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(d,{label:"功能: "},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{filterable:"",modelValue:e.fromData.function,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fromData.function=t),placeholder:"请选择功能..."},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.selectData.functionList,(e=>((0,a.wg)(),(0,a.j4)(p,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(d,{label:"创建人: "},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{filterable:"",modelValue:e.fromData.createUser,"onUpdate:modelValue":t[3]||(t[3]=t=>e.fromData.createUser=t),placeholder:"请选择创建人..."},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.selectData.userList,(e=>((0,a.wg)(),(0,a.j4)(p,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{type:"primary",onClick:t[4]||(t[4]=e=>s.listData()),icon:"Search"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.search")),1)])),_:1}),(0,a.Wm)(f,{type:"info",onClick:t[5]||(t[5]=e=>s.reset()),icon:"Loading"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,a.zw)(e.$t("common.button.reset")),1)])),_:1})])),_:1})])),_:1},8,["model"]),(0,a.Wm)(b,{data:e.tableData,ref:"multipleTable","tooltip-effect":"dark",stripe:"",border:"",fit:"","highlight-current-row":"","empty-text":e.$t("common.table.noData"),style:{width:"100%","margin-bottom":"5px"},"max-height":"300"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"selection",width:"55","show-overflow-tooltip":""}),(0,a.Wm)(g,{fixed:"",type:"index",label:e.$t("common.table.number"),width:"90"},null,8,["label"]),(0,a.Wm)(g,{prop:"spuCode",label:"产品编码",width:"180","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"spuName",label:"产品名称",width:"150","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"spuImg",label:"产品图片",width:"100"},{default:(0,a.w5)((({row:e})=>[(0,a.Wm)(w,{shape:"square",size:40,src:s.getUrl(e.spuImg)},null,8,["src"])])),_:1}),(0,a.Wm)(g,{prop:"seriesName",label:"系列名称",width:"150","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"functionName",label:"功能名称",width:"120","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"specs",label:"规格",width:"180","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"color",label:"颜色",width:"180","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"shape",label:"形状",width:"210","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"material",label:"材质",width:"180","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"model",label:"型号",width:"180","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"remarks",label:"备注",width:"180","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"createUserNmae",label:"创建人",width:"180","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"createTime",label:"创建时间",width:"180","show-overflow-tooltip":""}),(0,a.Wm)(g,{prop:"enable",label:"启用状态",width:"180","show-overflow-tooltip":""})])),_:1},8,["data","empty-text"]),(0,a._)("div",l,[(0,a.Wm)(D,{background:"","current-page":e.pageNum,"onUpdate:currentPage":t[6]||(t[6]=t=>e.pageNum=t),"page-size":e.pageSize,"onUpdate:pageSize":t[7]||(t[7]=t=>e.pageSize=t),"page-sizes":[10,30,50,75,100],small:!1,layout:"prev, pager, next, sizes, jumper, total",total:e.total,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])])),_:1},8,["modelValue","before-close","title"])])}n(560);var u=n(7242),s=n(1925),c=n(3885),d={name:"style-operate",data:function(){return{titleName:"产品选入框",dialogFormVisible:!1,selectData:{},fromData:{},tableData:[],total:0,pages:0,pageNum:1,pageSize:30,setDataList:[],updateList:[]}},mounted(){},methods:{isButton(e){return(0,c.a)(e)},getPullDownData(){(0,u.oz)().then((e=>{200==e.data.status&&(this.selectData.userList=e.data.data)})).catch((e=>{})),(0,u.J3)().then((e=>{200==e.data.status&&(this.selectData.seriesList=e.data.data)})).catch((e=>{})),(0,u.Wf)().then((e=>{200==e.data.status&&(this.selectData.functionList=e.data.data)})).catch((e=>{})),this.listData()},reset(){this.fromData={},this.listData()},listData(){this.fromData.pageSize=this.pageSize,this.fromData.pageNum=this.pageNum,(0,s.EH)(this.fromData).then((e=>{this.tableData=e.data.data.list,this.total=e.data.data.total,this.pages=e.data.data.pages,this.pageNum=e.data.data.pageNum,this.pageSize=e.data.data.pageSize,this.$nextTick((()=>{this.setSelection()}),300)})).catch((e=>{console.log(e,"erro")}))},handleSizeChange(e){this.updateList=[...this.updateList,...this.$refs.multipleTable.getSelectionRows()],console.log(`每页 ${e} 条`),this.pageNum=1,this.pageSize=e,this.listData()},handleCurrentChange(e){this.updateList=[...this.updateList,...this.$refs.multipleTable.getSelectionRows()],console.log(`当前页: ${e}`),this.pageNum=e,this.listData()},getUrl(e){return"http://121.43.50.177:9010"+e},setSelection(){if(!this.setDataList)return;let e=[];this.setDataList.forEach((t=>{e.push(t.spuId)})),this.tableData.forEach((t=>{e.includes(t.id)&&this.$refs.multipleTable.toggleRowSelection(t)}))},beforeClose(e){this.closeButton(),e()},closeButton(){this.dialogFormVisible=!1,this.isReadonly=!1,this.form={},this.rowData={}},submitButton(){let e=this.$refs.multipleTable.getSelectionRows();if(e.forEach((e=>{e.spuId=e.id})),this.setDataList){const t=JSON.parse(JSON.stringify(this.setDataList)),n=new Map;e=[...e,...this.updateList],e.forEach((e=>{e.spuId=e.id,n.set(e.spuId,e)})),t.forEach((e=>{n.has(e.spuId)&&n.set(e.spuId,e)})),e=Array.from(n.values())}this.dialogFormVisible=!1,this.$emit("childClick",e)}}},p=n(89);const m=(0,p.Z)(d,[["render",i],["__scopeId","data-v-9229901e"]]);var f=m}}]);
//# sourceMappingURL=702.20a011f3.js.map